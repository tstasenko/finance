var My=Object.defineProperty;var By=(s,a,l)=>a in s?My(s,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[a]=l;var im=(s,a,l)=>By(s,typeof a!="symbol"?a+"":a,l);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function l(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(c){if(c.ep)return;c.ep=!0;const h=l(c);fetch(c.href,h)}})();function Vm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Uo={exports:{}},bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function Ly(){if(sm)return bs;sm=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(r,c,h){var f=null;if(h!==void 0&&(f=""+h),c.key!==void 0&&(f=""+c.key),"key"in c){h={};for(var g in c)g!=="key"&&(h[g]=c[g])}else h=c;return c=h.ref,{$$typeof:s,type:r,key:f,ref:c!==void 0?c:null,props:h}}return bs.Fragment=a,bs.jsx=l,bs.jsxs=l,bs}var lm;function qy(){return lm||(lm=1,Uo.exports=Ly()),Uo.exports}var p=qy(),Do={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function Hy(){if(rm)return ie;rm=1;var s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),x=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,H={};function $(E,M,K){this.props=E,this.context=M,this.refs=H,this.updater=K||A}$.prototype.isReactComponent={},$.prototype.setState=function(E,M){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,M,"setState")},$.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function V(){}V.prototype=$.prototype;function q(E,M,K){this.props=E,this.context=M,this.refs=H,this.updater=K||A}var W=q.prototype=new V;W.constructor=q,B(W,$.prototype),W.isPureReactComponent=!0;var pe=Array.isArray;function ae(){}var Z={H:null,A:null,T:null,S:null},Re=Object.prototype.hasOwnProperty;function De(E,M,K){var Y=K.ref;return{$$typeof:s,type:E,key:M,ref:Y!==void 0?Y:null,props:K}}function Wt(E,M){return De(E.type,M,E.props)}function mt(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function Ie(E){var M={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(K){return M[K]})}var Pt=/\/+/g;function gt(E,M){return typeof E=="object"&&E!==null&&E.key!=null?Ie(""+E.key):M.toString(36)}function lt(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ae,ae):(E.status="pending",E.then(function(M){E.status==="pending"&&(E.status="fulfilled",E.value=M)},function(M){E.status==="pending"&&(E.status="rejected",E.reason=M)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function D(E,M,K,Y,ne){var ue=typeof E;(ue==="undefined"||ue==="boolean")&&(E=null);var me=!1;if(E===null)me=!0;else switch(ue){case"bigint":case"string":case"number":me=!0;break;case"object":switch(E.$$typeof){case s:case a:me=!0;break;case b:return me=E._init,D(me(E._payload),M,K,Y,ne)}}if(me)return ne=ne(E),me=Y===""?"."+gt(E,0):Y,pe(ne)?(K="",me!=null&&(K=me.replace(Pt,"$&/")+"/"),D(ne,M,K,"",function(En){return En})):ne!=null&&(mt(ne)&&(ne=Wt(ne,K+(ne.key==null||E&&E.key===ne.key?"":(""+ne.key).replace(Pt,"$&/")+"/")+me)),M.push(ne)),1;me=0;var Qe=Y===""?".":Y+":";if(pe(E))for(var Ee=0;Ee<E.length;Ee++)Y=E[Ee],ue=Qe+gt(Y,Ee),me+=D(Y,M,K,ue,ne);else if(Ee=w(E),typeof Ee=="function")for(E=Ee.call(E),Ee=0;!(Y=E.next()).done;)Y=Y.value,ue=Qe+gt(Y,Ee++),me+=D(Y,M,K,ue,ne);else if(ue==="object"){if(typeof E.then=="function")return D(lt(E),M,K,Y,ne);throw M=String(E),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return me}function G(E,M,K){if(E==null)return E;var Y=[],ne=0;return D(E,Y,"","",function(ue){return M.call(K,ue,ne++)}),Y}function P(E){if(E._status===-1){var M=E._result;M=M(),M.then(function(K){(E._status===0||E._status===-1)&&(E._status=1,E._result=K)},function(K){(E._status===0||E._status===-1)&&(E._status=2,E._result=K)}),E._status===-1&&(E._status=0,E._result=M)}if(E._status===1)return E._result.default;throw E._result}var ge=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},_e={map:G,forEach:function(E,M,K){G(E,function(){M.apply(this,arguments)},K)},count:function(E){var M=0;return G(E,function(){M++}),M},toArray:function(E){return G(E,function(M){return M})||[]},only:function(E){if(!mt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ie.Activity=O,ie.Children=_e,ie.Component=$,ie.Fragment=l,ie.Profiler=c,ie.PureComponent=q,ie.StrictMode=r,ie.Suspense=m,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ie.__COMPILER_RUNTIME={__proto__:null,c:function(E){return Z.H.useMemoCache(E)}},ie.cache=function(E){return function(){return E.apply(null,arguments)}},ie.cacheSignal=function(){return null},ie.cloneElement=function(E,M,K){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var Y=B({},E.props),ne=E.key;if(M!=null)for(ue in M.key!==void 0&&(ne=""+M.key),M)!Re.call(M,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&M.ref===void 0||(Y[ue]=M[ue]);var ue=arguments.length-2;if(ue===1)Y.children=K;else if(1<ue){for(var me=Array(ue),Qe=0;Qe<ue;Qe++)me[Qe]=arguments[Qe+2];Y.children=me}return De(E.type,ne,Y)},ie.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:h,_context:E},E},ie.createElement=function(E,M,K){var Y,ne={},ue=null;if(M!=null)for(Y in M.key!==void 0&&(ue=""+M.key),M)Re.call(M,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ne[Y]=M[Y]);var me=arguments.length-2;if(me===1)ne.children=K;else if(1<me){for(var Qe=Array(me),Ee=0;Ee<me;Ee++)Qe[Ee]=arguments[Ee+2];ne.children=Qe}if(E&&E.defaultProps)for(Y in me=E.defaultProps,me)ne[Y]===void 0&&(ne[Y]=me[Y]);return De(E,ue,ne)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(E){return{$$typeof:g,render:E}},ie.isValidElement=mt,ie.lazy=function(E){return{$$typeof:b,_payload:{_status:-1,_result:E},_init:P}},ie.memo=function(E,M){return{$$typeof:v,type:E,compare:M===void 0?null:M}},ie.startTransition=function(E){var M=Z.T,K={};Z.T=K;try{var Y=E(),ne=Z.S;ne!==null&&ne(K,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(ae,ge)}catch(ue){ge(ue)}finally{M!==null&&K.types!==null&&(M.types=K.types),Z.T=M}},ie.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ie.use=function(E){return Z.H.use(E)},ie.useActionState=function(E,M,K){return Z.H.useActionState(E,M,K)},ie.useCallback=function(E,M){return Z.H.useCallback(E,M)},ie.useContext=function(E){return Z.H.useContext(E)},ie.useDebugValue=function(){},ie.useDeferredValue=function(E,M){return Z.H.useDeferredValue(E,M)},ie.useEffect=function(E,M){return Z.H.useEffect(E,M)},ie.useEffectEvent=function(E){return Z.H.useEffectEvent(E)},ie.useId=function(){return Z.H.useId()},ie.useImperativeHandle=function(E,M,K){return Z.H.useImperativeHandle(E,M,K)},ie.useInsertionEffect=function(E,M){return Z.H.useInsertionEffect(E,M)},ie.useLayoutEffect=function(E,M){return Z.H.useLayoutEffect(E,M)},ie.useMemo=function(E,M){return Z.H.useMemo(E,M)},ie.useOptimistic=function(E,M){return Z.H.useOptimistic(E,M)},ie.useReducer=function(E,M,K){return Z.H.useReducer(E,M,K)},ie.useRef=function(E){return Z.H.useRef(E)},ie.useState=function(E){return Z.H.useState(E)},ie.useSyncExternalStore=function(E,M,K){return Z.H.useSyncExternalStore(E,M,K)},ie.useTransition=function(){return Z.H.useTransition()},ie.version="19.2.4",ie}var um;function nc(){return um||(um=1,Do.exports=Hy()),Do.exports}var re=nc();const Ym=Vm(re);var zo={exports:{}},_s={},ko={exports:{}},Mo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function $y(){return om||(om=1,(function(s){function a(D,G){var P=D.length;D.push(G);e:for(;0<P;){var ge=P-1>>>1,_e=D[ge];if(0<c(_e,G))D[ge]=G,D[P]=_e,P=ge;else break e}}function l(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var G=D[0],P=D.pop();if(P!==G){D[0]=P;e:for(var ge=0,_e=D.length,E=_e>>>1;ge<E;){var M=2*(ge+1)-1,K=D[M],Y=M+1,ne=D[Y];if(0>c(K,P))Y<_e&&0>c(ne,K)?(D[ge]=ne,D[Y]=P,ge=Y):(D[ge]=K,D[M]=P,ge=M);else if(Y<_e&&0>c(ne,P))D[ge]=ne,D[Y]=P,ge=Y;else break e}}return G}function c(D,G){var P=D.sortIndex-G.sortIndex;return P!==0?P:D.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var m=[],v=[],b=1,O=null,x=3,w=!1,A=!1,B=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function W(D){for(var G=l(v);G!==null;){if(G.callback===null)r(v);else if(G.startTime<=D)r(v),G.sortIndex=G.expirationTime,a(m,G);else break;G=l(v)}}function pe(D){if(B=!1,W(D),!A)if(l(m)!==null)A=!0,ae||(ae=!0,Ie());else{var G=l(v);G!==null&&lt(pe,G.startTime-D)}}var ae=!1,Z=-1,Re=5,De=-1;function Wt(){return H?!0:!(s.unstable_now()-De<Re)}function mt(){if(H=!1,ae){var D=s.unstable_now();De=D;var G=!0;try{e:{A=!1,B&&(B=!1,V(Z),Z=-1),w=!0;var P=x;try{t:{for(W(D),O=l(m);O!==null&&!(O.expirationTime>D&&Wt());){var ge=O.callback;if(typeof ge=="function"){O.callback=null,x=O.priorityLevel;var _e=ge(O.expirationTime<=D);if(D=s.unstable_now(),typeof _e=="function"){O.callback=_e,W(D),G=!0;break t}O===l(m)&&r(m),W(D)}else r(m);O=l(m)}if(O!==null)G=!0;else{var E=l(v);E!==null&&lt(pe,E.startTime-D),G=!1}}break e}finally{O=null,x=P,w=!1}G=void 0}}finally{G?Ie():ae=!1}}}var Ie;if(typeof q=="function")Ie=function(){q(mt)};else if(typeof MessageChannel<"u"){var Pt=new MessageChannel,gt=Pt.port2;Pt.port1.onmessage=mt,Ie=function(){gt.postMessage(null)}}else Ie=function(){$(mt,0)};function lt(D,G){Z=$(function(){D(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(D){D.callback=null},s.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<D?Math.floor(1e3/D):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(D){switch(x){case 1:case 2:case 3:var G=3;break;default:G=x}var P=x;x=G;try{return D()}finally{x=P}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var P=x;x=D;try{return G()}finally{x=P}},s.unstable_scheduleCallback=function(D,G,P){var ge=s.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ge+P:ge):P=ge,D){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=P+_e,D={id:b++,callback:G,priorityLevel:D,startTime:P,expirationTime:_e,sortIndex:-1},P>ge?(D.sortIndex=P,a(v,D),l(m)===null&&D===l(v)&&(B?(V(Z),Z=-1):B=!0,lt(pe,P-ge))):(D.sortIndex=_e,a(m,D),A||w||(A=!0,ae||(ae=!0,Ie()))),D},s.unstable_shouldYield=Wt,s.unstable_wrapCallback=function(D){var G=x;return function(){var P=x;x=G;try{return D.apply(this,arguments)}finally{x=P}}}})(Mo)),Mo}var cm;function Gy(){return cm||(cm=1,ko.exports=$y()),ko.exports}var Bo={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Ky(){if(hm)return it;hm=1;var s=nc();function a(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(m,v,b){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:O==null?null:""+O,children:m,containerInfo:v,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,it.createPortal=function(m,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(a(299));return h(m,v,null,b)},it.flushSync=function(m){var v=f.T,b=r.p;try{if(f.T=null,r.p=2,m)return m()}finally{f.T=v,r.p=b,r.d.f()}},it.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(m,v))},it.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},it.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var b=v.as,O=g(b,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,w=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?r.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:O,integrity:x,fetchPriority:w}):b==="script"&&r.d.X(m,{crossOrigin:O,integrity:x,fetchPriority:w,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},it.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);r.d.M(m,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(m)},it.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,O=g(b,v.crossOrigin);r.d.L(m,b,{crossOrigin:O,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},it.preloadModule=function(m,v){if(typeof m=="string")if(v){var b=g(v.as,v.crossOrigin);r.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(m)},it.requestFormReset=function(m){r.d.r(m)},it.unstable_batchedUpdates=function(m,v){return m(v)},it.useFormState=function(m,v,b){return f.H.useFormState(m,v,b)},it.useFormStatus=function(){return f.H.useHostTransitionStatus()},it.version="19.2.4",it}var fm;function Vy(){if(fm)return Bo.exports;fm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),Bo.exports=Ky(),Bo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function Yy(){if(dm)return _s;dm=1;var s=Gy(),a=nc(),l=Vy();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(h(e)!==e)throw Error(r(188))}function v(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var u=n.return;if(u===null)break;var o=u.alternate;if(o===null){if(i=u.return,i!==null){n=i;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===n)return m(u),e;if(o===i)return m(u),t;o=o.sibling}throw Error(r(188))}if(n.return!==i.return)n=u,i=o;else{for(var d=!1,y=u.child;y;){if(y===n){d=!0,n=u,i=o;break}if(y===i){d=!0,i=u,n=o;break}y=y.sibling}if(!d){for(y=o.child;y;){if(y===n){d=!0,n=o,i=u;break}if(y===i){d=!0,i=o,n=u;break}y=y.sibling}if(!d)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var O=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),De=Symbol.for("react.activity"),Wt=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function Ie(e){return e===null||typeof e!="object"?null:(e=mt&&e[mt]||e["@@iterator"],typeof e=="function"?e:null)}var Pt=Symbol.for("react.client.reference");function gt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Pt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case $:return"Profiler";case H:return"StrictMode";case pe:return"Suspense";case ae:return"SuspenseList";case De:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case q:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:gt(e.type)||"Memo";case Re:t=e._payload,e=e._init;try{return gt(e(t))}catch{}}return null}var lt=Array.isArray,D=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},ge=[],_e=-1;function E(e){return{current:e}}function M(e){0>_e||(e.current=ge[_e],ge[_e]=null,_e--)}function K(e,t){_e++,ge[_e]=e.current,e.current=t}var Y=E(null),ne=E(null),ue=E(null),me=E(null);function Qe(e,t){switch(K(ue,t),K(ne,e),K(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jd(t),e=Rd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(Y),K(Y,e)}function Ee(){M(Y),M(ne),M(ue)}function En(e){e.memoizedState!==null&&K(me,e);var t=Y.current,n=Rd(t,e.type);t!==n&&(K(ne,e),K(Y,n))}function Wn(e){ne.current===e&&(M(Y),M(ne)),me.current===e&&(M(me),gs._currentValue=P)}var Ei,Ti;function Qt(e){if(Ei===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ei=t&&t[1]||"",Ti=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ei+e+Ti}var Ea=!1;function Ta(e,t){if(!e||Ea)return"";Ea=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(N){var C=N}Reflect.construct(e,[],k)}else{try{k.call()}catch(N){C=N}e.call(k.prototype)}}else{try{throw Error()}catch(N){C=N}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(N){if(N&&C&&typeof N.stack=="string")return[N.stack,C.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),d=o[0],y=o[1];if(d&&y){var _=d.split(`
`),R=y.split(`
`);for(u=i=0;i<_.length&&!_[i].includes("DetermineComponentFrameRoot");)i++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(i===_.length||u===R.length)for(i=_.length-1,u=R.length-1;1<=i&&0<=u&&_[i]!==R[u];)u--;for(;1<=i&&0<=u;i--,u--)if(_[i]!==R[u]){if(i!==1||u!==1)do if(i--,u--,0>u||_[i]!==R[u]){var U=`
`+_[i].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=i&&0<=u);break}}}finally{Ea=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Qt(n):""}function pr(e,t){switch(e.tag){case 26:case 27:case 5:return Qt(e.type);case 16:return Qt("Lazy");case 13:return e.child!==t&&t!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return Ta(e.type,!1);case 11:return Ta(e.type.render,!1);case 1:return Ta(e.type,!0);case 31:return Qt("Activity");default:return""}}function Ai(e){try{var t="",n=null;do t+=pr(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Aa=Object.prototype.hasOwnProperty,Oa=s.unstable_scheduleCallback,L=s.unstable_cancelCallback,Lt=s.unstable_shouldYield,Ft=s.unstable_requestPaint,Xe=s.unstable_now,Oi=s.unstable_getCurrentPriorityLevel,en=s.unstable_ImmediatePriority,Bs=s.unstable_UserBlockingPriority,Ls=s.unstable_NormalPriority,yg=s.unstable_LowPriority,lc=s.unstable_IdlePriority,pg=s.log,bg=s.unstable_setDisableYieldValue,ji=null,vt=null;function Tn(e){if(typeof pg=="function"&&bg(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(ji,e)}catch{}}var yt=Math.clz32?Math.clz32:wg,_g=Math.log,Sg=Math.LN2;function wg(e){return e>>>=0,e===0?32:31-(_g(e)/Sg|0)|0}var qs=256,Hs=262144,$s=4194304;function Pn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var u=0,o=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~o,i!==0?u=Pn(i):(d&=y,d!==0?u=Pn(d):n||(n=y&~e,n!==0&&(u=Pn(n))))):(y=i&~o,y!==0?u=Pn(y):d!==0?u=Pn(d):n||(n=i&~e,n!==0&&(u=Pn(n)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:u}function Ri(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Eg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rc(){var e=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),e}function br(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tg(e,t,n,i,u,o){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var y=e.entanglements,_=e.expirationTimes,R=e.hiddenUpdates;for(n=d&~n;0<n;){var U=31-yt(n),k=1<<U;y[U]=0,_[U]=-1;var C=R[U];if(C!==null)for(R[U]=null,U=0;U<C.length;U++){var N=C[U];N!==null&&(N.lane&=-536870913)}n&=~k}i!==0&&uc(e,i,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(d&~t))}function uc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-yt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function oc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-yt(n),u=1<<i;u&t|e[i]&t&&(e[i]|=t),n&=~u}}function cc(e,t){var n=t&-t;return n=(n&42)!==0?1:_r(n),(n&(e.suspendedLanes|t))!==0?0:n}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hc(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Wd(e.type))}function fc(e,t){var n=G.p;try{return G.p=e,t()}finally{G.p=n}}var An=Math.random().toString(36).slice(2),We="__reactFiber$"+An,rt="__reactProps$"+An,ja="__reactContainer$"+An,wr="__reactEvents$"+An,Ag="__reactListeners$"+An,Og="__reactHandles$"+An,dc="__reactResources$"+An,Ci="__reactMarker$"+An;function Er(e){delete e[We],delete e[rt],delete e[wr],delete e[Ag],delete e[Og]}function Ra(e){var t=e[We];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ja]||n[We]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=kd(e);e!==null;){if(n=e[We])return n;e=kd(e)}return t}e=n,n=e.parentNode}return null}function xa(e){if(e=e[We]||e[ja]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ni(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ca(e){var t=e[dc];return t||(t=e[dc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[Ci]=!0}var mc=new Set,gc={};function Fn(e,t){Na(e,t),Na(e+"Capture",t)}function Na(e,t){for(gc[e]=t,e=0;e<t.length;e++)mc.add(t[e])}var jg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},yc={};function Rg(e){return Aa.call(yc,e)?!0:Aa.call(vc,e)?!1:jg.test(e)?yc[e]=!0:(vc[e]=!0,!1)}function Ks(e,t,n){if(Rg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Vs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function tn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xg(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){n=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tr(e){if(!e._valueTracker){var t=pc(e)?"checked":"value";e._valueTracker=xg(e,t,""+e[t])}}function bc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=pc(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cg=/[\n"\\]/g;function Rt(e){return e.replace(Cg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ar(e,t,n,i,u,o,d,y){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jt(t)):e.value!==""+jt(t)&&(e.value=""+jt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Or(e,d,jt(t)):n!=null?Or(e,d,jt(n)):i!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+jt(y):e.removeAttribute("name")}function _c(e,t,n,i,u,o,d,y){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){Tr(e);return}n=n!=null?""+jt(n):"",t=t!=null?""+jt(t):n,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Tr(e)}function Or(e,t,n){t==="number"&&Ys(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ua(e,t,n,i){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&i&&(e[n].defaultSelected=!0)}else{for(n=""+jt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Sc(e,t,n){if(t!=null&&(t=""+jt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+jt(n):""}function wc(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(r(92));if(lt(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=jt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Tr(e)}function Da(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ng=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ec(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Ng.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tc(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&n[u]!==i&&Ec(e,u,i)}else for(var o in t)t.hasOwnProperty(o)&&Ec(e,o,t[o])}function jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ug=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(e){return Dg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nn(){}var Rr=null;function xr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var za=null,ka=null;function Ac(e){var t=xa(e);if(t&&(e=t.stateNode)){var n=e[rt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ar(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var u=i[rt]||null;if(!u)throw Error(r(90));Ar(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&bc(i)}break e;case"textarea":Sc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ua(e,!!n.multiple,t,!1)}}}var Cr=!1;function Oc(e,t,n){if(Cr)return e(t,n);Cr=!0;try{var i=e(t);return i}finally{if(Cr=!1,(za!==null||ka!==null)&&(Dl(),za&&(t=za,e=ka,ka=za=null,Ac(t),e)))for(t=0;t<e.length;t++)Ac(e[t])}}function Ui(e,t){var n=e.stateNode;if(n===null)return null;var i=n[rt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(an)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Nr=!1}var On=null,Ur=null,Xs=null;function jc(){if(Xs)return Xs;var e,t=Ur,n=t.length,i,u="value"in On?On.value:On.textContent,o=u.length;for(e=0;e<n&&t[e]===u[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===u[o-i];i++);return Xs=u.slice(e,1<i?1-i:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zs(){return!0}function Rc(){return!1}function ut(e){function t(n,i,u,o,d){this._reactName=n,this._targetInst=u,this.type=i,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(o):o[y]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zs:Rc,this.isPropagationStopped=Rc,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),t}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=ut(ea),zi=O({},ea,{view:0,detail:0}),zg=ut(zi),Dr,zr,ki,Ws=O({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(Dr=e.screenX-ki.screenX,zr=e.screenY-ki.screenY):zr=Dr=0,ki=e),Dr)},movementY:function(e){return"movementY"in e?e.movementY:zr}}),xc=ut(Ws),kg=O({},Ws,{dataTransfer:0}),Mg=ut(kg),Bg=O({},zi,{relatedTarget:0}),kr=ut(Bg),Lg=O({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),qg=ut(Lg),Hg=O({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$g=ut(Hg),Gg=O({},ea,{data:0}),Cc=ut(Gg),Kg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yg[e])?!!t[e]:!1}function Mr(){return Qg}var Xg=O({},zi,{key:function(e){if(e.key){var t=Kg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jg=ut(Xg),Zg=O({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nc=ut(Zg),Ig=O({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),Wg=ut(Ig),Pg=O({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fg=ut(Pg),ev=O({},Ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tv=ut(ev),nv=O({},ea,{newState:0,oldState:0}),av=ut(nv),iv=[9,13,27,32],Br=an&&"CompositionEvent"in window,Mi=null;an&&"documentMode"in document&&(Mi=document.documentMode);var sv=an&&"TextEvent"in window&&!Mi,Uc=an&&(!Br||Mi&&8<Mi&&11>=Mi),Dc=" ",zc=!1;function kc(e,t){switch(e){case"keyup":return iv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ma=!1;function lv(e,t){switch(e){case"compositionend":return Mc(t);case"keypress":return t.which!==32?null:(zc=!0,Dc);case"textInput":return e=t.data,e===Dc&&zc?null:e;default:return null}}function rv(e,t){if(Ma)return e==="compositionend"||!Br&&kc(e,t)?(e=jc(),Xs=Ur=On=null,Ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uc&&t.locale!=="ko"?null:t.data;default:return null}}var uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uv[e.type]:t==="textarea"}function Lc(e,t,n,i){za?ka?ka.push(i):ka=[i]:za=i,t=Hl(t,"onChange"),0<t.length&&(n=new Is("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Bi=null,Li=null;function ov(e){Sd(e,0)}function Ps(e){var t=Ni(e);if(bc(t))return e}function qc(e,t){if(e==="change")return t}var Hc=!1;if(an){var Lr;if(an){var qr="oninput"in document;if(!qr){var $c=document.createElement("div");$c.setAttribute("oninput","return;"),qr=typeof $c.oninput=="function"}Lr=qr}else Lr=!1;Hc=Lr&&(!document.documentMode||9<document.documentMode)}function Gc(){Bi&&(Bi.detachEvent("onpropertychange",Kc),Li=Bi=null)}function Kc(e){if(e.propertyName==="value"&&Ps(Li)){var t=[];Lc(t,Li,e,xr(e)),Oc(ov,t)}}function cv(e,t,n){e==="focusin"?(Gc(),Bi=t,Li=n,Bi.attachEvent("onpropertychange",Kc)):e==="focusout"&&Gc()}function hv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ps(Li)}function fv(e,t){if(e==="click")return Ps(t)}function dv(e,t){if(e==="input"||e==="change")return Ps(t)}function mv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:mv;function qi(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var u=n[i];if(!Aa.call(t,u)||!pt(e[u],t[u]))return!1}return!0}function Vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yc(e,t){var n=Vc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vc(n)}}function Qc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ys(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ys(e.document)}return t}function Hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var gv=an&&"documentMode"in document&&11>=document.documentMode,Ba=null,$r=null,Hi=null,Gr=!1;function Jc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gr||Ba==null||Ba!==Ys(i)||(i=Ba,"selectionStart"in i&&Hr(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Hi&&qi(Hi,i)||(Hi=i,i=Hl($r,"onSelect"),0<i.length&&(t=new Is("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ba)))}function ta(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var La={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},Kr={},Zc={};an&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function na(e){if(Kr[e])return Kr[e];if(!La[e])return e;var t=La[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zc)return Kr[e]=t[n];return e}var Ic=na("animationend"),Wc=na("animationiteration"),Pc=na("animationstart"),vv=na("transitionrun"),yv=na("transitionstart"),pv=na("transitioncancel"),Fc=na("transitionend"),eh=new Map,Vr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vr.push("scrollEnd");function qt(e,t){eh.set(e,t),Fn(t,[e])}var Fs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xt=[],qa=0,Yr=0;function el(){for(var e=qa,t=Yr=qa=0;t<e;){var n=xt[t];xt[t++]=null;var i=xt[t];xt[t++]=null;var u=xt[t];xt[t++]=null;var o=xt[t];if(xt[t++]=null,i!==null&&u!==null){var d=i.pending;d===null?u.next=u:(u.next=d.next,d.next=u),i.pending=u}o!==0&&th(n,u,o)}}function tl(e,t,n,i){xt[qa++]=e,xt[qa++]=t,xt[qa++]=n,xt[qa++]=i,Yr|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Qr(e,t,n,i){return tl(e,t,n,i),nl(e)}function aa(e,t){return tl(e,null,null,t),nl(e)}function th(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var u=!1,o=e.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-yt(n),e=o.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=n|536870912),o):null}function nl(e){if(50<us)throw us=0,to=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ha={};function bv(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,n,i){return new bv(e,t,n,i)}function Xr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sn(e,t){var n=e.alternate;return n===null?(n=bt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function nh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function al(e,t,n,i,u,o){var d=0;if(i=e,typeof e=="function")Xr(e)&&(d=1);else if(typeof e=="string")d=Ty(e,n,Y.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case De:return e=bt(31,n,t,u),e.elementType=De,e.lanes=o,e;case B:return ia(n.children,u,o,t);case H:d=8,u|=24;break;case $:return e=bt(12,n,t,u|2),e.elementType=$,e.lanes=o,e;case pe:return e=bt(13,n,t,u),e.elementType=pe,e.lanes=o,e;case ae:return e=bt(19,n,t,u),e.elementType=ae,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:d=10;break e;case V:d=9;break e;case W:d=11;break e;case Z:d=14;break e;case Re:d=16,i=null;break e}d=29,n=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=bt(d,n,t,u),t.elementType=e,t.type=i,t.lanes=o,t}function ia(e,t,n,i){return e=bt(7,e,i,t),e.lanes=n,e}function Jr(e,t,n){return e=bt(6,e,null,t),e.lanes=n,e}function ah(e){var t=bt(18,null,null,0);return t.stateNode=e,t}function Zr(e,t,n){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ih=new WeakMap;function Ct(e,t){if(typeof e=="object"&&e!==null){var n=ih.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Ai(t)},ih.set(e,t),t)}return{value:e,source:t,stack:Ai(t)}}var $a=[],Ga=0,il=null,$i=0,Nt=[],Ut=0,jn=null,Xt=1,Jt="";function ln(e,t){$a[Ga++]=$i,$a[Ga++]=il,il=e,$i=t}function sh(e,t,n){Nt[Ut++]=Xt,Nt[Ut++]=Jt,Nt[Ut++]=jn,jn=e;var i=Xt;e=Jt;var u=32-yt(i)-1;i&=~(1<<u),n+=1;var o=32-yt(t)+u;if(30<o){var d=u-u%5;o=(i&(1<<d)-1).toString(32),i>>=d,u-=d,Xt=1<<32-yt(t)+u|n<<u|i,Jt=o+e}else Xt=1<<o|n<<u|i,Jt=e}function Ir(e){e.return!==null&&(ln(e,1),sh(e,1,0))}function Wr(e){for(;e===il;)il=$a[--Ga],$a[Ga]=null,$i=$a[--Ga],$a[Ga]=null;for(;e===jn;)jn=Nt[--Ut],Nt[Ut]=null,Jt=Nt[--Ut],Nt[Ut]=null,Xt=Nt[--Ut],Nt[Ut]=null}function lh(e,t){Nt[Ut++]=Xt,Nt[Ut++]=Jt,Nt[Ut++]=jn,Xt=t.id,Jt=t.overflow,jn=e}var Pe=null,Ce=null,de=!1,Rn=null,Dt=!1,Pr=Error(r(519));function xn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gi(Ct(t,e)),Pr}function rh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[We]=e,t[rt]=i,n){case"dialog":ce("cancel",t),ce("close",t);break;case"iframe":case"object":case"embed":ce("load",t);break;case"video":case"audio":for(n=0;n<cs.length;n++)ce(cs[n],t);break;case"source":ce("error",t);break;case"img":case"image":case"link":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"input":ce("invalid",t),_c(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ce("invalid",t);break;case"textarea":ce("invalid",t),wc(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Ad(t.textContent,n)?(i.popover!=null&&(ce("beforetoggle",t),ce("toggle",t)),i.onScroll!=null&&ce("scroll",t),i.onScrollEnd!=null&&ce("scrollend",t),i.onClick!=null&&(t.onclick=nn),t=!0):t=!1,t||xn(e,!0)}function uh(e){for(Pe=e.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:Dt=!1;return;case 27:case 3:Dt=!0;return;default:Pe=Pe.return}}function Ka(e){if(e!==Pe)return!1;if(!de)return uh(e),de=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||yo(e.type,e.memoizedProps)),n=!n),n&&Ce&&xn(e),uh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ce=zd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ce=zd(e)}else t===27?(t=Ce,Kn(e.type)?(e=wo,wo=null,Ce=e):Ce=t):Ce=Pe?kt(e.stateNode.nextSibling):null;return!0}function sa(){Ce=Pe=null,de=!1}function Fr(){var e=Rn;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),Rn=null),e}function Gi(e){Rn===null?Rn=[e]:Rn.push(e)}var eu=E(null),la=null,rn=null;function Cn(e,t,n){K(eu,t._currentValue),t._currentValue=n}function un(e){e._currentValue=eu.current,M(eu)}function tu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function nu(e,t,n,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var d=u.child;o=o.firstContext;e:for(;o!==null;){var y=o;o=u;for(var _=0;_<t.length;_++)if(y.context===t[_]){o.lanes|=n,y=o.alternate,y!==null&&(y.lanes|=n),tu(o.return,n,e),i||(d=null);break e}o=y.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(r(341));d.lanes|=n,o=d.alternate,o!==null&&(o.lanes|=n),tu(d,n,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function Va(e,t,n,i){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var y=u.type;pt(u.pendingProps.value,d.value)||(e!==null?e.push(y):e=[y])}}else if(u===me.current){if(d=u.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(gs):e=[gs])}u=u.return}e!==null&&nu(t,e,n,i),t.flags|=262144}function sl(e){for(e=e.firstContext;e!==null;){if(!pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ra(e){la=e,rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return oh(la,e)}function ll(e,t){return la===null&&ra(e),oh(e,t)}function oh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},rn===null){if(e===null)throw Error(r(308));rn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rn=rn.next=t;return n}var _v=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Sv=s.unstable_scheduleCallback,wv=s.unstable_NormalPriority,qe={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function au(){return{controller:new _v,data:new Map,refCount:0}}function Ki(e){e.refCount--,e.refCount===0&&Sv(wv,function(){e.controller.abort()})}var Vi=null,iu=0,Ya=0,Qa=null;function Ev(e,t){if(Vi===null){var n=Vi=[];iu=0,Ya=ro(),Qa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return iu++,t.then(ch,ch),t}function ch(){if(--iu===0&&Vi!==null){Qa!==null&&(Qa.status="fulfilled");var e=Vi;Vi=null,Ya=0,Qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Tv(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),i}var hh=D.S;D.S=function(e,t){Zf=Xe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ev(e,t),hh!==null&&hh(e,t)};var ua=E(null);function su(){var e=ua.current;return e!==null?e:je.pooledCache}function rl(e,t){t===null?K(ua,ua.current):K(ua,t.pool)}function fh(){var e=su();return e===null?null:{parent:qe._currentValue,pool:e}}var Xa=Error(r(460)),lu=Error(r(474)),ul=Error(r(542)),ol={then:function(){}};function dh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(nn,nn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vh(e),e;default:if(typeof t.status=="string")t.then(nn,nn);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vh(e),e}throw ca=t,Xa}}function oa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ca=n,Xa):n}}var ca=null;function gh(){if(ca===null)throw Error(r(459));var e=ca;return ca=null,e}function vh(e){if(e===Xa||e===ul)throw Error(r(483))}var Ja=null,Yi=0;function cl(e){var t=Yi;return Yi+=1,Ja===null&&(Ja=[]),mh(Ja,e,t)}function Qi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function hl(e,t){throw t.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yh(e){function t(T,S){if(e){var j=T.deletions;j===null?(T.deletions=[S],T.flags|=16):j.push(S)}}function n(T,S){if(!e)return null;for(;S!==null;)t(T,S),S=S.sibling;return null}function i(T){for(var S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function u(T,S){return T=sn(T,S),T.index=0,T.sibling=null,T}function o(T,S,j){return T.index=j,e?(j=T.alternate,j!==null?(j=j.index,j<S?(T.flags|=67108866,S):j):(T.flags|=67108866,S)):(T.flags|=1048576,S)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function y(T,S,j,z){return S===null||S.tag!==6?(S=Jr(j,T.mode,z),S.return=T,S):(S=u(S,j),S.return=T,S)}function _(T,S,j,z){var I=j.type;return I===B?U(T,S,j.props.children,z,j.key):S!==null&&(S.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Re&&oa(I)===S.type)?(S=u(S,j.props),Qi(S,j),S.return=T,S):(S=al(j.type,j.key,j.props,null,T.mode,z),Qi(S,j),S.return=T,S)}function R(T,S,j,z){return S===null||S.tag!==4||S.stateNode.containerInfo!==j.containerInfo||S.stateNode.implementation!==j.implementation?(S=Zr(j,T.mode,z),S.return=T,S):(S=u(S,j.children||[]),S.return=T,S)}function U(T,S,j,z,I){return S===null||S.tag!==7?(S=ia(j,T.mode,z,I),S.return=T,S):(S=u(S,j),S.return=T,S)}function k(T,S,j){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Jr(""+S,T.mode,j),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case w:return j=al(S.type,S.key,S.props,null,T.mode,j),Qi(j,S),j.return=T,j;case A:return S=Zr(S,T.mode,j),S.return=T,S;case Re:return S=oa(S),k(T,S,j)}if(lt(S)||Ie(S))return S=ia(S,T.mode,j,null),S.return=T,S;if(typeof S.then=="function")return k(T,cl(S),j);if(S.$$typeof===q)return k(T,ll(T,S),j);hl(T,S)}return null}function C(T,S,j,z){var I=S!==null?S.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return I!==null?null:y(T,S,""+j,z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case w:return j.key===I?_(T,S,j,z):null;case A:return j.key===I?R(T,S,j,z):null;case Re:return j=oa(j),C(T,S,j,z)}if(lt(j)||Ie(j))return I!==null?null:U(T,S,j,z,null);if(typeof j.then=="function")return C(T,S,cl(j),z);if(j.$$typeof===q)return C(T,S,ll(T,j),z);hl(T,j)}return null}function N(T,S,j,z,I){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return T=T.get(j)||null,y(S,T,""+z,I);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return T=T.get(z.key===null?j:z.key)||null,_(S,T,z,I);case A:return T=T.get(z.key===null?j:z.key)||null,R(S,T,z,I);case Re:return z=oa(z),N(T,S,j,z,I)}if(lt(z)||Ie(z))return T=T.get(j)||null,U(S,T,z,I,null);if(typeof z.then=="function")return N(T,S,j,cl(z),I);if(z.$$typeof===q)return N(T,S,j,ll(S,z),I);hl(S,z)}return null}function Q(T,S,j,z){for(var I=null,ve=null,X=S,le=S=0,fe=null;X!==null&&le<j.length;le++){X.index>le?(fe=X,X=null):fe=X.sibling;var ye=C(T,X,j[le],z);if(ye===null){X===null&&(X=fe);break}e&&X&&ye.alternate===null&&t(T,X),S=o(ye,S,le),ve===null?I=ye:ve.sibling=ye,ve=ye,X=fe}if(le===j.length)return n(T,X),de&&ln(T,le),I;if(X===null){for(;le<j.length;le++)X=k(T,j[le],z),X!==null&&(S=o(X,S,le),ve===null?I=X:ve.sibling=X,ve=X);return de&&ln(T,le),I}for(X=i(X);le<j.length;le++)fe=N(X,T,le,j[le],z),fe!==null&&(e&&fe.alternate!==null&&X.delete(fe.key===null?le:fe.key),S=o(fe,S,le),ve===null?I=fe:ve.sibling=fe,ve=fe);return e&&X.forEach(function(Jn){return t(T,Jn)}),de&&ln(T,le),I}function F(T,S,j,z){if(j==null)throw Error(r(151));for(var I=null,ve=null,X=S,le=S=0,fe=null,ye=j.next();X!==null&&!ye.done;le++,ye=j.next()){X.index>le?(fe=X,X=null):fe=X.sibling;var Jn=C(T,X,ye.value,z);if(Jn===null){X===null&&(X=fe);break}e&&X&&Jn.alternate===null&&t(T,X),S=o(Jn,S,le),ve===null?I=Jn:ve.sibling=Jn,ve=Jn,X=fe}if(ye.done)return n(T,X),de&&ln(T,le),I;if(X===null){for(;!ye.done;le++,ye=j.next())ye=k(T,ye.value,z),ye!==null&&(S=o(ye,S,le),ve===null?I=ye:ve.sibling=ye,ve=ye);return de&&ln(T,le),I}for(X=i(X);!ye.done;le++,ye=j.next())ye=N(X,T,le,ye.value,z),ye!==null&&(e&&ye.alternate!==null&&X.delete(ye.key===null?le:ye.key),S=o(ye,S,le),ve===null?I=ye:ve.sibling=ye,ve=ye);return e&&X.forEach(function(ky){return t(T,ky)}),de&&ln(T,le),I}function Oe(T,S,j,z){if(typeof j=="object"&&j!==null&&j.type===B&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case w:e:{for(var I=j.key;S!==null;){if(S.key===I){if(I=j.type,I===B){if(S.tag===7){n(T,S.sibling),z=u(S,j.props.children),z.return=T,T=z;break e}}else if(S.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Re&&oa(I)===S.type){n(T,S.sibling),z=u(S,j.props),Qi(z,j),z.return=T,T=z;break e}n(T,S);break}else t(T,S);S=S.sibling}j.type===B?(z=ia(j.props.children,T.mode,z,j.key),z.return=T,T=z):(z=al(j.type,j.key,j.props,null,T.mode,z),Qi(z,j),z.return=T,T=z)}return d(T);case A:e:{for(I=j.key;S!==null;){if(S.key===I)if(S.tag===4&&S.stateNode.containerInfo===j.containerInfo&&S.stateNode.implementation===j.implementation){n(T,S.sibling),z=u(S,j.children||[]),z.return=T,T=z;break e}else{n(T,S);break}else t(T,S);S=S.sibling}z=Zr(j,T.mode,z),z.return=T,T=z}return d(T);case Re:return j=oa(j),Oe(T,S,j,z)}if(lt(j))return Q(T,S,j,z);if(Ie(j)){if(I=Ie(j),typeof I!="function")throw Error(r(150));return j=I.call(j),F(T,S,j,z)}if(typeof j.then=="function")return Oe(T,S,cl(j),z);if(j.$$typeof===q)return Oe(T,S,ll(T,j),z);hl(T,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,S!==null&&S.tag===6?(n(T,S.sibling),z=u(S,j),z.return=T,T=z):(n(T,S),z=Jr(j,T.mode,z),z.return=T,T=z),d(T)):n(T,S)}return function(T,S,j,z){try{Yi=0;var I=Oe(T,S,j,z);return Ja=null,I}catch(X){if(X===Xa||X===ul)throw X;var ve=bt(29,X,null,T.mode);return ve.lanes=z,ve.return=T,ve}finally{}}}var ha=yh(!0),ph=yh(!1),Nn=!1;function ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Un(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(be&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=nl(e),th(e,null,n),t}return tl(e,i,t,n),nl(e)}function Xi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,oc(e,n)}}function ou(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var u=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?u=o=d:o=o.next=d,n=n.next}while(n!==null);o===null?u=o=t:o=o.next=t}else u=o=t;n={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var cu=!1;function Ji(){if(cu){var e=Qa;if(e!==null)throw e}}function Zi(e,t,n,i){cu=!1;var u=e.updateQueue;Nn=!1;var o=u.firstBaseUpdate,d=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var _=y,R=_.next;_.next=null,d===null?o=R:d.next=R,d=_;var U=e.alternate;U!==null&&(U=U.updateQueue,y=U.lastBaseUpdate,y!==d&&(y===null?U.firstBaseUpdate=R:y.next=R,U.lastBaseUpdate=_))}if(o!==null){var k=u.baseState;d=0,U=R=_=null,y=o;do{var C=y.lane&-536870913,N=C!==y.lane;if(N?(he&C)===C:(i&C)===C){C!==0&&C===Ya&&(cu=!0),U!==null&&(U=U.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Q=e,F=y;C=t;var Oe=n;switch(F.tag){case 1:if(Q=F.payload,typeof Q=="function"){k=Q.call(Oe,k,C);break e}k=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=F.payload,C=typeof Q=="function"?Q.call(Oe,k,C):Q,C==null)break e;k=O({},k,C);break e;case 2:Nn=!0}}C=y.callback,C!==null&&(e.flags|=64,N&&(e.flags|=8192),N=u.callbacks,N===null?u.callbacks=[C]:N.push(C))}else N={lane:C,tag:y.tag,payload:y.payload,callback:y.callback,next:null},U===null?(R=U=N,_=k):U=U.next=N,d|=C;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;N=y,y=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);U===null&&(_=k),u.baseState=_,u.firstBaseUpdate=R,u.lastBaseUpdate=U,o===null&&(u.shared.lanes=0),Ln|=d,e.lanes=d,e.memoizedState=k}}function bh(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function _h(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)bh(n[e],t)}var Za=E(null),fl=E(0);function Sh(e,t){e=yn,K(fl,e),K(Za,t),yn=e|t.baseLanes}function hu(){K(fl,yn),K(Za,Za.current)}function fu(){yn=fl.current,M(Za),M(fl)}var _t=E(null),zt=null;function zn(e){var t=e.alternate;K(Be,Be.current&1),K(_t,e),zt===null&&(t===null||Za.current!==null||t.memoizedState!==null)&&(zt=e)}function du(e){K(Be,Be.current),K(_t,e),zt===null&&(zt=e)}function wh(e){e.tag===22?(K(Be,Be.current),K(_t,e),zt===null&&(zt=e)):kn()}function kn(){K(Be,Be.current),K(_t,_t.current)}function St(e){M(_t),zt===e&&(zt=null),M(Be)}var Be=E(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||_o(n)||So(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var on=0,se=null,Te=null,He=null,ml=!1,Ia=!1,fa=!1,gl=0,Ii=0,Wa=null,Av=0;function ze(){throw Error(r(321))}function mu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function gu(e,t,n,i,u,o){return on=o,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?lf:Cu,fa=!1,o=n(i,u),fa=!1,Ia&&(o=Th(t,n,i,u)),Eh(e),o}function Eh(e){D.H=Fi;var t=Te!==null&&Te.next!==null;if(on=0,He=Te=se=null,ml=!1,Ii=0,Wa=null,t)throw Error(r(300));e===null||$e||(e=e.dependencies,e!==null&&sl(e)&&($e=!0))}function Th(e,t,n,i){se=e;var u=0;do{if(Ia&&(Wa=null),Ii=0,Ia=!1,25<=u)throw Error(r(301));if(u+=1,He=Te=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}D.H=rf,o=t(n,i)}while(Ia);return o}function Ov(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Wi(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(se.flags|=1024),t}function vu(){var e=gl!==0;return gl=0,e}function yu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function pu(e){if(ml){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ml=!1}on=0,He=Te=se=null,Ia=!1,Ii=gl=0,Wa=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?se.memoizedState=He=e:He=He.next=e,He}function Le(){if(Te===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=He===null?se.memoizedState:He.next;if(t!==null)He=t,Te=e;else{if(e===null)throw se.alternate===null?Error(r(467)):Error(r(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},He===null?se.memoizedState=He=e:He=He.next=e}return He}function vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wi(e){var t=Ii;return Ii+=1,Wa===null&&(Wa=[]),e=mh(Wa,e,t),t=se,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?lf:Cu),e}function yl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wi(e);if(e.$$typeof===q)return Fe(e)}throw Error(r(438,String(e)))}function bu(e){var t=null,n=se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=se.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=vl(),se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Wt;return t.index++,n}function cn(e,t){return typeof t=="function"?t(e):t}function pl(e){var t=Le();return _u(t,Te,e)}function _u(e,t,n){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=n;var u=e.baseQueue,o=i.pending;if(o!==null){if(u!==null){var d=u.next;u.next=o.next,o.next=d}t.baseQueue=u=o,i.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var y=d=null,_=null,R=t,U=!1;do{var k=R.lane&-536870913;if(k!==R.lane?(he&k)===k:(on&k)===k){var C=R.revertLane;if(C===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),k===Ya&&(U=!0);else if((on&C)===C){R=R.next,C===Ya&&(U=!0);continue}else k={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(y=_=k,d=o):_=_.next=k,se.lanes|=C,Ln|=C;k=R.action,fa&&n(o,k),o=R.hasEagerState?R.eagerState:n(o,k)}else C={lane:k,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},_===null?(y=_=C,d=o):_=_.next=C,se.lanes|=k,Ln|=k;R=R.next}while(R!==null&&R!==t);if(_===null?d=o:_.next=y,!pt(o,e.memoizedState)&&($e=!0,U&&(n=Qa,n!==null)))throw n;e.memoizedState=o,e.baseState=d,e.baseQueue=_,i.lastRenderedState=o}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Su(e){var t=Le(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,u=n.pending,o=t.memoizedState;if(u!==null){n.pending=null;var d=u=u.next;do o=e(o,d.action),d=d.next;while(d!==u);pt(o,t.memoizedState)||($e=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Ah(e,t,n){var i=se,u=Le(),o=de;if(o){if(n===void 0)throw Error(r(407));n=n()}else n=t();var d=!pt((Te||u).memoizedState,n);if(d&&(u.memoizedState=n,$e=!0),u=u.queue,Tu(Rh.bind(null,i,u,e),[e]),u.getSnapshot!==t||d||He!==null&&He.memoizedState.tag&1){if(i.flags|=2048,Pa(9,{destroy:void 0},jh.bind(null,i,u,n,t),null),je===null)throw Error(r(349));o||(on&127)!==0||Oh(i,t,n)}return n}function Oh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t=vl(),se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jh(e,t,n,i){t.value=n,t.getSnapshot=i,xh(t)&&Ch(e)}function Rh(e,t,n){return n(function(){xh(t)&&Ch(e)})}function xh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function Ch(e){var t=aa(e,2);t!==null&&dt(t,e,2)}function wu(e){var t=st();if(typeof e=="function"){var n=e;if(e=n(),fa){Tn(!0);try{n()}finally{Tn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:e},t}function Nh(e,t,n,i){return e.baseState=n,_u(e,Te,typeof i=="function"?i:cn)}function jv(e,t,n,i,u){if(Sl(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){o.listeners.push(d)}};D.T!==null?n(!0):o.isTransition=!1,i(o),n=t.pending,n===null?(o.next=t.pending=o,Uh(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Uh(e,t){var n=t.action,i=t.payload,u=e.state;if(t.isTransition){var o=D.T,d={};D.T=d;try{var y=n(u,i),_=D.S;_!==null&&_(d,y),Dh(e,t,y)}catch(R){Eu(e,t,R)}finally{o!==null&&d.types!==null&&(o.types=d.types),D.T=o}}else try{o=n(u,i),Dh(e,t,o)}catch(R){Eu(e,t,R)}}function Dh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){zh(e,t,i)},function(i){return Eu(e,t,i)}):zh(e,t,n)}function zh(e,t,n){t.status="fulfilled",t.value=n,kh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Uh(e,n)))}function Eu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,kh(t),t=t.next;while(t!==i)}e.action=null}function kh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Mh(e,t){return t}function Bh(e,t){if(de){var n=je.formState;if(n!==null){e:{var i=se;if(de){if(Ce){t:{for(var u=Ce,o=Dt;u.nodeType!==8;){if(!o){u=null;break t}if(u=kt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){Ce=kt(u.nextSibling),i=u.data==="F!";break e}}xn(i)}i=!1}i&&(t=n[0])}}return n=st(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:t},n.queue=i,n=nf.bind(null,se,i),i.dispatch=n,i=wu(!1),o=xu.bind(null,se,!1,i.queue),i=st(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,n=jv.bind(null,se,u,o,n),u.dispatch=n,i.memoizedState=e,[t,n,!1]}function Lh(e){var t=Le();return qh(t,Te,e)}function qh(e,t,n){if(t=_u(e,t,Mh)[0],e=pl(cn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Wi(t)}catch(d){throw d===Xa?ul:d}else i=t;t=Le();var u=t.queue,o=u.dispatch;return n!==t.memoizedState&&(se.flags|=2048,Pa(9,{destroy:void 0},Rv.bind(null,u,n),null)),[i,o,e]}function Rv(e,t){e.action=t}function Hh(e){var t=Le(),n=Te;if(n!==null)return qh(t,n,e);Le(),t=t.memoizedState,n=Le();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Pa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=se.updateQueue,t===null&&(t=vl(),se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function $h(){return Le().memoizedState}function bl(e,t,n,i){var u=st();se.flags|=e,u.memoizedState=Pa(1|t,{destroy:void 0},n,i===void 0?null:i)}function _l(e,t,n,i){var u=Le();i=i===void 0?null:i;var o=u.memoizedState.inst;Te!==null&&i!==null&&mu(i,Te.memoizedState.deps)?u.memoizedState=Pa(t,o,n,i):(se.flags|=e,u.memoizedState=Pa(1|t,o,n,i))}function Gh(e,t){bl(8390656,8,e,t)}function Tu(e,t){_l(2048,8,e,t)}function xv(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=vl(),se.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Kh(e){var t=Le().memoizedState;return xv({ref:t,nextImpl:e}),function(){if((be&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Vh(e,t){return _l(4,2,e,t)}function Yh(e,t){return _l(4,4,e,t)}function Qh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xh(e,t,n){n=n!=null?n.concat([e]):null,_l(4,4,Qh.bind(null,t,e),n)}function Au(){}function Jh(e,t){var n=Le();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&mu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Zh(e,t){var n=Le();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&mu(t,i[1]))return i[0];if(i=e(),fa){Tn(!0);try{e()}finally{Tn(!1)}}return n.memoizedState=[i,t],i}function Ou(e,t,n){return n===void 0||(on&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Wf(),se.lanes|=e,Ln|=e,n)}function Ih(e,t,n,i){return pt(n,t)?n:Za.current!==null?(e=Ou(e,n,i),pt(e,t)||($e=!0),e):(on&42)===0||(on&1073741824)!==0&&(he&261930)===0?($e=!0,e.memoizedState=n):(e=Wf(),se.lanes|=e,Ln|=e,t)}function Wh(e,t,n,i,u){var o=G.p;G.p=o!==0&&8>o?o:8;var d=D.T,y={};D.T=y,xu(e,!1,t,n);try{var _=u(),R=D.S;if(R!==null&&R(y,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var U=Tv(_,i);Pi(e,t,U,Tt(e))}else Pi(e,t,i,Tt(e))}catch(k){Pi(e,t,{then:function(){},status:"rejected",reason:k},Tt())}finally{G.p=o,d!==null&&y.types!==null&&(d.types=y.types),D.T=d}}function Cv(){}function ju(e,t,n,i){if(e.tag!==5)throw Error(r(476));var u=Ph(e).queue;Wh(e,u,t,P,n===null?Cv:function(){return Fh(e),n(i)})}function Ph(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:P},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fh(e){var t=Ph(e);t.next===null&&(t=e.alternate.memoizedState),Pi(e,t.next.queue,{},Tt())}function Ru(){return Fe(gs)}function ef(){return Le().memoizedState}function tf(){return Le().memoizedState}function Nv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Tt();e=Un(n);var i=Dn(t,e,n);i!==null&&(dt(i,t,n),Xi(i,t,n)),t={cache:au()},e.payload=t;return}t=t.return}}function Uv(e,t,n){var i=Tt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Sl(e)?af(t,n):(n=Qr(e,t,n,i),n!==null&&(dt(n,e,i),sf(n,t,i)))}function nf(e,t,n){var i=Tt();Pi(e,t,n,i)}function Pi(e,t,n,i){var u={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sl(e))af(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,y=o(d,n);if(u.hasEagerState=!0,u.eagerState=y,pt(y,d))return tl(e,t,u,0),je===null&&el(),!1}catch{}finally{}if(n=Qr(e,t,u,i),n!==null)return dt(n,e,i),sf(n,t,i),!0}return!1}function xu(e,t,n,i){if(i={lane:2,revertLane:ro(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Sl(e)){if(t)throw Error(r(479))}else t=Qr(e,n,i,2),t!==null&&dt(t,e,2)}function Sl(e){var t=e.alternate;return e===se||t!==null&&t===se}function af(e,t){Ia=ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sf(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,oc(e,n)}}var Fi={readContext:Fe,use:yl,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};Fi.useEffectEvent=ze;var lf={readContext:Fe,use:yl,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Gh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,bl(4194308,4,Qh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){bl(4,2,e,t)},useMemo:function(e,t){var n=st();t=t===void 0?null:t;var i=e();if(fa){Tn(!0);try{e()}finally{Tn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=st();if(n!==void 0){var u=n(t);if(fa){Tn(!0);try{n(t)}finally{Tn(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=Uv.bind(null,se,e),[i.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:function(e){e=wu(e);var t=e.queue,n=nf.bind(null,se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Au,useDeferredValue:function(e,t){var n=st();return Ou(n,e,t)},useTransition:function(){var e=wu(!1);return e=Wh.bind(null,se,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=se,u=st();if(de){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),je===null)throw Error(r(349));(he&127)!==0||Oh(i,t,n)}u.memoizedState=n;var o={value:n,getSnapshot:t};return u.queue=o,Gh(Rh.bind(null,i,o,e),[e]),i.flags|=2048,Pa(9,{destroy:void 0},jh.bind(null,i,o,n,t),null),n},useId:function(){var e=st(),t=je.identifierPrefix;if(de){var n=Jt,i=Xt;n=(i&~(1<<32-yt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=gl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Av++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ru,useFormState:Bh,useActionState:Bh,useOptimistic:function(e){var t=st();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=xu.bind(null,se,!0,n),n.dispatch=t,[e,t]},useMemoCache:bu,useCacheRefresh:function(){return st().memoizedState=Nv.bind(null,se)},useEffectEvent:function(e){var t=st(),n={impl:e};return t.memoizedState=n,function(){if((be&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Cu={readContext:Fe,use:yl,useCallback:Jh,useContext:Fe,useEffect:Tu,useImperativeHandle:Xh,useInsertionEffect:Vh,useLayoutEffect:Yh,useMemo:Zh,useReducer:pl,useRef:$h,useState:function(){return pl(cn)},useDebugValue:Au,useDeferredValue:function(e,t){var n=Le();return Ih(n,Te.memoizedState,e,t)},useTransition:function(){var e=pl(cn)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:Wi(e),t]},useSyncExternalStore:Ah,useId:ef,useHostTransitionStatus:Ru,useFormState:Lh,useActionState:Lh,useOptimistic:function(e,t){var n=Le();return Nh(n,Te,e,t)},useMemoCache:bu,useCacheRefresh:tf};Cu.useEffectEvent=Kh;var rf={readContext:Fe,use:yl,useCallback:Jh,useContext:Fe,useEffect:Tu,useImperativeHandle:Xh,useInsertionEffect:Vh,useLayoutEffect:Yh,useMemo:Zh,useReducer:Su,useRef:$h,useState:function(){return Su(cn)},useDebugValue:Au,useDeferredValue:function(e,t){var n=Le();return Te===null?Ou(n,e,t):Ih(n,Te.memoizedState,e,t)},useTransition:function(){var e=Su(cn)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:Wi(e),t]},useSyncExternalStore:Ah,useId:ef,useHostTransitionStatus:Ru,useFormState:Hh,useActionState:Hh,useOptimistic:function(e,t){var n=Le();return Te!==null?Nh(n,Te,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:bu,useCacheRefresh:tf};rf.useEffectEvent=Kh;function Nu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:O({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Uu={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Tt(),u=Un(i);u.payload=t,n!=null&&(u.callback=n),t=Dn(e,u,i),t!==null&&(dt(t,e,i),Xi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Tt(),u=Un(i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Dn(e,u,i),t!==null&&(dt(t,e,i),Xi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tt(),i=Un(n);i.tag=2,t!=null&&(i.callback=t),t=Dn(e,i,n),t!==null&&(dt(t,e,n),Xi(t,e,n))}};function uf(e,t,n,i,u,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,d):t.prototype&&t.prototype.isPureReactComponent?!qi(n,i)||!qi(u,o):!0}function of(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Uu.enqueueReplaceState(t,t.state,null)}function da(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=O({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function cf(e){Fs(e)}function hf(e){console.error(e)}function ff(e){Fs(e)}function wl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function df(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Du(e,t,n){return n=Un(n),n.tag=3,n.payload={element:null},n.callback=function(){wl(e,t)},n}function mf(e){return e=Un(e),e.tag=3,e}function gf(e,t,n,i){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var o=i.value;e.payload=function(){return u(o)},e.callback=function(){df(t,n,i)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){df(t,n,i),typeof u!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function Dv(e,t,n,i,u){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Va(t,n,u,!0),n=_t.current,n!==null){switch(n.tag){case 31:case 13:return zt===null?zl():n.alternate===null&&ke===0&&(ke=3),n.flags&=-257,n.flags|=65536,n.lanes=u,i===ol?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),io(e,i,u)),!1;case 22:return n.flags|=65536,i===ol?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),io(e,i,u)),!1}throw Error(r(435,n.tag))}return io(e,i,u),zl(),!1}if(de)return t=_t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Pr&&(e=Error(r(422),{cause:i}),Gi(Ct(e,n)))):(i!==Pr&&(t=Error(r(423),{cause:i}),Gi(Ct(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Ct(i,n),u=Du(e.stateNode,i,u),ou(e,u),ke!==4&&(ke=2)),!1;var o=Error(r(520),{cause:i});if(o=Ct(o,n),rs===null?rs=[o]:rs.push(o),ke!==4&&(ke=2),t===null)return!0;i=Ct(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Du(n.stateNode,i,e),ou(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(qn===null||!qn.has(o))))return n.flags|=65536,u&=-u,n.lanes|=u,u=mf(u),gf(u,e,n,i),ou(n,u),!1}n=n.return}while(n!==null);return!1}var zu=Error(r(461)),$e=!1;function et(e,t,n,i){t.child=e===null?ph(t,null,n,i):ha(t,e.child,n,i)}function vf(e,t,n,i,u){n=n.render;var o=t.ref;if("ref"in i){var d={};for(var y in i)y!=="ref"&&(d[y]=i[y])}else d=i;return ra(t),i=gu(e,t,n,d,o,u),y=vu(),e!==null&&!$e?(yu(e,t,u),hn(e,t,u)):(de&&y&&Ir(t),t.flags|=1,et(e,t,i,u),t.child)}function yf(e,t,n,i,u){if(e===null){var o=n.type;return typeof o=="function"&&!Xr(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,pf(e,t,o,i,u)):(e=al(n.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Gu(e,u)){var d=o.memoizedProps;if(n=n.compare,n=n!==null?n:qi,n(d,i)&&e.ref===t.ref)return hn(e,t,u)}return t.flags|=1,e=sn(o,i),e.ref=t.ref,e.return=t,t.child=e}function pf(e,t,n,i,u){if(e!==null){var o=e.memoizedProps;if(qi(o,i)&&e.ref===t.ref)if($e=!1,t.pendingProps=i=o,Gu(e,u))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,hn(e,t,u)}return ku(e,t,n,i,u)}function bf(e,t,n,i){var u=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~o}else i=0,t.child=null;return _f(e,t,o,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&rl(t,o!==null?o.cachePool:null),o!==null?Sh(t,o):hu(),wh(t);else return i=t.lanes=536870912,_f(e,t,o!==null?o.baseLanes|n:n,n,i)}else o!==null?(rl(t,o.cachePool),Sh(t,o),kn(),t.memoizedState=null):(e!==null&&rl(t,null),hu(),kn());return et(e,t,u,n),t.child}function es(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _f(e,t,n,i,u){var o=su();return o=o===null?null:{parent:qe._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&rl(t,null),hu(),wh(t),e!==null&&Va(e,t,i,!0),t.childLanes=u,null}function El(e,t){return t=Al({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sf(e,t,n){return ha(t,e.child,null,n),e=El(t,t.pendingProps),e.flags|=2,St(t),t.memoizedState=null,e}function zv(e,t,n){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(de){if(i.mode==="hidden")return e=El(t,i),t.lanes=536870912,es(null,e);if(du(t),(e=Ce)?(e=Dd(e,Dt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jn!==null?{id:Xt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},n=ah(e),n.return=t,t.child=n,Pe=t,Ce=null)):e=null,e===null)throw xn(t);return t.lanes=536870912,null}return El(t,i)}var o=e.memoizedState;if(o!==null){var d=o.dehydrated;if(du(t),u)if(t.flags&256)t.flags&=-257,t=Sf(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if($e||Va(e,t,n,!1),u=(n&e.childLanes)!==0,$e||u){if(i=je,i!==null&&(d=cc(i,n),d!==0&&d!==o.retryLane))throw o.retryLane=d,aa(e,d),dt(i,e,d),zu;zl(),t=Sf(e,t,n)}else e=o.treeContext,Ce=kt(d.nextSibling),Pe=t,de=!0,Rn=null,Dt=!1,e!==null&&lh(t,e),t=El(t,i),t.flags|=4096;return t}return e=sn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Tl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ku(e,t,n,i,u){return ra(t),n=gu(e,t,n,i,void 0,u),i=vu(),e!==null&&!$e?(yu(e,t,u),hn(e,t,u)):(de&&i&&Ir(t),t.flags|=1,et(e,t,n,u),t.child)}function wf(e,t,n,i,u,o){return ra(t),t.updateQueue=null,n=Th(t,i,n,u),Eh(e),i=vu(),e!==null&&!$e?(yu(e,t,o),hn(e,t,o)):(de&&i&&Ir(t),t.flags|=1,et(e,t,n,o),t.child)}function Ef(e,t,n,i,u){if(ra(t),t.stateNode===null){var o=Ha,d=n.contextType;typeof d=="object"&&d!==null&&(o=Fe(d)),o=new n(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Uu,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},ru(t),d=n.contextType,o.context=typeof d=="object"&&d!==null?Fe(d):Ha,o.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Nu(t,n,d,i),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(d=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),d!==o.state&&Uu.enqueueReplaceState(o,o.state,null),Zi(t,i,o,u),Ji(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var y=t.memoizedProps,_=da(n,y);o.props=_;var R=o.context,U=n.contextType;d=Ha,typeof U=="object"&&U!==null&&(d=Fe(U));var k=n.getDerivedStateFromProps;U=typeof k=="function"||typeof o.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,U||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(y||R!==d)&&of(t,o,i,d),Nn=!1;var C=t.memoizedState;o.state=C,Zi(t,i,o,u),Ji(),R=t.memoizedState,y||C!==R||Nn?(typeof k=="function"&&(Nu(t,n,k,i),R=t.memoizedState),(_=Nn||uf(t,n,_,i,C,R,d))?(U||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=R),o.props=i,o.state=R,o.context=d,i=_):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,uu(e,t),d=t.memoizedProps,U=da(n,d),o.props=U,k=t.pendingProps,C=o.context,R=n.contextType,_=Ha,typeof R=="object"&&R!==null&&(_=Fe(R)),y=n.getDerivedStateFromProps,(R=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==k||C!==_)&&of(t,o,i,_),Nn=!1,C=t.memoizedState,o.state=C,Zi(t,i,o,u),Ji();var N=t.memoizedState;d!==k||C!==N||Nn||e!==null&&e.dependencies!==null&&sl(e.dependencies)?(typeof y=="function"&&(Nu(t,n,y,i),N=t.memoizedState),(U=Nn||uf(t,n,U,i,C,N,_)||e!==null&&e.dependencies!==null&&sl(e.dependencies))?(R||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,N,_),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,N,_)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=N),o.props=i,o.state=N,o.context=_,i=U):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,Tl(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=ha(t,e.child,null,u),t.child=ha(t,null,n,u)):et(e,t,n,u),t.memoizedState=o.state,e=t.child):e=hn(e,t,u),e}function Tf(e,t,n,i){return sa(),t.flags|=256,et(e,t,n,i),t.child}var Mu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bu(e){return{baseLanes:e,cachePool:fh()}}function Lu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Et),e}function Af(e,t,n){var i=t.pendingProps,u=!1,o=(t.flags&128)!==0,d;if((d=o)||(d=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(u?zn(t):kn(),(e=Ce)?(e=Dd(e,Dt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:jn!==null?{id:Xt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},n=ah(e),n.return=t,t.child=n,Pe=t,Ce=null)):e=null,e===null)throw xn(t);return So(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,u?(kn(),u=t.mode,y=Al({mode:"hidden",children:y},u),i=ia(i,u,n,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=Bu(n),i.childLanes=Lu(e,d,n),t.memoizedState=Mu,es(null,i)):(zn(t),qu(t,y))}var _=e.memoizedState;if(_!==null&&(y=_.dehydrated,y!==null)){if(o)t.flags&256?(zn(t),t.flags&=-257,t=Hu(e,t,n)):t.memoizedState!==null?(kn(),t.child=e.child,t.flags|=128,t=null):(kn(),y=i.fallback,u=t.mode,i=Al({mode:"visible",children:i.children},u),y=ia(y,u,n,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,ha(t,e.child,null,n),i=t.child,i.memoizedState=Bu(n),i.childLanes=Lu(e,d,n),t.memoizedState=Mu,t=es(null,i));else if(zn(t),So(y)){if(d=y.nextSibling&&y.nextSibling.dataset,d)var R=d.dgst;d=R,i=Error(r(419)),i.stack="",i.digest=d,Gi({value:i,source:null,stack:null}),t=Hu(e,t,n)}else if($e||Va(e,t,n,!1),d=(n&e.childLanes)!==0,$e||d){if(d=je,d!==null&&(i=cc(d,n),i!==0&&i!==_.retryLane))throw _.retryLane=i,aa(e,i),dt(d,e,i),zu;_o(y)||zl(),t=Hu(e,t,n)}else _o(y)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,Ce=kt(y.nextSibling),Pe=t,de=!0,Rn=null,Dt=!1,e!==null&&lh(t,e),t=qu(t,i.children),t.flags|=4096);return t}return u?(kn(),y=i.fallback,u=t.mode,_=e.child,R=_.sibling,i=sn(_,{mode:"hidden",children:i.children}),i.subtreeFlags=_.subtreeFlags&65011712,R!==null?y=sn(R,y):(y=ia(y,u,n,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,es(null,i),i=t.child,y=e.child.memoizedState,y===null?y=Bu(n):(u=y.cachePool,u!==null?(_=qe._currentValue,u=u.parent!==_?{parent:_,pool:_}:u):u=fh(),y={baseLanes:y.baseLanes|n,cachePool:u}),i.memoizedState=y,i.childLanes=Lu(e,d,n),t.memoizedState=Mu,es(e.child,i)):(zn(t),n=e.child,e=n.sibling,n=sn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function qu(e,t){return t=Al({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Al(e,t){return e=bt(22,e,null,t),e.lanes=0,e}function Hu(e,t,n){return ha(t,e.child,null,n),e=qu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Of(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),tu(e.return,t,n)}function $u(e,t,n,i,u,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:u,treeForkCount:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=n,d.tailMode=u,d.treeForkCount=o)}function jf(e,t,n){var i=t.pendingProps,u=i.revealOrder,o=i.tail;i=i.children;var d=Be.current,y=(d&2)!==0;if(y?(d=d&1|2,t.flags|=128):d&=1,K(Be,d),et(e,t,i,n),i=de?$i:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Of(e,n,t);else if(e.tag===19)Of(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&dl(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),$u(t,!1,u,n,o,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&dl(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}$u(t,!0,n,null,o,i);break;case"together":$u(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Va(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Gu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&sl(e)))}function kv(e,t,n){switch(t.tag){case 3:Qe(t,t.stateNode.containerInfo),Cn(t,qe,e.memoizedState.cache),sa();break;case 27:case 5:En(t);break;case 4:Qe(t,t.stateNode.containerInfo);break;case 10:Cn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,du(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(zn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Af(e,t,n):(zn(t),e=hn(e,t,n),e!==null?e.sibling:null);zn(t);break;case 19:var u=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Va(e,t,n,!1),i=(n&t.childLanes)!==0),u){if(i)return jf(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),K(Be,Be.current),i)break;return null;case 22:return t.lanes=0,bf(e,t,n,t.pendingProps);case 24:Cn(t,qe,e.memoizedState.cache)}return hn(e,t,n)}function Rf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!Gu(e,n)&&(t.flags&128)===0)return $e=!1,kv(e,t,n);$e=(e.flags&131072)!==0}else $e=!1,de&&(t.flags&1048576)!==0&&sh(t,$i,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=oa(t.elementType),t.type=e,typeof e=="function")Xr(e)?(i=da(e,i),t.tag=1,t=Ef(null,t,e,i,n)):(t.tag=0,t=ku(null,t,e,i,n));else{if(e!=null){var u=e.$$typeof;if(u===W){t.tag=11,t=vf(null,t,e,i,n);break e}else if(u===Z){t.tag=14,t=yf(null,t,e,i,n);break e}}throw t=gt(e)||e,Error(r(306,t,""))}}return t;case 0:return ku(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,u=da(i,t.pendingProps),Ef(e,t,i,u,n);case 3:e:{if(Qe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;u=o.element,uu(e,t),Zi(t,i,null,n);var d=t.memoizedState;if(i=d.cache,Cn(t,qe,i),i!==o.cache&&nu(t,[qe],n,!0),Ji(),i=d.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Tf(e,t,i,n);break e}else if(i!==u){u=Ct(Error(r(424)),t),Gi(u),t=Tf(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ce=kt(e.firstChild),Pe=t,de=!0,Rn=null,Dt=!0,n=ph(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(sa(),i===u){t=hn(e,t,n);break e}et(e,t,i,n)}t=t.child}return t;case 26:return Tl(e,t),e===null?(n=qd(t.type,null,t.pendingProps,null))?t.memoizedState=n:de||(n=t.type,e=t.pendingProps,i=$l(ue.current).createElement(n),i[We]=t,i[rt]=e,tt(i,n,e),Je(i),t.stateNode=i):t.memoizedState=qd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return En(t),e===null&&de&&(i=t.stateNode=Md(t.type,t.pendingProps,ue.current),Pe=t,Dt=!0,u=Ce,Kn(t.type)?(wo=u,Ce=kt(i.firstChild)):Ce=u),et(e,t,t.pendingProps.children,n),Tl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((u=i=Ce)&&(i=hy(i,t.type,t.pendingProps,Dt),i!==null?(t.stateNode=i,Pe=t,Ce=kt(i.firstChild),Dt=!1,u=!0):u=!1),u||xn(t)),En(t),u=t.type,o=t.pendingProps,d=e!==null?e.memoizedProps:null,i=o.children,yo(u,o)?i=null:d!==null&&yo(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=gu(e,t,Ov,null,null,n),gs._currentValue=u),Tl(e,t),et(e,t,i,n),t.child;case 6:return e===null&&de&&((e=n=Ce)&&(n=fy(n,t.pendingProps,Dt),n!==null?(t.stateNode=n,Pe=t,Ce=null,e=!0):e=!1),e||xn(t)),null;case 13:return Af(e,t,n);case 4:return Qe(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ha(t,null,i,n):et(e,t,i,n),t.child;case 11:return vf(e,t,t.type,t.pendingProps,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Cn(t,t.type,i.value),et(e,t,i.children,n),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,ra(t),u=Fe(u),i=i(u),t.flags|=1,et(e,t,i,n),t.child;case 14:return yf(e,t,t.type,t.pendingProps,n);case 15:return pf(e,t,t.type,t.pendingProps,n);case 19:return jf(e,t,n);case 31:return zv(e,t,n);case 22:return bf(e,t,n,t.pendingProps);case 24:return ra(t),i=Fe(qe),e===null?(u=su(),u===null&&(u=je,o=au(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=n),u=o),t.memoizedState={parent:i,cache:u},ru(t),Cn(t,qe,u)):((e.lanes&n)!==0&&(uu(e,t),Zi(t,null,null,n),Ji()),u=e.memoizedState,o=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Cn(t,qe,i)):(i=o.cache,Cn(t,qe,i),i!==u.cache&&nu(t,[qe],n,!0))),et(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function fn(e){e.flags|=4}function Ku(e,t,n,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(td())e.flags|=8192;else throw ca=ol,lu}else e.flags&=-16777217}function xf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t))if(td())e.flags|=8192;else throw ca=ol,lu}function Ol(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rc():536870912,e.lanes|=t,ni|=t)}function ts(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Mv(e,t,n){var i=t.pendingProps;switch(Wr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ne(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),un(qe),Ee(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ka(t)?fn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fr())),Ne(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(fn(t),o!==null?(Ne(t),xf(t,o)):(Ne(t),Ku(t,u,null,i,n))):o?o!==e.memoizedState?(fn(t),Ne(t),xf(t,o)):(Ne(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&fn(t),Ne(t),Ku(t,u,e,i,n)),null;case 27:if(Wn(t),n=ue.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&fn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Ne(t),null}e=Y.current,Ka(t)?rh(t):(e=Md(u,i,n),t.stateNode=e,fn(t))}return Ne(t),null;case 5:if(Wn(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&fn(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Ne(t),null}if(o=Y.current,Ka(t))rh(t);else{var d=$l(ue.current);switch(o){case 1:o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=d.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?d.createElement("select",{is:i.is}):d.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?d.createElement(u,{is:i.is}):d.createElement(u)}}o[We]=t,o[rt]=i;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=o;e:switch(tt(o,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&fn(t)}}return Ne(t),Ku(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&fn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=ue.current,Ka(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,u=Pe,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[We]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Ad(e.nodeValue,n)),e||xn(t,!0)}else e=$l(e).createTextNode(i),e[We]=t,t.stateNode=e}return Ne(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ka(t),n!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[We]=t}else sa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),e=!1}else n=Fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(St(t),t):(St(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ne(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ka(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[We]=t}else sa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ne(t),u=!1}else u=Fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(St(t),t):(St(t),null)}return St(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==u&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ol(t,t.updateQueue),Ne(t),null);case 4:return Ee(),e===null&&ho(t.stateNode.containerInfo),Ne(t),null;case 10:return un(t.type),Ne(t),null;case 19:if(M(Be),i=t.memoizedState,i===null)return Ne(t),null;if(u=(t.flags&128)!==0,o=i.rendering,o===null)if(u)ts(i,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=dl(e),o!==null){for(t.flags|=128,ts(i,!1),e=o.updateQueue,t.updateQueue=e,Ol(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)nh(n,e),n=n.sibling;return K(Be,Be.current&1|2),de&&ln(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Xe()>Nl&&(t.flags|=128,u=!0,ts(i,!1),t.lanes=4194304)}else{if(!u)if(e=dl(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Ol(t,e),ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!de)return Ne(t),null}else 2*Xe()-i.renderingStartTime>Nl&&n!==536870912&&(t.flags|=128,u=!0,ts(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xe(),e.sibling=null,n=Be.current,K(Be,u?n&1|2:n&1),de&&ln(t,i.treeForkCount),e):(Ne(t),null);case 22:case 23:return St(t),fu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),n=t.updateQueue,n!==null&&Ol(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&M(ua),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),un(qe),Ne(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Bv(e,t){switch(Wr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return un(qe),Ee(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Wn(t),null;case 31:if(t.memoizedState!==null){if(St(t),t.alternate===null)throw Error(r(340));sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(St(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(Be),null;case 4:return Ee(),null;case 10:return un(t.type),null;case 22:case 23:return St(t),fu(),e!==null&&M(ua),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return un(qe),null;case 25:return null;default:return null}}function Cf(e,t){switch(Wr(t),t.tag){case 3:un(qe),Ee();break;case 26:case 27:case 5:Wn(t);break;case 4:Ee();break;case 31:t.memoizedState!==null&&St(t);break;case 13:St(t);break;case 19:M(Be);break;case 10:un(t.type);break;case 22:case 23:St(t),fu(),e!==null&&M(ua);break;case 24:un(qe)}}function ns(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var u=i.next;n=u;do{if((n.tag&e)===e){i=void 0;var o=n.create,d=n.inst;i=o(),d.destroy=i}n=n.next}while(n!==u)}}catch(y){we(t,t.return,y)}}function Mn(e,t,n){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var o=u.next;i=o;do{if((i.tag&e)===e){var d=i.inst,y=d.destroy;if(y!==void 0){d.destroy=void 0,u=t;var _=n,R=y;try{R()}catch(U){we(u,_,U)}}}i=i.next}while(i!==o)}}catch(U){we(t,t.return,U)}}function Nf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{_h(t,n)}catch(i){we(e,e.return,i)}}}function Uf(e,t,n){n.props=da(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){we(e,t,i)}}function as(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(u){we(e,t,u)}}function Zt(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(u){we(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){we(e,t,u)}else n.current=null}function Df(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(u){we(e,e.return,u)}}function Vu(e,t,n){try{var i=e.stateNode;sy(i,e.type,n,t),i[rt]=t}catch(u){we(e,e.return,u)}}function zf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kn(e.type)||e.tag===4}function Yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=nn));else if(i!==4&&(i===27&&Kn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Qu(e,t,n),e=e.sibling;e!==null;)Qu(e,t,n),e=e.sibling}function jl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Kn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(jl(e,t,n),e=e.sibling;e!==null;)jl(e,t,n),e=e.sibling}function kf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);tt(t,i,n),t[We]=e,t[rt]=n}catch(o){we(e,e.return,o)}}var dn=!1,Ge=!1,Xu=!1,Mf=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Lv(e,t){if(e=e.containerInfo,go=Jl,e=Xc(e),Hr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var u=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var d=0,y=-1,_=-1,R=0,U=0,k=e,C=null;t:for(;;){for(var N;k!==n||u!==0&&k.nodeType!==3||(y=d+u),k!==o||i!==0&&k.nodeType!==3||(_=d+i),k.nodeType===3&&(d+=k.nodeValue.length),(N=k.firstChild)!==null;)C=k,k=N;for(;;){if(k===e)break t;if(C===n&&++R===u&&(y=d),C===o&&++U===i&&(_=d),(N=k.nextSibling)!==null)break;k=C,C=k.parentNode}k=N}n=y===-1||_===-1?null:{start:y,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(vo={focusedElem:e,selectionRange:n},Jl=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,n=t,u=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var Q=da(n.type,u);e=i.getSnapshotBeforeUpdate(Q,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(F){we(n,n.return,F)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)bo(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function Bf(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:gn(e,n),i&4&&ns(5,n);break;case 1:if(gn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(d){we(n,n.return,d)}else{var u=da(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){we(n,n.return,d)}}i&64&&Nf(n),i&512&&as(n,n.return);break;case 3:if(gn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{_h(e,t)}catch(d){we(n,n.return,d)}}break;case 27:t===null&&i&4&&kf(n);case 26:case 5:gn(e,n),t===null&&i&4&&Df(n),i&512&&as(n,n.return);break;case 12:gn(e,n);break;case 31:gn(e,n),i&4&&Hf(e,n);break;case 13:gn(e,n),i&4&&$f(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Xv.bind(null,n),dy(e,n))));break;case 22:if(i=n.memoizedState!==null||dn,!i){t=t!==null&&t.memoizedState!==null||Ge,u=dn;var o=Ge;dn=i,(Ge=t)&&!o?vn(e,n,(n.subtreeFlags&8772)!==0):gn(e,n),dn=u,Ge=o}break;case 30:break;default:gn(e,n)}}function Lf(e){var t=e.alternate;t!==null&&(e.alternate=null,Lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Er(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,ot=!1;function mn(e,t,n){for(n=n.child;n!==null;)qf(e,t,n),n=n.sibling}function qf(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(ji,n)}catch{}switch(n.tag){case 26:Ge||Zt(n,t),mn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ge||Zt(n,t);var i=Ue,u=ot;Kn(n.type)&&(Ue=n.stateNode,ot=!1),mn(e,t,n),fs(n.stateNode),Ue=i,ot=u;break;case 5:Ge||Zt(n,t);case 6:if(i=Ue,u=ot,Ue=null,mn(e,t,n),Ue=i,ot=u,Ue!==null)if(ot)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(n.stateNode)}catch(o){we(n,t,o)}else try{Ue.removeChild(n.stateNode)}catch(o){we(n,t,o)}break;case 18:Ue!==null&&(ot?(e=Ue,Nd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ci(e)):Nd(Ue,n.stateNode));break;case 4:i=Ue,u=ot,Ue=n.stateNode.containerInfo,ot=!0,mn(e,t,n),Ue=i,ot=u;break;case 0:case 11:case 14:case 15:Mn(2,n,t),Ge||Mn(4,n,t),mn(e,t,n);break;case 1:Ge||(Zt(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Uf(n,t,i)),mn(e,t,n);break;case 21:mn(e,t,n);break;case 22:Ge=(i=Ge)||n.memoizedState!==null,mn(e,t,n),Ge=i;break;default:mn(e,t,n)}}function Hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ci(e)}catch(n){we(t,t.return,n)}}}function $f(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ci(e)}catch(n){we(t,t.return,n)}}function qv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mf),t;default:throw Error(r(435,e.tag))}}function Rl(e,t){var n=qv(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var u=Jv.bind(null,e,i);i.then(u,u)}})}function ct(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var u=n[i],o=e,d=t,y=d;e:for(;y!==null;){switch(y.tag){case 27:if(Kn(y.type)){Ue=y.stateNode,ot=!1;break e}break;case 5:Ue=y.stateNode,ot=!1;break e;case 3:case 4:Ue=y.stateNode.containerInfo,ot=!0;break e}y=y.return}if(Ue===null)throw Error(r(160));qf(o,d,u),Ue=null,ot=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Gf(t,e),t=t.sibling}var Ht=null;function Gf(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),ht(e),i&4&&(Mn(3,e,e.return),ns(3,e),Mn(5,e,e.return));break;case 1:ct(t,e),ht(e),i&512&&(Ge||n===null||Zt(n,n.return)),i&64&&dn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var u=Ht;if(ct(t,e),ht(e),i&512&&(Ge||n===null||Zt(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":o=u.getElementsByTagName("title")[0],(!o||o[Ci]||o[We]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(i),u.head.insertBefore(o,u.querySelector("head > title"))),tt(o,i,n),o[We]=e,Je(o),i=o;break e;case"link":var d=Gd("link","href",u).get(i+(n.href||""));if(d){for(var y=0;y<d.length;y++)if(o=d[y],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(y,1);break t}}o=u.createElement(i),tt(o,i,n),u.head.appendChild(o);break;case"meta":if(d=Gd("meta","content",u).get(i+(n.content||""))){for(y=0;y<d.length;y++)if(o=d[y],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(y,1);break t}}o=u.createElement(i),tt(o,i,n),u.head.appendChild(o);break;default:throw Error(r(468,i))}o[We]=e,Je(o),i=o}e.stateNode=i}else Kd(u,e.type,e.stateNode);else e.stateNode=$d(u,i,e.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?Kd(u,e.type,e.stateNode):$d(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Vu(e,e.memoizedProps,n.memoizedProps)}break;case 27:ct(t,e),ht(e),i&512&&(Ge||n===null||Zt(n,n.return)),n!==null&&i&4&&Vu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ct(t,e),ht(e),i&512&&(Ge||n===null||Zt(n,n.return)),e.flags&32){u=e.stateNode;try{Da(u,"")}catch(Q){we(e,e.return,Q)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Vu(e,u,n!==null?n.memoizedProps:u)),i&1024&&(Xu=!0);break;case 6:if(ct(t,e),ht(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(Q){we(e,e.return,Q)}}break;case 3:if(Vl=null,u=Ht,Ht=Gl(t.containerInfo),ct(t,e),Ht=u,ht(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ci(t.containerInfo)}catch(Q){we(e,e.return,Q)}Xu&&(Xu=!1,Kf(e));break;case 4:i=Ht,Ht=Gl(e.stateNode.containerInfo),ct(t,e),ht(e),Ht=i;break;case 12:ct(t,e),ht(e);break;case 31:ct(t,e),ht(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Rl(e,i)));break;case 13:ct(t,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Cl=Xe()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Rl(e,i)));break;case 22:u=e.memoizedState!==null;var _=n!==null&&n.memoizedState!==null,R=dn,U=Ge;if(dn=R||u,Ge=U||_,ct(t,e),Ge=U,dn=R,ht(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||_||dn||Ge||ma(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){_=n=t;try{if(o=_.stateNode,u)d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=_.stateNode;var k=_.memoizedProps.style,C=k!=null&&k.hasOwnProperty("display")?k.display:null;y.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(Q){we(_,_.return,Q)}}}else if(t.tag===6){if(n===null){_=t;try{_.stateNode.nodeValue=u?"":_.memoizedProps}catch(Q){we(_,_.return,Q)}}}else if(t.tag===18){if(n===null){_=t;try{var N=_.stateNode;u?Ud(N,!0):Ud(_.stateNode,!1)}catch(Q){we(_,_.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Rl(e,n))));break;case 19:ct(t,e),ht(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Rl(e,i)));break;case 30:break;case 21:break;default:ct(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(zf(i)){n=i;break}i=i.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var u=n.stateNode,o=Yu(e);jl(e,o,u);break;case 5:var d=n.stateNode;n.flags&32&&(Da(d,""),n.flags&=-33);var y=Yu(e);jl(e,y,d);break;case 3:case 4:var _=n.stateNode.containerInfo,R=Yu(e);Qu(e,R,_);break;default:throw Error(r(161))}}catch(U){we(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Kf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bf(e,t.alternate,t),t=t.sibling}function ma(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Mn(4,t,t.return),ma(t);break;case 1:Zt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Uf(t,t.return,n),ma(t);break;case 27:fs(t.stateNode);case 26:case 5:Zt(t,t.return),ma(t);break;case 22:t.memoizedState===null&&ma(t);break;case 30:ma(t);break;default:ma(t)}e=e.sibling}}function vn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,o=t,d=o.flags;switch(o.tag){case 0:case 11:case 15:vn(u,o,n),ns(4,o);break;case 1:if(vn(u,o,n),i=o,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){we(i,i.return,R)}if(i=o,u=i.updateQueue,u!==null){var y=i.stateNode;try{var _=u.shared.hiddenCallbacks;if(_!==null)for(u.shared.hiddenCallbacks=null,u=0;u<_.length;u++)bh(_[u],y)}catch(R){we(i,i.return,R)}}n&&d&64&&Nf(o),as(o,o.return);break;case 27:kf(o);case 26:case 5:vn(u,o,n),n&&i===null&&d&4&&Df(o),as(o,o.return);break;case 12:vn(u,o,n);break;case 31:vn(u,o,n),n&&d&4&&Hf(u,o);break;case 13:vn(u,o,n),n&&d&4&&$f(u,o);break;case 22:o.memoizedState===null&&vn(u,o,n),as(o,o.return);break;case 30:break;default:vn(u,o,n)}t=t.sibling}}function Ju(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ki(n))}function Zu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ki(e))}function $t(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vf(e,t,n,i),t=t.sibling}function Vf(e,t,n,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:$t(e,t,n,i),u&2048&&ns(9,t);break;case 1:$t(e,t,n,i);break;case 3:$t(e,t,n,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ki(e)));break;case 12:if(u&2048){$t(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,d=o.id,y=o.onPostCommit;typeof y=="function"&&y(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){we(t,t.return,_)}}else $t(e,t,n,i);break;case 31:$t(e,t,n,i);break;case 13:$t(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,d=t.alternate,t.memoizedState!==null?o._visibility&2?$t(e,t,n,i):is(e,t):o._visibility&2?$t(e,t,n,i):(o._visibility|=2,Fa(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Ju(d,t);break;case 24:$t(e,t,n,i),u&2048&&Zu(t.alternate,t);break;default:$t(e,t,n,i)}}function Fa(e,t,n,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,d=t,y=n,_=i,R=d.flags;switch(d.tag){case 0:case 11:case 15:Fa(o,d,y,_,u),ns(8,d);break;case 23:break;case 22:var U=d.stateNode;d.memoizedState!==null?U._visibility&2?Fa(o,d,y,_,u):is(o,d):(U._visibility|=2,Fa(o,d,y,_,u)),u&&R&2048&&Ju(d.alternate,d);break;case 24:Fa(o,d,y,_,u),u&&R&2048&&Zu(d.alternate,d);break;default:Fa(o,d,y,_,u)}t=t.sibling}}function is(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,u=i.flags;switch(i.tag){case 22:is(n,i),u&2048&&Ju(i.alternate,i);break;case 24:is(n,i),u&2048&&Zu(i.alternate,i);break;default:is(n,i)}t=t.sibling}}var ss=8192;function ei(e,t,n){if(e.subtreeFlags&ss)for(e=e.child;e!==null;)Yf(e,t,n),e=e.sibling}function Yf(e,t,n){switch(e.tag){case 26:ei(e,t,n),e.flags&ss&&e.memoizedState!==null&&Ay(n,Ht,e.memoizedState,e.memoizedProps);break;case 5:ei(e,t,n);break;case 3:case 4:var i=Ht;Ht=Gl(e.stateNode.containerInfo),ei(e,t,n),Ht=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ss,ss=16777216,ei(e,t,n),ss=i):ei(e,t,n));break;default:ei(e,t,n)}}function Qf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ls(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ze=i,Jf(i,e)}Qf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xf(e),e=e.sibling}function Xf(e){switch(e.tag){case 0:case 11:case 15:ls(e),e.flags&2048&&Mn(9,e,e.return);break;case 3:ls(e);break;case 12:ls(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xl(e)):ls(e);break;default:ls(e)}}function xl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ze=i,Jf(i,e)}Qf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Mn(8,t,t.return),xl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,xl(t));break;default:xl(t)}e=e.sibling}}function Jf(e,t){for(;Ze!==null;){var n=Ze;switch(n.tag){case 0:case 11:case 15:Mn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ki(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ze=i;else e:for(n=e;Ze!==null;){i=Ze;var u=i.sibling,o=i.return;if(Lf(i),i===n){Ze=null;break e}if(u!==null){u.return=o,Ze=u;break e}Ze=o}}}var Hv={getCacheForType:function(e){var t=Fe(qe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Fe(qe).controller.signal}},$v=typeof WeakMap=="function"?WeakMap:Map,be=0,je=null,oe=null,he=0,Se=0,wt=null,Bn=!1,ti=!1,Iu=!1,yn=0,ke=0,Ln=0,ga=0,Wu=0,Et=0,ni=0,rs=null,ft=null,Pu=!1,Cl=0,Zf=0,Nl=1/0,Ul=null,qn=null,Ve=0,Hn=null,ai=null,pn=0,Fu=0,eo=null,If=null,us=0,to=null;function Tt(){return(be&2)!==0&&he!==0?he&-he:D.T!==null?ro():hc()}function Wf(){if(Et===0)if((he&536870912)===0||de){var e=Hs;Hs<<=1,(Hs&3932160)===0&&(Hs=262144),Et=e}else Et=536870912;return e=_t.current,e!==null&&(e.flags|=32),Et}function dt(e,t,n){(e===je&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(ii(e,0),$n(e,he,Et,!1)),xi(e,n),((be&2)===0||e!==je)&&(e===je&&((be&2)===0&&(ga|=n),ke===4&&$n(e,he,Et,!1)),It(e))}function Pf(e,t,n){if((be&6)!==0)throw Error(r(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ri(e,t),u=i?Vv(e,t):ao(e,t,!0),o=i;do{if(u===0){ti&&!i&&$n(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!Gv(n)){u=ao(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var y=e;u=rs;var _=y.current.memoizedState.isDehydrated;if(_&&(ii(y,d).flags|=256),d=ao(y,d,!1),d!==2){if(Iu&&!_){y.errorRecoveryDisabledLanes|=o,ga|=o,u=4;break e}o=ft,ft=u,o!==null&&(ft===null?ft=o:ft.push.apply(ft,o))}u=d}if(o=!1,u!==2)continue}}if(u===1){ii(e,0),$n(e,t,0,!0);break}e:{switch(i=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:$n(i,t,Et,!Bn);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Cl+300-Xe(),10<u)){if($n(i,t,Et,!Bn),Gs(i,0,!0)!==0)break e;pn=t,i.timeoutHandle=xd(Ff.bind(null,i,n,ft,Ul,Pu,t,Et,ga,ni,Bn,o,"Throttled",-0,0),u);break e}Ff(i,n,ft,Ul,Pu,t,Et,ga,ni,Bn,o,null,-0,0)}}break}while(!0);It(e)}function Ff(e,t,n,i,u,o,d,y,_,R,U,k,C,N){if(e.timeoutHandle=-1,k=t.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},Yf(t,o,k);var Q=(o&62914560)===o?Cl-Xe():(o&4194048)===o?Zf-Xe():0;if(Q=Oy(k,Q),Q!==null){pn=o,e.cancelPendingCommit=Q(rd.bind(null,e,t,o,n,i,u,d,y,_,U,k,null,C,N)),$n(e,o,d,!R);return}}rd(e,t,o,n,i,u,d,y,_)}function Gv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var u=n[i],o=u.getSnapshot;u=u.value;try{if(!pt(o(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t,n,i){t&=~Wu,t&=~ga,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var o=31-yt(u),d=1<<o;i[o]=-1,u&=~d}n!==0&&uc(e,n,t)}function Dl(){return(be&6)===0?(os(0),!1):!0}function no(){if(oe!==null){if(Se===0)var e=oe.return;else e=oe,rn=la=null,pu(e),Ja=null,Yi=0,e=oe;for(;e!==null;)Cf(e.alternate,e),e=e.return;oe=null}}function ii(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,uy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),pn=0,no(),je=e,oe=n=sn(e.current,null),he=t,Se=0,wt=null,Bn=!1,ti=Ri(e,t),Iu=!1,ni=Et=Wu=ga=Ln=ke=0,ft=rs=null,Pu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-yt(i),o=1<<u;t|=e[u],i&=~o}return yn=t,el(),n}function ed(e,t){se=null,D.H=Fi,t===Xa||t===ul?(t=gh(),Se=3):t===lu?(t=gh(),Se=4):Se=t===zu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,wt=t,oe===null&&(ke=1,wl(e,Ct(t,e.current)))}function td(){var e=_t.current;return e===null?!0:(he&4194048)===he?zt===null:(he&62914560)===he||(he&536870912)!==0?e===zt:!1}function nd(){var e=D.H;return D.H=Fi,e===null?Fi:e}function ad(){var e=D.A;return D.A=Hv,e}function zl(){ke=4,Bn||(he&4194048)!==he&&_t.current!==null||(ti=!0),(Ln&134217727)===0&&(ga&134217727)===0||je===null||$n(je,he,Et,!1)}function ao(e,t,n){var i=be;be|=2;var u=nd(),o=ad();(je!==e||he!==t)&&(Ul=null,ii(e,t)),t=!1;var d=ke;e:do try{if(Se!==0&&oe!==null){var y=oe,_=wt;switch(Se){case 8:no(),d=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(t=!0);var R=Se;if(Se=0,wt=null,si(e,y,_,R),n&&ti){d=0;break e}break;default:R=Se,Se=0,wt=null,si(e,y,_,R)}}Kv(),d=ke;break}catch(U){ed(e,U)}while(!0);return t&&e.shellSuspendCounter++,rn=la=null,be=i,D.H=u,D.A=o,oe===null&&(je=null,he=0,el()),d}function Kv(){for(;oe!==null;)id(oe)}function Vv(e,t){var n=be;be|=2;var i=nd(),u=ad();je!==e||he!==t?(Ul=null,Nl=Xe()+500,ii(e,t)):ti=Ri(e,t);e:do try{if(Se!==0&&oe!==null){t=oe;var o=wt;t:switch(Se){case 1:Se=0,wt=null,si(e,t,o,1);break;case 2:case 9:if(dh(o)){Se=0,wt=null,sd(t);break}t=function(){Se!==2&&Se!==9||je!==e||(Se=7),It(e)},o.then(t,t);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:dh(o)?(Se=0,wt=null,sd(t)):(Se=0,wt=null,si(e,t,o,7));break;case 5:var d=null;switch(oe.tag){case 26:d=oe.memoizedState;case 5:case 27:var y=oe;if(d?Vd(d):y.stateNode.complete){Se=0,wt=null;var _=y.sibling;if(_!==null)oe=_;else{var R=y.return;R!==null?(oe=R,kl(R)):oe=null}break t}}Se=0,wt=null,si(e,t,o,5);break;case 6:Se=0,wt=null,si(e,t,o,6);break;case 8:no(),ke=6;break e;default:throw Error(r(462))}}Yv();break}catch(U){ed(e,U)}while(!0);return rn=la=null,D.H=i,D.A=u,be=n,oe!==null?0:(je=null,he=0,el(),ke)}function Yv(){for(;oe!==null&&!Lt();)id(oe)}function id(e){var t=Rf(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?kl(e):oe=t}function sd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=wf(n,t,t.pendingProps,t.type,void 0,he);break;case 11:t=wf(n,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:pu(t);default:Cf(n,t),t=oe=nh(t,yn),t=Rf(n,t,yn)}e.memoizedProps=e.pendingProps,t===null?kl(e):oe=t}function si(e,t,n,i){rn=la=null,pu(t),Ja=null,Yi=0;var u=t.return;try{if(Dv(e,u,t,n,he)){ke=1,wl(e,Ct(n,e.current)),oe=null;return}}catch(o){if(u!==null)throw oe=u,o;ke=1,wl(e,Ct(n,e.current)),oe=null;return}t.flags&32768?(de||i===1?e=!0:ti||(he&536870912)!==0?e=!1:(Bn=e=!0,(i===2||i===9||i===3||i===6)&&(i=_t.current,i!==null&&i.tag===13&&(i.flags|=16384))),ld(t,e)):kl(t)}function kl(e){var t=e;do{if((t.flags&32768)!==0){ld(t,Bn);return}e=t.return;var n=Mv(t.alternate,t,yn);if(n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ke===0&&(ke=5)}function ld(e,t){do{var n=Bv(e.alternate,e);if(n!==null){n.flags&=32767,oe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=n}while(e!==null);ke=6,oe=null}function rd(e,t,n,i,u,o,d,y,_){e.cancelPendingCommit=null;do Ml();while(Ve!==0);if((be&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=Yr,Tg(e,n,o,d,y,_),e===je&&(oe=je=null,he=0),ai=t,Hn=e,pn=n,Fu=o,eo=u,If=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Zv(Ls,function(){return fd(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null,u=G.p,G.p=2,d=be,be|=4;try{Lv(e,t,n)}finally{be=d,G.p=u,D.T=i}}Ve=1,ud(),od(),cd()}}function ud(){if(Ve===1){Ve=0;var e=Hn,t=ai,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=D.T,D.T=null;var i=G.p;G.p=2;var u=be;be|=4;try{Gf(t,e);var o=vo,d=Xc(e.containerInfo),y=o.focusedElem,_=o.selectionRange;if(d!==y&&y&&y.ownerDocument&&Qc(y.ownerDocument.documentElement,y)){if(_!==null&&Hr(y)){var R=_.start,U=_.end;if(U===void 0&&(U=R),"selectionStart"in y)y.selectionStart=R,y.selectionEnd=Math.min(U,y.value.length);else{var k=y.ownerDocument||document,C=k&&k.defaultView||window;if(C.getSelection){var N=C.getSelection(),Q=y.textContent.length,F=Math.min(_.start,Q),Oe=_.end===void 0?F:Math.min(_.end,Q);!N.extend&&F>Oe&&(d=Oe,Oe=F,F=d);var T=Yc(y,F),S=Yc(y,Oe);if(T&&S&&(N.rangeCount!==1||N.anchorNode!==T.node||N.anchorOffset!==T.offset||N.focusNode!==S.node||N.focusOffset!==S.offset)){var j=k.createRange();j.setStart(T.node,T.offset),N.removeAllRanges(),F>Oe?(N.addRange(j),N.extend(S.node,S.offset)):(j.setEnd(S.node,S.offset),N.addRange(j))}}}}for(k=[],N=y;N=N.parentNode;)N.nodeType===1&&k.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<k.length;y++){var z=k[y];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Jl=!!go,vo=go=null}finally{be=u,G.p=i,D.T=n}}e.current=t,Ve=2}}function od(){if(Ve===2){Ve=0;var e=Hn,t=ai,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=D.T,D.T=null;var i=G.p;G.p=2;var u=be;be|=4;try{Bf(e,t.alternate,t)}finally{be=u,G.p=i,D.T=n}}Ve=3}}function cd(){if(Ve===4||Ve===3){Ve=0,Ft();var e=Hn,t=ai,n=pn,i=If;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ve=5:(Ve=0,ai=Hn=null,hd(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(qn=null),Sr(n),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(ji,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=D.T,u=G.p,G.p=2,D.T=null;try{for(var o=e.onRecoverableError,d=0;d<i.length;d++){var y=i[d];o(y.value,{componentStack:y.stack})}}finally{D.T=t,G.p=u}}(pn&3)!==0&&Ml(),It(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===to?us++:(us=0,to=e):us=0,os(0)}}function hd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ki(t)))}function Ml(){return ud(),od(),cd(),fd()}function fd(){if(Ve!==5)return!1;var e=Hn,t=Fu;Fu=0;var n=Sr(pn),i=D.T,u=G.p;try{G.p=32>n?32:n,D.T=null,n=eo,eo=null;var o=Hn,d=pn;if(Ve=0,ai=Hn=null,pn=0,(be&6)!==0)throw Error(r(331));var y=be;if(be|=4,Xf(o.current),Vf(o,o.current,d,n),be=y,os(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(ji,o)}catch{}return!0}finally{G.p=u,D.T=i,hd(e,t)}}function dd(e,t,n){t=Ct(n,t),t=Du(e.stateNode,t,2),e=Dn(e,t,2),e!==null&&(xi(e,2),It(e))}function we(e,t,n){if(e.tag===3)dd(e,e,n);else for(;t!==null;){if(t.tag===3){dd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(qn===null||!qn.has(i))){e=Ct(n,e),n=mf(2),i=Dn(t,n,2),i!==null&&(gf(n,i,t,e),xi(i,2),It(i));break}}t=t.return}}function io(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new $v;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(n)||(Iu=!0,u.add(n),e=Qv.bind(null,e,t,n),t.then(e,e))}function Qv(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,je===e&&(he&n)===n&&(ke===4||ke===3&&(he&62914560)===he&&300>Xe()-Cl?(be&2)===0&&ii(e,0):Wu|=n,ni===he&&(ni=0)),It(e)}function md(e,t){t===0&&(t=rc()),e=aa(e,t),e!==null&&(xi(e,t),It(e))}function Xv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),md(e,n)}function Jv(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),md(e,n)}function Zv(e,t){return Oa(e,t)}var Bl=null,li=null,so=!1,Ll=!1,lo=!1,Gn=0;function It(e){e!==li&&e.next===null&&(li===null?Bl=li=e:li=li.next=e),Ll=!0,so||(so=!0,Wv())}function os(e,t){if(!lo&&Ll){lo=!0;do for(var n=!1,i=Bl;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var o=0;else{var d=i.suspendedLanes,y=i.pingedLanes;o=(1<<31-yt(42|e)+1)-1,o&=u&~(d&~y),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,pd(i,o))}else o=he,o=Gs(i,i===je?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||Ri(i,o)||(n=!0,pd(i,o));i=i.next}while(n);lo=!1}}function Iv(){gd()}function gd(){Ll=so=!1;var e=0;Gn!==0&&ry()&&(e=Gn);for(var t=Xe(),n=null,i=Bl;i!==null;){var u=i.next,o=vd(i,t);o===0?(i.next=null,n===null?Bl=u:n.next=u,u===null&&(li=n)):(n=i,(e!==0||(o&3)!==0)&&(Ll=!0)),i=u}Ve!==0&&Ve!==5||os(e),Gn!==0&&(Gn=0)}function vd(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var d=31-yt(o),y=1<<d,_=u[d];_===-1?((y&n)===0||(y&i)!==0)&&(u[d]=Eg(y,t)):_<=t&&(e.expiredLanes|=y),o&=~y}if(t=je,n=he,n=Gs(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&L(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ri(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&L(i),Sr(n)){case 2:case 8:n=Bs;break;case 32:n=Ls;break;case 268435456:n=lc;break;default:n=Ls}return i=yd.bind(null,e),n=Oa(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&L(i),e.callbackPriority=2,e.callbackNode=null,2}function yd(e,t){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ml()&&e.callbackNode!==n)return null;var i=he;return i=Gs(e,e===je?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Pf(e,i,t),vd(e,Xe()),e.callbackNode!=null&&e.callbackNode===n?yd.bind(null,e):null)}function pd(e,t){if(Ml())return null;Pf(e,t,!0)}function Wv(){oy(function(){(be&6)!==0?Oa(en,Iv):gd()})}function ro(){if(Gn===0){var e=Ya;e===0&&(e=qs,qs<<=1,(qs&261888)===0&&(qs=256)),Gn=e}return Gn}function bd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qs(""+e)}function _d(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Pv(e,t,n,i,u){if(t==="submit"&&n&&n.stateNode===u){var o=bd((u[rt]||null).action),d=i.submitter;d&&(t=(t=d[rt]||null)?bd(t.formAction):d.getAttribute("formAction"),t!==null&&(o=t,d=null));var y=new Is("action","action",null,i,u);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Gn!==0){var _=d?_d(u,d):new FormData(u);ju(n,{pending:!0,data:_,method:u.method,action:o},null,_)}}else typeof o=="function"&&(y.preventDefault(),_=d?_d(u,d):new FormData(u),ju(n,{pending:!0,data:_,method:u.method,action:o},o,_))},currentTarget:u}]})}}for(var uo=0;uo<Vr.length;uo++){var oo=Vr[uo],Fv=oo.toLowerCase(),ey=oo[0].toUpperCase()+oo.slice(1);qt(Fv,"on"+ey)}qt(Ic,"onAnimationEnd"),qt(Wc,"onAnimationIteration"),qt(Pc,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(vv,"onTransitionRun"),qt(yv,"onTransitionStart"),qt(pv,"onTransitionCancel"),qt(Fc,"onTransitionEnd"),Na("onMouseEnter",["mouseout","mouseover"]),Na("onMouseLeave",["mouseout","mouseover"]),Na("onPointerEnter",["pointerout","pointerover"]),Na("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ty=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cs));function Sd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],u=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var d=i.length-1;0<=d;d--){var y=i[d],_=y.instance,R=y.currentTarget;if(y=y.listener,_!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=R;try{o(u)}catch(U){Fs(U)}u.currentTarget=null,o=_}else for(d=0;d<i.length;d++){if(y=i[d],_=y.instance,R=y.currentTarget,y=y.listener,_!==o&&u.isPropagationStopped())break e;o=y,u.currentTarget=R;try{o(u)}catch(U){Fs(U)}u.currentTarget=null,o=_}}}}function ce(e,t){var n=t[wr];n===void 0&&(n=t[wr]=new Set);var i=e+"__bubble";n.has(i)||(wd(t,e,2,!1),n.add(i))}function co(e,t,n){var i=0;t&&(i|=4),wd(n,e,i,t)}var ql="_reactListening"+Math.random().toString(36).slice(2);function ho(e){if(!e[ql]){e[ql]=!0,mc.forEach(function(n){n!=="selectionchange"&&(ty.has(n)||co(n,!1,e),co(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ql]||(t[ql]=!0,co("selectionchange",!1,t))}}function wd(e,t,n,i){switch(Wd(t)){case 2:var u=xy;break;case 8:u=Cy;break;default:u=jo}n=u.bind(null,t,n,e),u=void 0,!Nr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function fo(e,t,n,i,u){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var y=i.stateNode.containerInfo;if(y===u)break;if(d===4)for(d=i.return;d!==null;){var _=d.tag;if((_===3||_===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;y!==null;){if(d=Ra(y),d===null)return;if(_=d.tag,_===5||_===6||_===26||_===27){i=o=d;continue e}y=y.parentNode}}i=i.return}Oc(function(){var R=o,U=xr(n),k=[];e:{var C=eh.get(e);if(C!==void 0){var N=Is,Q=e;switch(e){case"keypress":if(Js(n)===0)break e;case"keydown":case"keyup":N=Jg;break;case"focusin":Q="focus",N=kr;break;case"focusout":Q="blur",N=kr;break;case"beforeblur":case"afterblur":N=kr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Mg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Wg;break;case Ic:case Wc:case Pc:N=qg;break;case Fc:N=Fg;break;case"scroll":case"scrollend":N=zg;break;case"wheel":N=tv;break;case"copy":case"cut":case"paste":N=$g;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Nc;break;case"toggle":case"beforetoggle":N=av}var F=(t&4)!==0,Oe=!F&&(e==="scroll"||e==="scrollend"),T=F?C!==null?C+"Capture":null:C;F=[];for(var S=R,j;S!==null;){var z=S;if(j=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||j===null||T===null||(z=Ui(S,T),z!=null&&F.push(hs(S,z,j))),Oe)break;S=S.return}0<F.length&&(C=new N(C,Q,null,n,U),k.push({event:C,listeners:F}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",C&&n!==Rr&&(Q=n.relatedTarget||n.fromElement)&&(Ra(Q)||Q[ja]))break e;if((N||C)&&(C=U.window===U?U:(C=U.ownerDocument)?C.defaultView||C.parentWindow:window,N?(Q=n.relatedTarget||n.toElement,N=R,Q=Q?Ra(Q):null,Q!==null&&(Oe=h(Q),F=Q.tag,Q!==Oe||F!==5&&F!==27&&F!==6)&&(Q=null)):(N=null,Q=R),N!==Q)){if(F=xc,z="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(F=Nc,z="onPointerLeave",T="onPointerEnter",S="pointer"),Oe=N==null?C:Ni(N),j=Q==null?C:Ni(Q),C=new F(z,S+"leave",N,n,U),C.target=Oe,C.relatedTarget=j,z=null,Ra(U)===R&&(F=new F(T,S+"enter",Q,n,U),F.target=j,F.relatedTarget=Oe,z=F),Oe=z,N&&Q)t:{for(F=ny,T=N,S=Q,j=0,z=T;z;z=F(z))j++;z=0;for(var I=S;I;I=F(I))z++;for(;0<j-z;)T=F(T),j--;for(;0<z-j;)S=F(S),z--;for(;j--;){if(T===S||S!==null&&T===S.alternate){F=T;break t}T=F(T),S=F(S)}F=null}else F=null;N!==null&&Ed(k,C,N,F,!1),Q!==null&&Oe!==null&&Ed(k,Oe,Q,F,!0)}}e:{if(C=R?Ni(R):window,N=C.nodeName&&C.nodeName.toLowerCase(),N==="select"||N==="input"&&C.type==="file")var ve=qc;else if(Bc(C))if(Hc)ve=dv;else{ve=hv;var X=cv}else N=C.nodeName,!N||N.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&jr(R.elementType)&&(ve=qc):ve=fv;if(ve&&(ve=ve(e,R))){Lc(k,ve,n,U);break e}X&&X(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&Or(C,"number",C.value)}switch(X=R?Ni(R):window,e){case"focusin":(Bc(X)||X.contentEditable==="true")&&(Ba=X,$r=R,Hi=null);break;case"focusout":Hi=$r=Ba=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":Gr=!1,Jc(k,n,U);break;case"selectionchange":if(gv)break;case"keydown":case"keyup":Jc(k,n,U)}var le;if(Br)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Ma?kc(e,n)&&(fe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(fe="onCompositionStart");fe&&(Uc&&n.locale!=="ko"&&(Ma||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Ma&&(le=jc()):(On=U,Ur="value"in On?On.value:On.textContent,Ma=!0)),X=Hl(R,fe),0<X.length&&(fe=new Cc(fe,e,null,n,U),k.push({event:fe,listeners:X}),le?fe.data=le:(le=Mc(n),le!==null&&(fe.data=le)))),(le=sv?lv(e,n):rv(e,n))&&(fe=Hl(R,"onBeforeInput"),0<fe.length&&(X=new Cc("onBeforeInput","beforeinput",null,n,U),k.push({event:X,listeners:fe}),X.data=le)),Pv(k,e,R,n,U)}Sd(k,t)})}function hs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hl(e,t){for(var n=t+"Capture",i=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=Ui(e,n),u!=null&&i.unshift(hs(e,u,o)),u=Ui(e,t),u!=null&&i.push(hs(e,u,o))),e.tag===3)return i;e=e.return}return[]}function ny(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ed(e,t,n,i,u){for(var o=t._reactName,d=[];n!==null&&n!==i;){var y=n,_=y.alternate,R=y.stateNode;if(y=y.tag,_!==null&&_===i)break;y!==5&&y!==26&&y!==27||R===null||(_=R,u?(R=Ui(n,o),R!=null&&d.unshift(hs(n,R,_))):u||(R=Ui(n,o),R!=null&&d.push(hs(n,R,_)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var ay=/\r\n?/g,iy=/\u0000|\uFFFD/g;function Td(e){return(typeof e=="string"?e:""+e).replace(ay,`
`).replace(iy,"")}function Ad(e,t){return t=Td(t),Td(e)===t}function Ae(e,t,n,i,u,o){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Da(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Da(e,""+i);break;case"className":Vs(e,"class",i);break;case"tabIndex":Vs(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Vs(e,n,i);break;case"style":Tc(e,i,o);break;case"data":if(t!=="object"){Vs(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Qs(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Ae(e,t,"name",u.name,u,null),Ae(e,t,"formEncType",u.formEncType,u,null),Ae(e,t,"formMethod",u.formMethod,u,null),Ae(e,t,"formTarget",u.formTarget,u,null)):(Ae(e,t,"encType",u.encType,u,null),Ae(e,t,"method",u.method,u,null),Ae(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Qs(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=nn);break;case"onScroll":i!=null&&ce("scroll",e);break;case"onScrollEnd":i!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Qs(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ce("beforetoggle",e),ce("toggle",e),Ks(e,"popover",i);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ks(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ug.get(n)||n,Ks(e,n,i))}}function mo(e,t,n,i,u,o){switch(n){case"style":Tc(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(n=i.__html,n!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Da(e,i):(typeof i=="number"||typeof i=="bigint")&&Da(e,""+i);break;case"onScroll":i!=null&&ce("scroll",e);break;case"onScrollEnd":i!=null&&ce("scrollend",e);break;case"onClick":i!=null&&(e.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),o=e[rt]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof i=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,u);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Ks(e,n,i)}}}function tt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var i=!1,u=!1,o;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(d!=null)switch(o){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ae(e,t,o,d,n,null)}}u&&Ae(e,t,"srcSet",n.srcSet,n,null),i&&Ae(e,t,"src",n.src,n,null);return;case"input":ce("invalid",e);var y=o=d=u=null,_=null,R=null;for(i in n)if(n.hasOwnProperty(i)){var U=n[i];if(U!=null)switch(i){case"name":u=U;break;case"type":d=U;break;case"checked":_=U;break;case"defaultChecked":R=U;break;case"value":o=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:Ae(e,t,i,U,n,null)}}_c(e,o,y,_,R,d,u,!1);return;case"select":ce("invalid",e),i=d=o=null;for(u in n)if(n.hasOwnProperty(u)&&(y=n[u],y!=null))switch(u){case"value":o=y;break;case"defaultValue":d=y;break;case"multiple":i=y;default:Ae(e,t,u,y,n,null)}t=o,n=d,e.multiple=!!i,t!=null?Ua(e,!!i,t,!1):n!=null&&Ua(e,!!i,n,!0);return;case"textarea":ce("invalid",e),o=u=i=null;for(d in n)if(n.hasOwnProperty(d)&&(y=n[d],y!=null))switch(d){case"value":i=y;break;case"defaultValue":u=y;break;case"children":o=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Ae(e,t,d,y,n,null)}wc(e,i,u,o);return;case"option":for(_ in n)if(n.hasOwnProperty(_)&&(i=n[_],i!=null))switch(_){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ae(e,t,_,i,n,null)}return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(i=0;i<cs.length;i++)ce(cs[i],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(i=n[R],i!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ae(e,t,R,i,n,null)}return;default:if(jr(t)){for(U in n)n.hasOwnProperty(U)&&(i=n[U],i!==void 0&&mo(e,t,U,i,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(i=n[y],i!=null&&Ae(e,t,y,i,n,null))}function sy(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,d=null,y=null,_=null,R=null,U=null;for(N in n){var k=n[N];if(n.hasOwnProperty(N)&&k!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":_=k;default:i.hasOwnProperty(N)||Ae(e,t,N,null,i,k)}}for(var C in i){var N=i[C];if(k=n[C],i.hasOwnProperty(C)&&(N!=null||k!=null))switch(C){case"type":o=N;break;case"name":u=N;break;case"checked":R=N;break;case"defaultChecked":U=N;break;case"value":d=N;break;case"defaultValue":y=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,t));break;default:N!==k&&Ae(e,t,C,N,i,k)}}Ar(e,d,y,_,R,U,o,u);return;case"select":N=d=y=C=null;for(o in n)if(_=n[o],n.hasOwnProperty(o)&&_!=null)switch(o){case"value":break;case"multiple":N=_;default:i.hasOwnProperty(o)||Ae(e,t,o,null,i,_)}for(u in i)if(o=i[u],_=n[u],i.hasOwnProperty(u)&&(o!=null||_!=null))switch(u){case"value":C=o;break;case"defaultValue":y=o;break;case"multiple":d=o;default:o!==_&&Ae(e,t,u,o,i,_)}t=y,n=d,i=N,C!=null?Ua(e,!!n,C,!1):!!i!=!!n&&(t!=null?Ua(e,!!n,t,!0):Ua(e,!!n,n?[]:"",!1));return;case"textarea":N=C=null;for(y in n)if(u=n[y],n.hasOwnProperty(y)&&u!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ae(e,t,y,null,i,u)}for(d in i)if(u=i[d],o=n[d],i.hasOwnProperty(d)&&(u!=null||o!=null))switch(d){case"value":C=u;break;case"defaultValue":N=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&Ae(e,t,d,u,i,o)}Sc(e,C,N);return;case"option":for(var Q in n)if(C=n[Q],n.hasOwnProperty(Q)&&C!=null&&!i.hasOwnProperty(Q))switch(Q){case"selected":e.selected=!1;break;default:Ae(e,t,Q,null,i,C)}for(_ in i)if(C=i[_],N=n[_],i.hasOwnProperty(_)&&C!==N&&(C!=null||N!=null))switch(_){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Ae(e,t,_,C,i,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var F in n)C=n[F],n.hasOwnProperty(F)&&C!=null&&!i.hasOwnProperty(F)&&Ae(e,t,F,null,i,C);for(R in i)if(C=i[R],N=n[R],i.hasOwnProperty(R)&&C!==N&&(C!=null||N!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:Ae(e,t,R,C,i,N)}return;default:if(jr(t)){for(var Oe in n)C=n[Oe],n.hasOwnProperty(Oe)&&C!==void 0&&!i.hasOwnProperty(Oe)&&mo(e,t,Oe,void 0,i,C);for(U in i)C=i[U],N=n[U],!i.hasOwnProperty(U)||C===N||C===void 0&&N===void 0||mo(e,t,U,C,i,N);return}}for(var T in n)C=n[T],n.hasOwnProperty(T)&&C!=null&&!i.hasOwnProperty(T)&&Ae(e,t,T,null,i,C);for(k in i)C=i[k],N=n[k],!i.hasOwnProperty(k)||C===N||C==null&&N==null||Ae(e,t,k,C,i,N)}function Od(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ly(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var u=n[i],o=u.transferSize,d=u.initiatorType,y=u.duration;if(o&&y&&Od(d)){for(d=0,y=u.responseEnd,i+=1;i<n.length;i++){var _=n[i],R=_.startTime;if(R>y)break;var U=_.transferSize,k=_.initiatorType;U&&Od(k)&&(_=_.responseEnd,d+=U*(_<y?1:(y-R)/(_-R)))}if(--i,t+=8*(o+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var go=null,vo=null;function $l(e){return e.nodeType===9?e:e.ownerDocument}function jd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var po=null;function ry(){var e=window.event;return e&&e.type==="popstate"?e===po?!1:(po=e,!0):(po=null,!1)}var xd=typeof setTimeout=="function"?setTimeout:void 0,uy=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,oy=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(e){return Cd.resolve(null).then(e).catch(cy)}:xd;function cy(e){setTimeout(function(){throw e})}function Kn(e){return e==="head"}function Nd(e,t){var n=t,i=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(u),ci(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")fs(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,fs(n);for(var o=n.firstChild;o;){var d=o.nextSibling,y=o.nodeName;o[Ci]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=d}}else n==="body"&&fs(e.ownerDocument.body);n=u}while(n);ci(t)}function Ud(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function bo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":bo(n),Er(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function hy(e,t,n,i){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ci])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function fy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kt(e.nextSibling),e===null))return null;return e}function Dd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=kt(e.nextSibling),e===null))return null;return e}function _o(e){return e.data==="$?"||e.data==="$~"}function So(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function dy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var wo=null;function zd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return kt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function kd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Md(e,t,n){switch(t=$l(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function fs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Er(e)}var Mt=new Map,Bd=new Set;function Gl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bn=G.d;G.d={f:my,r:gy,D:vy,C:yy,L:py,m:by,X:Sy,S:_y,M:wy};function my(){var e=bn.f(),t=Dl();return e||t}function gy(e){var t=xa(e);t!==null&&t.tag===5&&t.type==="form"?Fh(t):bn.r(e)}var ri=typeof document>"u"?null:document;function Ld(e,t,n){var i=ri;if(i&&typeof t=="string"&&t){var u=Rt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),Bd.has(u)||(Bd.add(u),e={rel:e,crossOrigin:n,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),tt(t,"link",e),Je(t),i.head.appendChild(t)))}}function vy(e){bn.D(e),Ld("dns-prefetch",e,null)}function yy(e,t){bn.C(e,t),Ld("preconnect",e,t)}function py(e,t,n){bn.L(e,t,n);var i=ri;if(i&&e&&t){var u='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Rt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Rt(n.imageSizes)+'"]')):u+='[href="'+Rt(e)+'"]';var o=u;switch(t){case"style":o=ui(e);break;case"script":o=oi(e)}Mt.has(o)||(e=O({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Mt.set(o,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(ds(o))||t==="script"&&i.querySelector(ms(o))||(t=i.createElement("link"),tt(t,"link",e),Je(t),i.head.appendChild(t)))}}function by(e,t){bn.m(e,t);var n=ri;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Rt(i)+'"][href="'+Rt(e)+'"]',o=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=oi(e)}if(!Mt.has(o)&&(e=O({rel:"modulepreload",href:e},t),Mt.set(o,e),n.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ms(o)))return}i=n.createElement("link"),tt(i,"link",e),Je(i),n.head.appendChild(i)}}}function _y(e,t,n){bn.S(e,t,n);var i=ri;if(i&&e){var u=Ca(i).hoistableStyles,o=ui(e);t=t||"default";var d=u.get(o);if(!d){var y={loading:0,preload:null};if(d=i.querySelector(ds(o)))y.loading=5;else{e=O({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Mt.get(o))&&Eo(e,n);var _=d=i.createElement("link");Je(_),tt(_,"link",e),_._p=new Promise(function(R,U){_.onload=R,_.onerror=U}),_.addEventListener("load",function(){y.loading|=1}),_.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Kl(d,t,i)}d={type:"stylesheet",instance:d,count:1,state:y},u.set(o,d)}}}function Sy(e,t){bn.X(e,t);var n=ri;if(n&&e){var i=Ca(n).hoistableScripts,u=oi(e),o=i.get(u);o||(o=n.querySelector(ms(u)),o||(e=O({src:e,async:!0},t),(t=Mt.get(u))&&To(e,t),o=n.createElement("script"),Je(o),tt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function wy(e,t){bn.M(e,t);var n=ri;if(n&&e){var i=Ca(n).hoistableScripts,u=oi(e),o=i.get(u);o||(o=n.querySelector(ms(u)),o||(e=O({src:e,async:!0,type:"module"},t),(t=Mt.get(u))&&To(e,t),o=n.createElement("script"),Je(o),tt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function qd(e,t,n,i){var u=(u=ue.current)?Gl(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ui(n.href),n=Ca(u).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ui(n.href);var o=Ca(u).hoistableStyles,d=o.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,d),(o=u.querySelector(ds(e)))&&!o._p&&(d.instance=o,d.state.loading=5),Mt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Mt.set(e,n),o||Ey(u,e,n,d.state))),t&&i===null)throw Error(r(528,""));return d}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=oi(n),n=Ca(u).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ui(e){return'href="'+Rt(e)+'"'}function ds(e){return'link[rel="stylesheet"]['+e+"]"}function Hd(e){return O({},e,{"data-precedence":e.precedence,precedence:null})}function Ey(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),tt(t,"link",n),Je(t),e.head.appendChild(t))}function oi(e){return'[src="'+Rt(e)+'"]'}function ms(e){return"script[async]"+e}function $d(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Rt(n.href)+'"]');if(i)return t.instance=i,Je(i),i;var u=O({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Je(i),tt(i,"style",u),Kl(i,n.precedence,e),t.instance=i;case"stylesheet":u=ui(n.href);var o=e.querySelector(ds(u));if(o)return t.state.loading|=4,t.instance=o,Je(o),o;i=Hd(n),(u=Mt.get(u))&&Eo(i,u),o=(e.ownerDocument||e).createElement("link"),Je(o);var d=o;return d._p=new Promise(function(y,_){d.onload=y,d.onerror=_}),tt(o,"link",i),t.state.loading|=4,Kl(o,n.precedence,e),t.instance=o;case"script":return o=oi(n.src),(u=e.querySelector(ms(o)))?(t.instance=u,Je(u),u):(i=n,(u=Mt.get(o))&&(i=O({},n),To(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),Je(u),tt(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Kl(i,n.precedence,e));return t.instance}function Kl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,o=u,d=0;d<i.length;d++){var y=i[d];if(y.dataset.precedence===t)o=y;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Eo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function To(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Vl=null;function Gd(e,t,n){if(Vl===null){var i=new Map,u=Vl=new Map;u.set(n,i)}else u=Vl,i=u.get(n),i||(i=new Map,u.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var o=n[u];if(!(o[Ci]||o[We]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var d=o.getAttribute(t)||"";d=e+d;var y=i.get(d);y?y.push(o):i.set(d,[o])}}return i}function Kd(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ty(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ay(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ui(i.href),o=t.querySelector(ds(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Yl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,Je(o);return}o=t.ownerDocument||t,i=Hd(i),(u=Mt.get(u))&&Eo(i,u),o=o.createElement("link"),Je(o);var d=o;d._p=new Promise(function(y,_){d.onload=y,d.onerror=_}),tt(o,"link",i),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Yl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Ao=0;function Oy(e,t){return e.stylesheets&&e.count===0&&Xl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&Ao===0&&(Ao=62500*ly());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>Ao?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function Yl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ql=null;function Xl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ql=new Map,t.forEach(jy,e),Ql=null,Yl.call(e))}function jy(e,t){if(!(t.state.loading&4)){var n=Ql.get(e);if(n)var i=n.get(null);else{n=new Map,Ql.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var d=u[o];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),i=d)}i&&n.set(null,i)}u=t.instance,d=u.getAttribute("data-precedence"),o=n.get(d)||i,o===i&&n.set(null,u),n.set(d,u),this.count++,i=Yl.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var gs={$$typeof:q,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function Ry(e,t,n,i,u,o,d,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Yd(e,t,n,i,u,o,d,y,_,R,U,k){return e=new Ry(e,t,n,d,_,R,U,k,y),t=1,o===!0&&(t|=24),o=bt(3,null,null,t),e.current=o,o.stateNode=e,t=au(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},ru(o),e}function Qd(e){return e?(e=Ha,e):Ha}function Xd(e,t,n,i,u,o){u=Qd(u),i.context===null?i.context=u:i.pendingContext=u,i=Un(t),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=Dn(e,i,t),n!==null&&(dt(n,e,t),Xi(n,e,t))}function Jd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Oo(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function Zd(e){if(e.tag===13||e.tag===31){var t=aa(e,67108864);t!==null&&dt(t,e,67108864),Oo(e,67108864)}}function Id(e){if(e.tag===13||e.tag===31){var t=Tt();t=_r(t);var n=aa(e,t);n!==null&&dt(n,e,t),Oo(e,t)}}var Jl=!0;function xy(e,t,n,i){var u=D.T;D.T=null;var o=G.p;try{G.p=2,jo(e,t,n,i)}finally{G.p=o,D.T=u}}function Cy(e,t,n,i){var u=D.T;D.T=null;var o=G.p;try{G.p=8,jo(e,t,n,i)}finally{G.p=o,D.T=u}}function jo(e,t,n,i){if(Jl){var u=Ro(i);if(u===null)fo(e,t,i,Zl,n),Pd(e,i);else if(Uy(u,e,t,n,i))i.stopPropagation();else if(Pd(e,i),t&4&&-1<Ny.indexOf(e)){for(;u!==null;){var o=xa(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var d=Pn(o.pendingLanes);if(d!==0){var y=o;for(y.pendingLanes|=2,y.entangledLanes|=2;d;){var _=1<<31-yt(d);y.entanglements[1]|=_,d&=~_}It(o),(be&6)===0&&(Nl=Xe()+500,os(0))}}break;case 31:case 13:y=aa(o,2),y!==null&&dt(y,o,2),Dl(),Oo(o,2)}if(o=Ro(i),o===null&&fo(e,t,i,Zl,n),o===u)break;u=o}u!==null&&i.stopPropagation()}else fo(e,t,i,null,n)}}function Ro(e){return e=xr(e),xo(e)}var Zl=null;function xo(e){if(Zl=null,e=Ra(e),e!==null){var t=h(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zl=e,null}function Wd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oi()){case en:return 2;case Bs:return 8;case Ls:case yg:return 32;case lc:return 268435456;default:return 32}default:return 32}}var Co=!1,Vn=null,Yn=null,Qn=null,vs=new Map,ys=new Map,Xn=[],Ny="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pd(e,t){switch(e){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(t.pointerId)}}function ps(e,t,n,i,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[u]},t!==null&&(t=xa(t),t!==null&&Zd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Uy(e,t,n,i,u){switch(t){case"focusin":return Vn=ps(Vn,e,t,n,i,u),!0;case"dragenter":return Yn=ps(Yn,e,t,n,i,u),!0;case"mouseover":return Qn=ps(Qn,e,t,n,i,u),!0;case"pointerover":var o=u.pointerId;return vs.set(o,ps(vs.get(o)||null,e,t,n,i,u)),!0;case"gotpointercapture":return o=u.pointerId,ys.set(o,ps(ys.get(o)||null,e,t,n,i,u)),!0}return!1}function Fd(e){var t=Ra(e.target);if(t!==null){var n=h(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,fc(e.priority,function(){Id(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,fc(e.priority,function(){Id(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Il(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ro(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Rr=i,n.target.dispatchEvent(i),Rr=null}else return t=xa(n),t!==null&&Zd(t),e.blockedOn=n,!1;t.shift()}return!0}function em(e,t,n){Il(e)&&n.delete(t)}function Dy(){Co=!1,Vn!==null&&Il(Vn)&&(Vn=null),Yn!==null&&Il(Yn)&&(Yn=null),Qn!==null&&Il(Qn)&&(Qn=null),vs.forEach(em),ys.forEach(em)}function Wl(e,t){e.blockedOn===t&&(e.blockedOn=null,Co||(Co=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Dy)))}var Pl=null;function tm(e){Pl!==e&&(Pl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Pl===e&&(Pl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(xo(i||n)===null)continue;break}var o=xa(n);o!==null&&(e.splice(t,3),t-=3,ju(o,{pending:!0,data:u,method:n.method,action:i},i,u))}}))}function ci(e){function t(_){return Wl(_,e)}Vn!==null&&Wl(Vn,e),Yn!==null&&Wl(Yn,e),Qn!==null&&Wl(Qn,e),vs.forEach(t),ys.forEach(t);for(var n=0;n<Xn.length;n++){var i=Xn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Xn.length&&(n=Xn[0],n.blockedOn===null);)Fd(n),n.blockedOn===null&&Xn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var u=n[i],o=n[i+1],d=u[rt]||null;if(typeof o=="function")d||tm(n);else if(d){var y=null;if(o&&o.hasAttribute("formAction")){if(u=o,d=o[rt]||null)y=d.formAction;else if(xo(u)!==null)continue}else y=d.action;typeof y=="function"?n[i+1]=y:(n.splice(i,3),i-=3),tm(n)}}}function nm(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function No(e){this._internalRoot=e}Fl.prototype.render=No.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,i=Tt();Xd(n,i,e,t,null,null)},Fl.prototype.unmount=No.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Dl(),t[ja]=null}};function Fl(e){this._internalRoot=e}Fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=hc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xn.length&&t!==0&&t<Xn[n].priority;n++);Xn.splice(n,0,e),n===0&&Fd(e)}};var am=a.version;if(am!=="19.2.4")throw Error(r(527,am,"19.2.4"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var zy={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var er=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!er.isDisabled&&er.supportsFiber)try{ji=er.inject(zy),vt=er}catch{}}return _s.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,i="",u=cf,o=hf,d=ff;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Yd(e,1,!1,null,null,n,i,null,u,o,d,nm),e[ja]=t.current,ho(e),new No(t)},_s.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var i=!1,u="",o=cf,d=hf,y=ff,_=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(_=n.formState)),t=Yd(e,1,!0,t,n??null,i,u,_,o,d,y,nm),t.context=Qd(null),n=t.current,i=Tt(),i=_r(i),u=Un(i),u.callback=null,Dn(n,u,i),n=i,t.current.lanes=n,xi(t,n),It(t),e[ja]=t.current,ho(e),new Fl(t)},_s.version="19.2.4",_s}var mm;function Qy(){if(mm)return zo.exports;mm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(a){console.error(a)}}return s(),zo.exports=Yy(),zo.exports}var Xy=Qy();const Jy=Vm(Xy);function Yo(s){return String(s).padStart(2,"0")}function cr(s){return`${s.getFullYear()}-${Yo(s.getMonth()+1)}-${Yo(s.getDate())}`}function ac(s){return`${s.getFullYear()}-${Yo(s.getMonth()+1)}`}function or(s,a){const[l,r]=s.split("-").map(Number),c=new Date(l,(r??1)-1,1);return c.setMonth(c.getMonth()+a),ac(c)}function Zy(s){const[a,l]=s.split("-").map(Number),r=new Date(a,(l??1)-1,1),h=new Intl.DateTimeFormat("ru-RU",{month:"long",year:"numeric"}).format(r);return h.slice(0,1).toUpperCase()+h.slice(1)}function Bt(s){return Math.round((s+Number.EPSILON)*100)/100}function Gt(s){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:2}).format(s)}function Sn(s){const a=s.replace(",",".").replace(/\s/g,""),l=Number(a);return Number.isFinite(l)?l:null}function ks(s){return s.reduce((a,l)=>a+l,0)}function Qm(s,a){const l=s.months[a];return l?ks(l.incomes.map(r=>r.amount)):0}function Xm(s,a){const l=s.months[a];return l?ks(l.expenses.map(r=>r.amount)):0}function Iy(s,a){const l=s.savings.transactions.filter(r=>r.monthKey===a);return ks(l.map(r=>r.type==="deposit"?-r.amount:r.amount))}function Wy(s,a){const l=s.months[a];return l?l.budgetPlan+Qm(s,a)-Xm(s,a)+Iy(s,a):0}function Py(s){return ks(s.savings.categories.map(a=>a.balance))}function Fy(s,a,l){const r=s.months[a];return r?ks(r.expenses.filter(c=>c.categoryId===l).map(c=>c.amount)):0}const Jm="expense-tracker:v1";function Zm(){var s,a;return((a=(s=globalThis.crypto)==null?void 0:s.randomUUID)==null?void 0:a.call(s))??`${Date.now()}-${Math.random().toString(16).slice(2)}`}function Im(s){return{monthKey:s,budgetPlan:0,categories:[],incomes:[],expenses:[]}}function gm(s){return s.map(a=>({...a,id:Zm(),createdAt:Date.now()}))}function Ss(s,a){const l=s.months[a],r=or(a,-1),c=s.months[r];if(l&&l.categories.length>0)return s;if(l&&l.categories.length===0&&c&&c.categories.length>0){const f={...l,budgetPlan:c.budgetPlan,categories:gm(c.categories),incomes:[],expenses:[]};return{...s,months:{...s.months,[a]:f}}}if(l)return s;const h=c?{monthKey:a,budgetPlan:c.budgetPlan,categories:gm(c.categories),incomes:[],expenses:[]}:Im(a);return{...s,months:{...s.months,[a]:h}}}function As(){const s=ac(new Date);return{schemaVersion:1,months:{[s]:Im(s)},savings:{categories:[],transactions:[]}}}function vm(){try{const s=localStorage.getItem(Jm);if(!s)return As();const a=JSON.parse(s);return typeof a=="object"&&a!==null&&a.schemaVersion===1&&typeof a.months=="object"&&a.months!==null&&typeof a.savings=="object"&&a.savings!==null?a:As()}catch{return As()}}function ep(s){localStorage.setItem(Jm,JSON.stringify(s))}function ym(s){const a=Object.keys(s.months);return a.length===0?!0:!(a.some(r=>{const c=s.months[r];return c&&(c.budgetPlan>0||c.categories.length>0||c.incomes.length>0||c.expenses.length>0)})||s.savings.categories.length>0||s.savings.transactions.length>0)}const ws={newId:Zm};function mr(s,a){var l={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&a.indexOf(r)<0&&(l[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(s);c<r.length;c++)a.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(s,r[c])&&(l[r[c]]=s[r[c]]);return l}function tp(s,a,l,r){function c(h){return h instanceof l?h:new l(function(f){f(h)})}return new(l||(l=Promise))(function(h,f){function g(b){try{v(r.next(b))}catch(O){f(O)}}function m(b){try{v(r.throw(b))}catch(O){f(O)}}function v(b){b.done?h(b.value):c(b.value).then(g,m)}v((r=r.apply(s,a||[])).next())})}const np=s=>s?(...a)=>s(...a):(...a)=>fetch(...a);class ic extends Error{constructor(a,l="FunctionsError",r){super(a),this.name=l,this.context=r}}class ap extends ic{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class pm extends ic{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class bm extends ic{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Qo;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Qo||(Qo={}));class ip{constructor(a,{headers:l={},customFetch:r,region:c=Qo.Any}={}){this.url=a,this.headers=l,this.region=c,this.fetch=np(r)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return tp(this,arguments,void 0,function*(l,r={}){var c;let h,f;try{const{headers:g,method:m,body:v,signal:b,timeout:O}=r;let x={},{region:w}=r;w||(w=this.region);const A=new URL(`${this.url}/${l}`);w&&w!=="any"&&(x["x-region"]=w,A.searchParams.set("forceFunctionRegion",w));let B;v&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",B=v):typeof v=="string"?(x["Content-Type"]="text/plain",B=v):typeof FormData<"u"&&v instanceof FormData?B=v:(x["Content-Type"]="application/json",B=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?B=JSON.stringify(v):B=v;let H=b;O&&(f=new AbortController,h=setTimeout(()=>f.abort(),O),b?(H=f.signal,b.addEventListener("abort",()=>f.abort())):H=f.signal);const $=yield this.fetch(A.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),g),body:B,signal:H}).catch(pe=>{throw new ap(pe)}),V=$.headers.get("x-relay-error");if(V&&V==="true")throw new pm($);if(!$.ok)throw new bm($);let q=((c=$.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),W;return q==="application/json"?W=yield $.json():q==="application/octet-stream"||q==="application/pdf"?W=yield $.blob():q==="text/event-stream"?W=$:q==="multipart/form-data"?W=yield $.formData():W=yield $.text(),{data:W,error:null,response:$}}catch(g){return{data:null,error:g,response:g instanceof bm||g instanceof pm?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var sp=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},lp=class{constructor(s){var a,l,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(a=s.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=s.signal,this.isMaybeSingle=(l=s.isMaybeSingle)!==null&&l!==void 0?l:!1,this.urlLengthLimit=(r=s.urlLengthLimit)!==null&&r!==void 0?r:8e3,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=new Headers(this.headers),this.headers.set(s,a),this}then(s,a){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,g=null,m=null,v=h.status,b=h.statusText;if(h.ok){var O,x;if(l.method!=="HEAD"){var w;const $=await h.text();$===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((w=l.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?g=$:g=JSON.parse($))}const B=(O=l.headers.get("Prefer"))===null||O===void 0?void 0:O.match(/count=(exact|planned|estimated)/),H=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");B&&H&&H.length>1&&(m=parseInt(H[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,m=null,v=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var A;const B=await h.text();try{f=JSON.parse(B),Array.isArray(f)&&h.status===404&&(g=[],f=null,v=200,b="OK")}catch{h.status===404&&B===""?(v=204,b="No Content"):f={message:B}}if(f&&l.isMaybeSingle&&(!(f==null||(A=f.details)===null||A===void 0)&&A.includes("0 rows"))&&(f=null,v=200,b="OK"),f&&l.shouldThrowOnError)throw new sp(f)}return{error:f,data:g,count:m,status:v,statusText:b}});return this.shouldThrowOnError||(c=c.catch(h=>{var f;let g="",m="",v="";const b=h==null?void 0:h.cause;if(b){var O,x,w,A;const $=(O=b==null?void 0:b.message)!==null&&O!==void 0?O:"",V=(x=b==null?void 0:b.code)!==null&&x!==void 0?x:"";g=`${(w=h==null?void 0:h.name)!==null&&w!==void 0?w:"FetchError"}: ${h==null?void 0:h.message}`,g+=`

Caused by: ${(A=b==null?void 0:b.name)!==null&&A!==void 0?A:"Error"}: ${$}`,V&&(g+=` (${V})`),b!=null&&b.stack&&(g+=`
${b.stack}`)}else{var B;g=(B=h==null?void 0:h.stack)!==null&&B!==void 0?B:""}const H=this.url.toString().length;return(h==null?void 0:h.name)==="AbortError"||(h==null?void 0:h.code)==="ABORT_ERR"?(v="",m="Request was aborted (timeout or manual cancellation)",H>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${H} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((b==null?void 0:b.name)==="HeadersOverflowError"||(b==null?void 0:b.code)==="UND_ERR_HEADERS_OVERFLOW")&&(v="",m="HTTP headers exceeded server limits (typically 16KB)",H>this.urlLengthLimit&&(m+=`. Your request URL is ${H} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError"}: ${h==null?void 0:h.message}`,details:g,hint:m,code:v},data:null,count:null,status:0,statusText:""}})),c.then(s,a)}returns(){return this}overrideTypes(){return this}},rp=class extends lp{select(s){let a=!1;const l=(s??"*").split("").map(r=>/\s/.test(r)&&!a?"":(r==='"'&&(a=!a),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:a=!0,nullsFirst:l,foreignTable:r,referencedTable:c=r}={}){const h=c?`${c}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${s}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:l=a}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${s}`),this}range(s,a,{foreignTable:l,referencedTable:r=l}={}){const c=typeof r>"u"?"offset":`${r}.offset`,h=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(h,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:a=!1,settings:l=!1,buffers:r=!1,wal:c=!1,format:h="text"}={}){var f;const g=[s?"analyze":null,a?"verbose":null,l?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${m}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const _m=new RegExp("[,()]");var yi=class extends rp{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&_m.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}notIn(s,a){const l=Array.from(new Set(a)).map(r=>typeof r=="string"&&_m.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(s,`not.in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${c}fts${h}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}},up=class{constructor(s,{headers:a={},schema:l,fetch:r,urlLengthLimit:c=8e3}){this.url=s,this.headers=new Headers(a),this.schema=l,this.fetch=r,this.urlLengthLimit=c}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,a){const{head:l=!1,count:r}=a??{},c=l?"HEAD":"GET";let h=!1;const f=(s??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join(""),{url:g,headers:m}=this.cloneRequestState();return g.searchParams.set("select",f),r&&m.append("Prefer",`count=${r}`),new yi({method:c,url:g,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(s,{count:a,defaultToNull:l=!0}={}){var r;const c="POST",{url:h,headers:f}=this.cloneRequestState();if(a&&f.append("Prefer",`count=${a}`),l||f.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(g.length>0){const m=[...new Set(g)].map(v=>`"${v}"`);h.searchParams.set("columns",m.join(","))}}return new yi({method:c,url:h,headers:f,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(s,{onConflict:a,ignoreDuplicates:l=!1,count:r,defaultToNull:c=!0}={}){var h;const f="POST",{url:g,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&g.searchParams.set("on_conflict",a),r&&m.append("Prefer",`count=${r}`),c||m.append("Prefer","missing=default"),Array.isArray(s)){const v=s.reduce((b,O)=>b.concat(Object.keys(O)),[]);if(v.length>0){const b=[...new Set(v)].map(O=>`"${O}"`);g.searchParams.set("columns",b.join(","))}}return new yi({method:f,url:g,headers:m,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}update(s,{count:a}={}){var l;const r="PATCH",{url:c,headers:h}=this.cloneRequestState();return a&&h.append("Prefer",`count=${a}`),new yi({method:r,url:c,headers:h,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:s}={}){var a;const l="DELETE",{url:r,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new yi({method:l,url:r,headers:c,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};function Rs(s){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Rs(s)}function op(s,a){if(Rs(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(Rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function cp(s){var a=op(s,"string");return Rs(a)=="symbol"?a:a+""}function hp(s,a,l){return(a=cp(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function Sm(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function tr(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Sm(Object(l),!0).forEach(function(r){hp(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Sm(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}var fp=class Wm{constructor(a,{headers:l={},schema:r,fetch:c,timeout:h,urlLengthLimit:f=8e3}={}){this.url=a,this.headers=new Headers(l),this.schemaName=r,this.urlLengthLimit=f;const g=c??globalThis.fetch;h!==void 0&&h>0?this.fetch=(m,v)=>{const b=new AbortController,O=setTimeout(()=>b.abort(),h),x=v==null?void 0:v.signal;if(x){if(x.aborted)return clearTimeout(O),g(m,v);const w=()=>{clearTimeout(O),b.abort()};return x.addEventListener("abort",w,{once:!0}),g(m,tr(tr({},v),{},{signal:b.signal})).finally(()=>{clearTimeout(O),x.removeEventListener("abort",w)})}return g(m,tr(tr({},v),{},{signal:b.signal})).finally(()=>clearTimeout(O))}:this.fetch=g}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new up(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(a){return new Wm(this.url,{headers:this.headers,schema:a,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,l={},{head:r=!1,get:c=!1,count:h}={}){var f;let g;const m=new URL(`${this.url}/rpc/${a}`);let v;const b=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(b)),O=r&&Object.values(l).some(b);O?(g="POST",v=l):r||c?(g=r?"HEAD":"GET",Object.entries(l).filter(([w,A])=>A!==void 0).map(([w,A])=>[w,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([w,A])=>{m.searchParams.append(w,A)})):(g="POST",v=l);const x=new Headers(this.headers);return O?x.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&x.set("Prefer",`count=${h}`),new yi({method:g,url:m,headers:x,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class dp{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const c=r.node,h=parseInt(c.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let l=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(l+=`

Suggested solution: ${a.workaround}`),new Error(l)}static createWebSocket(a,l){const r=this.getWebSocketConstructor();return new r(a,l)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const mp="2.97.0",gp=`realtime-js/${mp}`,vp="1.0.0",Pm="2.0.0",wm=Pm,Xo=1e4,yp=1e3,pp=100;var Zn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Zn||(Zn={}));var Ye;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ye||(Ye={}));var Yt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Yt||(Yt={}));var Jo;(function(s){s.websocket="websocket"})(Jo||(Jo={}));var ba;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ba||(ba={}));class bp{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,l){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(a));let r=[a.join_ref,a.ref,a.topic,a.event,a.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(a){var l;return this._isArrayBuffer((l=a.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(a){var l,r;const c=(r=(l=a.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,l,r){var c,h;const f=a.topic,g=(c=a.ref)!==null&&c!==void 0?c:"",m=(h=a.join_ref)!==null&&h!==void 0?h:"",v=a.payload.event,b=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},O=Object.keys(b).length===0?"":JSON.stringify(b);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(O.length>255)throw new Error(`metadata length ${O.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+g.length+f.length+v.length+O.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let A=new DataView(w),B=0;A.setUint8(B++,this.KINDS.userBroadcastPush),A.setUint8(B++,m.length),A.setUint8(B++,g.length),A.setUint8(B++,f.length),A.setUint8(B++,v.length),A.setUint8(B++,O.length),A.setUint8(B++,l),Array.from(m,$=>A.setUint8(B++,$.charCodeAt(0))),Array.from(g,$=>A.setUint8(B++,$.charCodeAt(0))),Array.from(f,$=>A.setUint8(B++,$.charCodeAt(0))),Array.from(v,$=>A.setUint8(B++,$.charCodeAt(0))),Array.from(O,$=>A.setUint8(B++,$.charCodeAt(0)));var H=new Uint8Array(w.byteLength+r.byteLength);return H.set(new Uint8Array(w),0),H.set(new Uint8Array(r),w.byteLength),H.buffer}decode(a,l){if(this._isArrayBuffer(a)){let r=this._binaryDecode(a);return l(r)}if(typeof a=="string"){const r=JSON.parse(a),[c,h,f,g,m]=r;return l({join_ref:c,ref:h,topic:f,event:g,payload:m})}return l({})}_binaryDecode(a){const l=new DataView(a),r=l.getUint8(0),c=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,l,c)}}_decodeUserBroadcast(a,l,r){const c=l.getUint8(1),h=l.getUint8(2),f=l.getUint8(3),g=l.getUint8(4);let m=this.HEADER_LENGTH+4;const v=r.decode(a.slice(m,m+c));m=m+c;const b=r.decode(a.slice(m,m+h));m=m+h;const O=r.decode(a.slice(m,m+f));m=m+f;const x=a.slice(m,a.byteLength),w=g===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,A={type:this.BROADCAST_EVENT,event:b,payload:w};return f>0&&(A.meta=JSON.parse(O)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(a){var l;return a instanceof ArrayBuffer||((l=a==null?void 0:a.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(a,l){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([r])=>l.includes(r)))}}class Fm{constructor(a,l){this.callback=a,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(xe||(xe={}));const Em=(s,a,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return a?Object.keys(a).reduce((h,f)=>(h[f]=_p(f,s,a,c),h),{}):{}},_p=(s,a,l,r)=>{const c=a.find(g=>g.name===s),h=c==null?void 0:c.type,f=l[s];return h&&!r.includes(h)?eg(h,f):Zo(f)},eg=(s,a)=>{if(s.charAt(0)==="_"){const l=s.slice(1,s.length);return Tp(a,l)}switch(s){case xe.bool:return Sp(a);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return wp(a);case xe.json:case xe.jsonb:return Ep(a);case xe.timestamp:return Ap(a);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return Zo(a);default:return Zo(a)}},Zo=s=>s,Sp=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},wp=s=>{if(typeof s=="string"){const a=parseFloat(s);if(!Number.isNaN(a))return a}return s},Ep=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},Tp=(s,a)=>{if(typeof s!="string")return s;const l=s.length-1,r=s[l];if(s[0]==="{"&&r==="}"){let h;const f=s.slice(1,l);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(g=>eg(a,g))}return s},Ap=s=>typeof s=="string"?s.replace(" ","T"):s,tg=s=>{const a=new URL(s);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Lo{constructor(a,l,r={},c=Xo){this.channel=a,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,l){var r;return this._hasReceived(a)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:a,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:l}){this.recHooks.filter(r=>r.status===a).forEach(r=>r.callback(l))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Tm;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Tm||(Tm={}));class Os{constructor(a,l){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Os.syncState(this.state,c,h,f),this.pendingDiffs.forEach(m=>{this.state=Os.syncDiff(this.state,m,h,f)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},c=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Os.syncDiff(this.state,c,h,f),g())}),this.onJoin((c,h,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:f})}),this.onLeave((c,h,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,l,r,c){const h=this.cloneDeep(a),f=this.transformState(l),g={},m={};return this.map(h,(v,b)=>{f[v]||(m[v]=b)}),this.map(f,(v,b)=>{const O=h[v];if(O){const x=b.map(H=>H.presence_ref),w=O.map(H=>H.presence_ref),A=b.filter(H=>w.indexOf(H.presence_ref)<0),B=O.filter(H=>x.indexOf(H.presence_ref)<0);A.length>0&&(g[v]=A),B.length>0&&(m[v]=B)}else g[v]=b}),this.syncDiff(h,{joins:g,leaves:m},r,c)}static syncDiff(a,l,r,c){const{joins:h,leaves:f}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(h,(g,m)=>{var v;const b=(v=a[g])!==null&&v!==void 0?v:[];if(a[g]=this.cloneDeep(m),b.length>0){const O=a[g].map(w=>w.presence_ref),x=b.filter(w=>O.indexOf(w.presence_ref)<0);a[g].unshift(...x)}r(g,b,m)}),this.map(f,(g,m)=>{let v=a[g];if(!v)return;const b=m.map(O=>O.presence_ref);v=v.filter(O=>b.indexOf(O.presence_ref)<0),a[g]=v,c(g,v,m),v.length===0&&delete a[g]}),a}static map(a,l){return Object.getOwnPropertyNames(a).map(r=>l(r,a[r]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((l,r)=>{const c=a[r];return"metas"in c?l[r]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):l[r]=c,l},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Am;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Am||(Am={}));var js;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(js||(js={}));var _n;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class _i{constructor(a,l={config:{}},r){var c,h;if(this.topic=a,this.params=l,this.socket=r,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new Lo(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new Fm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Os(this),this.broadcastEndpointURL=tg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,l=this.timeout){var r,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:f,presence:g,private:m}}=this.params,v=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(w=>w.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[js.PRESENCE]&&this.bindings[js.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,O={},x={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(O.access_token=this.socket.accessTokenValue),this._onError(w=>a==null?void 0:a(_n.CHANNEL_ERROR,w)),this._onClose(()=>a==null?void 0:a(_n.CLOSED)),this.updateJoinPayload(Object.assign({config:x},O)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:w})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){a==null||a(_n.SUBSCRIBED);return}else{const B=this.bindings.postgres_changes,H=(A=B==null?void 0:B.length)!==null&&A!==void 0?A:0,$=[];for(let V=0;V<H;V++){const q=B[V],{filter:{event:W,schema:pe,table:ae,filter:Z}}=q,Re=w&&w[V];if(Re&&Re.event===W&&_i.isFilterValueEqual(Re.schema,pe)&&_i.isFilterValueEqual(Re.table,ae)&&_i.isFilterValueEqual(Re.filter,Z))$.push(Object.assign(Object.assign({},q),{id:Re.id}));else{this.unsubscribe(),this.state=Ye.errored,a==null||a(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,a&&a(_n.SUBSCRIBED);return}}).receive("error",w=>{this.state=Ye.errored,a==null||a(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,l={}){return await this.send({type:"presence",event:"track",payload:a},l.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,l,r){return this.state===Ye.joined&&a===js.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,l,r)}async httpSend(a,l,r={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let m=g.statusText;try{const v=await g.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(a,l={}){var r,c;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,g,m;const v=this._push(a.type,a,l.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||m===void 0)&&m.ack)&&h("ok"),v.receive("ok",()=>h("ok")),v.receive("error",()=>h("error")),v.receive("timeout",()=>h("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Ye.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new Lo(this,Yt.leave,{},a),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ye.closed,this.bindings={}}async _fetchWithTimeout(a,l,r){const c=new AbortController,h=setTimeout(()=>c.abort(),r),f=await this.socket.fetch(a,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(h),f}_push(a,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Lo(this,a,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>pp){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(a,l,r){return l}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,l,r){var c,h;const f=a.toLocaleLowerCase(),{close:g,error:m,leave:v,join:b}=Yt;if(r&&[g,m,v,b].indexOf(f)>=0&&r!==this._joinRef())return;let x=this._onMessage(f,l,r);if(l&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(w=>{var A,B,H;return((A=w.filter)===null||A===void 0?void 0:A.event)==="*"||((H=(B=w.filter)===null||B===void 0?void 0:B.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===f}).map(w=>w.callback(x,r)):(h=this.bindings[f])===null||h===void 0||h.filter(w=>{var A,B,H,$,V,q;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const W=w.id,pe=(A=w.filter)===null||A===void 0?void 0:A.event;return W&&((B=l.ids)===null||B===void 0?void 0:B.includes(W))&&(pe==="*"||(pe==null?void 0:pe.toLocaleLowerCase())===((H=l.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))}else{const W=(V=($=w==null?void 0:w.filter)===null||$===void 0?void 0:$.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return W==="*"||W===((q=l==null?void 0:l.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof x=="object"&&"ids"in x){const A=x.data,{schema:B,table:H,commit_timestamp:$,type:V,errors:q}=A;x=Object.assign(Object.assign({},{schema:B,table:H,commit_timestamp:$,eventType:V,new:{},old:{},errors:q}),this._getPayloadRecords(A))}w.callback(x,r)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,l,r){const c=a.toLocaleLowerCase(),h={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(a,l){const r=a.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===r&&_i.isEqual(c.filter,l))})),this}static isEqual(a,l){if(Object.keys(a).length!==Object.keys(l).length)return!1;for(const r in a)if(a[r]!==l[r])return!1;return!0}static isFilterValueEqual(a,l){return(a??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Yt.close,{},a)}_onError(a){this._on(Yt.error,{},l=>a(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const l={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(l.new=Em(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(l.old=Em(a.columns,a.old_record)),l}}const qo=()=>{},nr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Op=[1e3,2e3,5e3,1e4],jp=1e4,Rp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xp{constructor(a,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xo,this.transport=null,this.heartbeatIntervalMs=nr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qo,this.ref=0,this.reconnectTimer=null,this.vsn=wm,this.logger=qo,this.conn=null,this.sendBuffer=[],this.serializer=new bp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((r=l==null?void 0:l.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${a}/${Jo.websocket}`,this.httpEndpoint=tg(a),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dp.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const l=a.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const l=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const a=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,l,r){this.logger(a,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zn.connecting:return ba.Connecting;case Zn.open:return ba.Open;case Zn.closing:return ba.Closing;default:return ba.Closed}}isConnected(){return this.connectionState()===ba.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,l={config:{}}){const r=`realtime:${a}`,c=this.getChannels().find(h=>h.topic===r);if(c)return c;{const h=new _i(`realtime:${a}`,l,this);return this.channels.push(h),h}}push(a){const{topic:l,event:r,payload:c,ref:h}=a,f=()=>{this.encode(a,g=>{var m;(m=this.conn)===null||m===void 0||m.send(g)})};this.log("push",`${l} ${r} (${h})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(yp,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},nr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let l=this.channels.find(r=>r.topic===a&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${a}"`),l.unsubscribe())}_remove(a){this.channels=this.channels.filter(l=>l.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",v)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:h,ref:f}=l,g=f?`(${f})`:"",m=h.status||"";this.log("receive",`${m} ${r} ${c} ${g}`.trim(),h),this.channels.filter(v=>v._isMember(r)).forEach(v=>v._trigger(c,h,f)),this._triggerStateCallbacks("message",l)})}_clearTimer(a){var l;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===Zn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zn.open||this.conn.readyState===Zn.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var l;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(Yt.error))}_appendParams(a,l){if(Object.keys(l).length===0)return a;const r=a.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${a}${r}${c}`}_workerObjectUrl(a){let l;if(a)l=a;else{const r=new Blob([Rp],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(a,l=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(a=null){let l,r=!1;if(a)l=a,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const h={access_token:l,version:gp};l&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(Yt.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${a}`,l)})}_triggerStateCallbacks(a,l){try{this.stateChangeCallbacks[a].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(r){this.log("error",`error triggering ${a} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Fm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var l,r,c,h,f,g,m,v,b,O,x,w;switch(this.transport=(l=a==null?void 0:a.transport)!==null&&l!==void 0?l:null,this.timeout=(r=a==null?void 0:a.timeout)!==null&&r!==void 0?r:Xo,this.heartbeatIntervalMs=(c=a==null?void 0:a.heartbeatIntervalMs)!==null&&c!==void 0?c:nr.HEARTBEAT_INTERVAL,this.worker=(h=a==null?void 0:a.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=a==null?void 0:a.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=a==null?void 0:a.heartbeatCallback)!==null&&g!==void 0?g:qo,this.vsn=(m=a==null?void 0:a.vsn)!==null&&m!==void 0?m:wm,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=a==null?void 0:a.reconnectAfterMs)!==null&&v!==void 0?v:(A=>Op[A-1]||jp),this.vsn){case vp:this.encode=(b=a==null?void 0:a.encode)!==null&&b!==void 0?b:((A,B)=>B(JSON.stringify(A))),this.decode=(O=a==null?void 0:a.decode)!==null&&O!==void 0?O:((A,B)=>B(JSON.parse(A)));break;case Pm:this.encode=(x=a==null?void 0:a.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(w=a==null?void 0:a.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}var xs=class extends Error{constructor(s,a){var l;super(s),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&((l=a.icebergType)==null?void 0:l.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Cp(s,a,l){const r=new URL(a,s);if(l)for(const[c,h]of Object.entries(l))h!==void 0&&r.searchParams.set(c,h);return r.toString()}async function Np(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function Up(s){const a=s.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:c,body:h,headers:f}){const g=Cp(s.baseUrl,r,c),m=await Np(s.auth),v=await a(g,{method:l,headers:{...h?{"Content-Type":"application/json"}:{},...m,...f},body:h?JSON.stringify(h):void 0}),b=await v.text(),O=(v.headers.get("content-type")||"").includes("application/json"),x=O&&b?JSON.parse(b):b;if(!v.ok){const w=O?x:void 0,A=w==null?void 0:w.error;throw new xs((A==null?void 0:A.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:w})}return{status:v.status,headers:v.headers,data:x}}}}function ar(s){return s.join("")}var Dp=class{constructor(s,a=""){this.client=s,this.prefix=a}async listNamespaces(s){const a=s?{parent:ar(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(s,a){const l={namespace:s.namespace,properties:a==null?void 0:a.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ar(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ar(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ar(s.namespace)}`}),!0}catch(a){if(a instanceof xs&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(s,a){try{return await this.createNamespace(s,a)}catch(l){if(l instanceof xs&&l.status===409)return;throw l}}};function hi(s){return s.join("")}var zp=class{constructor(s,a="",l){this.client=s,this.prefix=a,this.accessDelegation=l}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hi(s.namespace)}/tables`})).data.identifiers}async createTable(s,a){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hi(s.namespace)}/tables`,body:a,headers:l})).data.metadata}async updateTable(s,a){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hi(s.namespace)}/tables/${s.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(s,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hi(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((a==null?void 0:a.purge)??!1)}})}async loadTable(s){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hi(s.namespace)}/tables/${s.name}`,headers:a})).data.metadata}async tableExists(s){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hi(s.namespace)}/tables/${s.name}`,headers:a}),!0}catch(l){if(l instanceof xs&&l.status===404)return!1;throw l}}async createTableIfNotExists(s,a){try{return await this.createTable(s,a)}catch(l){if(l instanceof xs&&l.status===409)return await this.loadTable({namespace:s.namespace,name:a.name});throw l}}},kp=class{constructor(s){var r;let a="v1";s.catalogName&&(a+=`/${s.catalogName}`);const l=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=Up({baseUrl:l,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(r=s.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Dp(this.client,a),this.tableOps=new zp(this.client,a,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,a){return this.namespaceOps.createNamespace(s,a)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,a){return this.tableOps.createTable(s,a)}async updateTable(s,a){return this.tableOps.updateTable(s,a)}async dropTable(s,a){await this.tableOps.dropTable(s,a)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,a){return this.namespaceOps.createNamespaceIfNotExists(s,a)}async createTableIfNotExists(s,a){return this.tableOps.createTableIfNotExists(s,a)}},gr=class extends Error{constructor(s,a="storage",l,r){super(s),this.__isStorageError=!0,this.namespace=a,this.name=a==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=r}};function vr(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var ir=class extends gr{constructor(s,a,l,r="storage"){super(s,r,a,l),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=a,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ng=class extends gr{constructor(s,a,l="storage"){super(s,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=a}};const Mp=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),Bp=s=>{if(typeof s!="object"||s===null)return!1;const a=Object.getPrototypeOf(s);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Io=s=>{if(Array.isArray(s))return s.map(l=>Io(l));if(typeof s=="function"||s!==Object(s))return s;const a={};return Object.entries(s).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));a[c]=Io(r)}),a},Lp=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Cs(s){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Cs(s)}function qp(s,a){if(Cs(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function Hp(s){var a=qp(s,"string");return Cs(a)=="symbol"?a:a+""}function $p(s,a,l){return(a=Hp(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function Om(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function ee(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Om(Object(l),!0).forEach(function(r){$p(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Om(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const jm=s=>{var a;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(a=s.error)===null||a===void 0?void 0:a.message)||JSON.stringify(s)},Gp=async(s,a,l,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(l!=null&&l.noResolveJson)){const c=s,h=c.status||500;if(typeof c.json=="function")c.json().then(f=>{const g=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||h+"";a(new ir(jm(f),h,g,r))}).catch(()=>{if(r==="vectors"){const f=h+"";a(new ir(c.statusText||`HTTP ${h} error`,h,f,r))}else{const f=h+"";a(new ir(c.statusText||`HTTP ${h} error`,h,f,r))}});else{const f=h+"";a(new ir(c.statusText||`HTTP ${h} error`,h,f,r))}}else a(new ng(jm(s),s,r))},Kp=(s,a,l,r)=>{const c={method:s,headers:(a==null?void 0:a.headers)||{}};return s==="GET"||s==="HEAD"||!r?ee(ee({},c),l):(Bp(r)?(c.headers=ee({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(r)):c.body=r,a!=null&&a.duplex&&(c.duplex=a.duplex),ee(ee({},c),l))};async function Es(s,a,l,r,c,h,f){return new Promise((g,m)=>{s(l,Kp(a,r,c,h)).then(v=>{if(!v.ok)throw v;if(r!=null&&r.noResolveJson)return v;if(f==="vectors"){const b=v.headers.get("content-type");if(v.headers.get("content-length")==="0"||v.status===204)return{};if(!b||!b.includes("application/json"))return{}}return v.json()}).then(v=>g(v)).catch(v=>Gp(v,m,r,f))})}function ag(s="storage"){return{get:async(a,l,r,c)=>Es(a,"GET",l,r,c,void 0,s),post:async(a,l,r,c,h)=>Es(a,"POST",l,c,h,r,s),put:async(a,l,r,c,h)=>Es(a,"PUT",l,c,h,r,s),head:async(a,l,r,c)=>Es(a,"HEAD",l,ee(ee({},r),{},{noResolveJson:!0}),c,void 0,s),remove:async(a,l,r,c,h)=>Es(a,"DELETE",l,c,h,r,s)}}const Vp=ag("storage"),{get:Ns,post:Vt,put:Wo,head:Yp,remove:sc}=Vp,Ot=ag("vectors");var wi=class{constructor(s,a={},l,r="storage"){this.shouldThrowOnError=!1,this.url=s,this.headers=a,this.fetch=Mp(l),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=ee(ee({},this.headers),{},{[s]:a}),this}async handleOperation(s){var a=this;try{return{data:await s(),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(vr(l))return{data:null,error:l};throw l}}},Qp=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a}then(s,a){return this.execute().then(s,a)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(vr(a))return{data:null,error:a};throw a}}};let ig;ig=Symbol.toStringTag;var Xp=class{constructor(s,a){this.downloadFn=s,this.shouldThrowOnError=a,this[ig]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qp(this.downloadFn,this.shouldThrowOnError)}then(s,a){return this.getPromise().then(s,a)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(vr(a))return{data:null,error:a};throw a}}};const Jp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Zp=class extends wi{constructor(s,a={},l,r){super(s,a,r,"storage"),this.bucketId=l}async uploadOrUpdate(s,a,l,r){var c=this;return c.handleOperation(async()=>{let h;const f=ee(ee({},Rm),r);let g=ee(ee({},c.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&l instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),m&&h.append("metadata",c.encodeMetadata(m)),h.append("",l)):typeof FormData<"u"&&l instanceof FormData?(h=l,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),m&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(m))):(h=l,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,m&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(m))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),r!=null&&r.headers&&(g=ee(ee({},g),r.headers));const v=c._removeEmptyFolders(a),b=c._getFinalPath(v),O=await(s=="PUT"?Wo:Vt)(c.fetch,`${c.url}/object/${b}`,h,ee({headers:g},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{path:v,id:O.Id,fullPath:O.Key}})}async upload(s,a,l){return this.uploadOrUpdate("POST",s,a,l)}async uploadToSignedUrl(s,a,l,r){var c=this;const h=c._removeEmptyFolders(s),f=c._getFinalPath(h),g=new URL(c.url+`/object/upload/sign/${f}`);return g.searchParams.set("token",a),c.handleOperation(async()=>{let m;const v=ee({upsert:Rm.upsert},r),b=ee(ee({},c.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",v.cacheControl)):(m=l,b["cache-control"]=`max-age=${v.cacheControl}`,b["content-type"]=v.contentType),{path:h,fullPath:(await Wo(c.fetch,g.toString(),m,{headers:b})).Key}})}async createSignedUploadUrl(s,a){var l=this;return l.handleOperation(async()=>{let r=l._getFinalPath(s);const c=ee({},l.headers);a!=null&&a.upsert&&(c["x-upsert"]="true");const h=await Vt(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:c}),f=new URL(l.url+h.url),g=f.searchParams.get("token");if(!g)throw new gr("No token returned by API");return{signedUrl:f.toString(),path:s,token:g}})}async update(s,a,l){return this.uploadOrUpdate("PUT",s,a,l)}async move(s,a,l){var r=this;return r.handleOperation(async()=>await Vt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers}))}async copy(s,a,l){var r=this;return r.handleOperation(async()=>({path:(await Vt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:s,destinationKey:a,destinationBucket:l==null?void 0:l.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(s,a,l){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(s),h=await Vt(r.fetch,`${r.url}/object/sign/${c}`,ee({expiresIn:a},l!=null&&l.transform?{transform:l.transform}:{}),{headers:r.headers});const f=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${r.url}${h.signedURL}${f}`)}})}async createSignedUrls(s,a,l){var r=this;return r.handleOperation(async()=>{const c=await Vt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:a,paths:s},{headers:r.headers}),h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return c.map(f=>ee(ee({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${h}`):null}))})}download(s,a,l){const r=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),h=c?`?${c}`:"",f=this._getFinalPath(s),g=()=>Ns(this.fetch,`${this.url}/${r}/${f}${h}`,{headers:this.headers,noResolveJson:!0},l);return new Xp(g,this.shouldThrowOnError)}async info(s){var a=this;const l=a._getFinalPath(s);return a.handleOperation(async()=>Io(await Ns(a.fetch,`${a.url}/object/info/${l}`,{headers:a.headers})))}async exists(s){var a=this;const l=a._getFinalPath(s);try{return await Yp(a.fetch,`${a.url}/object/${l}`,{headers:a.headers}),{data:!0,error:null}}catch(r){if(a.shouldThrowOnError)throw r;if(vr(r)&&r instanceof ng){const c=r.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:r}}throw r}}getPublicUrl(s,a){const l=this._getFinalPath(s),r=[],c=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&r.push(c);const h=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});f!==""&&r.push(f);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${l}${g}`)}}}async remove(s){var a=this;return a.handleOperation(async()=>await sc(a.fetch,`${a.url}/object/${a.bucketId}`,{prefixes:s},{headers:a.headers}))}async list(s,a,l){var r=this;return r.handleOperation(async()=>{const c=ee(ee(ee({},Jp),a),{},{prefix:s||""});return await Vt(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},l)})}async listV2(s,a){var l=this;return l.handleOperation(async()=>{const r=ee({},s);return await Vt(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},a)})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const a=[];return s.width&&a.push(`width=${s.width}`),s.height&&a.push(`height=${s.height}`),s.resize&&a.push(`resize=${s.resize}`),s.format&&a.push(`format=${s.format}`),s.quality&&a.push(`quality=${s.quality}`),a.join("&")}};const Ip="2.97.0",Ms={"X-Client-Info":`storage-js/${Ip}`};var Wp=class extends wi{constructor(s,a={},l,r){const c=new URL(s);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const h=c.href.replace(/\/$/,""),f=ee(ee({},Ms),a);super(h,f,l,"storage")}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=a.listBucketOptionsToQueryString(s);return await Ns(a.fetch,`${a.url}/bucket${l}`,{headers:a.headers})})}async getBucket(s){var a=this;return a.handleOperation(async()=>await Ns(a.fetch,`${a.url}/bucket/${s}`,{headers:a.headers}))}async createBucket(s,a={public:!1}){var l=this;return l.handleOperation(async()=>await Vt(l.fetch,`${l.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async updateBucket(s,a){var l=this;return l.handleOperation(async()=>await Wo(l.fetch,`${l.url}/bucket/${s}`,{id:s,name:s,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(s){var a=this;return a.handleOperation(async()=>await Vt(a.fetch,`${a.url}/bucket/${s}/empty`,{},{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await sc(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}listBucketOptionsToQueryString(s){const a={};return s&&("limit"in s&&(a.limit=String(s.limit)),"offset"in s&&(a.offset=String(s.offset)),s.search&&(a.search=s.search),s.sortColumn&&(a.sortColumn=s.sortColumn),s.sortOrder&&(a.sortOrder=s.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}},Pp=class extends wi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=ee(ee({},Ms),a);super(r,c,l,"storage")}async createBucket(s){var a=this;return a.handleOperation(async()=>await Vt(a.fetch,`${a.url}/bucket`,{name:s},{headers:a.headers}))}async listBuckets(s){var a=this;return a.handleOperation(async()=>{const l=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&l.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&l.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&l.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&l.set("sortOrder",s.sortOrder),s!=null&&s.search&&l.set("search",s.search);const r=l.toString(),c=r?`${a.url}/bucket?${r}`:`${a.url}/bucket`;return await Ns(a.fetch,c,{headers:a.headers})})}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await sc(a.fetch,`${a.url}/bucket/${s}`,{},{headers:a.headers}))}from(s){var a=this;if(!Lp(s))throw new gr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new kp({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>a.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(c,h){const f=c[h];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(c,g),error:null}}catch(m){if(r)throw m;return{data:null,error:m}}}}})}},Fp=class extends wi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=ee(ee({},Ms),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createIndex(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/CreateIndex`,s,{headers:a.headers})||{})}async getIndex(s,a){var l=this;return l.handleOperation(async()=>await Ot.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers}))}async listIndexes(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/ListIndexes`,s,{headers:a.headers}))}async deleteIndex(s,a){var l=this;return l.handleOperation(async()=>await Ot.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:s,indexName:a},{headers:l.headers})||{})}},e0=class extends wi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=ee(ee({},Ms),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async putVectors(s){var a=this;if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/PutVectors`,s,{headers:a.headers})||{})}async getVectors(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/GetVectors`,s,{headers:a.headers}))}async listVectors(s){var a=this;if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/ListVectors`,s,{headers:a.headers}))}async queryVectors(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/QueryVectors`,s,{headers:a.headers}))}async deleteVectors(s){var a=this;if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/DeleteVectors`,s,{headers:a.headers})||{})}},t0=class extends wi{constructor(s,a={},l){const r=s.replace(/\/$/,""),c=ee(ee({},Ms),{},{"Content-Type":"application/json"},a);super(r,c,l,"vectors")}async createBucket(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}async getBucket(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/GetVectorBucket`,{vectorBucketName:s},{headers:a.headers}))}async listBuckets(s={}){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/ListVectorBuckets`,s,{headers:a.headers}))}async deleteBucket(s){var a=this;return a.handleOperation(async()=>await Ot.post(a.fetch,`${a.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:a.headers})||{})}},n0=class extends t0{constructor(s,a={}){super(s,a.headers||{},a.fetch)}from(s){return new a0(this.url,this.headers,s,this.fetch)}async createBucket(s){var a=()=>super.createBucket,l=this;return a().call(l,s)}async getBucket(s){var a=()=>super.getBucket,l=this;return a().call(l,s)}async listBuckets(s={}){var a=()=>super.listBuckets,l=this;return a().call(l,s)}async deleteBucket(s){var a=()=>super.deleteBucket,l=this;return a().call(l,s)}},a0=class extends Fp{constructor(s,a,l,r){super(s,a,r),this.vectorBucketName=l}async createIndex(s){var a=()=>super.createIndex,l=this;return a().call(l,ee(ee({},s),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(s={}){var a=()=>super.listIndexes,l=this;return a().call(l,ee(ee({},s),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(s){var a=()=>super.getIndex,l=this;return a().call(l,l.vectorBucketName,s)}async deleteIndex(s){var a=()=>super.deleteIndex,l=this;return a().call(l,l.vectorBucketName,s)}index(s){return new i0(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},i0=class extends e0{constructor(s,a,l,r,c){super(s,a,c),this.vectorBucketName=l,this.indexName=r}async putVectors(s){var a=()=>super.putVectors,l=this;return a().call(l,ee(ee({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(s){var a=()=>super.getVectors,l=this;return a().call(l,ee(ee({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(s={}){var a=()=>super.listVectors,l=this;return a().call(l,ee(ee({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(s){var a=()=>super.queryVectors,l=this;return a().call(l,ee(ee({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(s){var a=()=>super.deleteVectors,l=this;return a().call(l,ee(ee({},s),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},s0=class extends Wp{constructor(s,a={},l,r){super(s,a,l,r)}from(s){return new Zp(this.url,this.headers,s,this.fetch)}get vectors(){return new n0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Pp(this.url+"/iceberg",this.headers,this.fetch)}};const sg="2.97.0",pi=30*1e3,Po=3,Ho=Po*pi,l0="http://localhost:9999",r0="supabase.auth.token",u0={"X-Client-Info":`gotrue-js/${sg}`},Fo="X-Supabase-Api-Version",lg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,c0=600*1e3;class Us extends Error{constructor(a,l,r){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function J(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class h0 extends Us{constructor(a,l,r){super(a,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function f0(s){return J(s)&&s.name==="AuthApiError"}class _a extends Us{constructor(a,l){super(a),this.name="AuthUnknownError",this.originalError=l}}class wn extends Us{constructor(a,l,r,c){super(a,r,c),this.name=l,this.status=r}}class At extends wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $o(s){return J(s)&&s.name==="AuthSessionMissingError"}class fi extends wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sr extends wn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class lr extends wn{constructor(a,l=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d0(s){return J(s)&&s.name==="AuthImplicitGrantRedirectError"}class xm extends wn{constructor(a,l=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class m0 extends wn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ec extends wn{constructor(a,l){super(a,"AuthRetryableFetchError",l,void 0)}}function Go(s){return J(s)&&s.name==="AuthRetryableFetchError"}class Cm extends wn{constructor(a,l,r){super(a,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class tc extends wn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const hr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nm=` 	
\r=`.split(""),g0=(()=>{const s=new Array(128);for(let a=0;a<s.length;a+=1)s[a]=-1;for(let a=0;a<Nm.length;a+=1)s[Nm[a].charCodeAt(0)]=-2;for(let a=0;a<hr.length;a+=1)s[hr[a].charCodeAt(0)]=a;return s})();function Um(s,a,l){if(s!==null)for(a.queue=a.queue<<8|s,a.queuedBits+=8;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(hr[r]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;l(hr[r]),a.queuedBits-=6}}function rg(s,a,l){const r=g0[s];if(r>-1)for(a.queue=a.queue<<6|r,a.queuedBits+=6;a.queuedBits>=8;)l(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Dm(s){const a=[],l=f=>{a.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=f=>{p0(f,r,l)};for(let f=0;f<s.length;f+=1)rg(s.charCodeAt(f),c,h);return a.join("")}function v0(s,a){if(s<=127){a(s);return}else if(s<=2047){a(192|s>>6),a(128|s&63);return}else if(s<=65535){a(224|s>>12),a(128|s>>6&63),a(128|s&63);return}else if(s<=1114111){a(240|s>>18),a(128|s>>12&63),a(128|s>>6&63),a(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function y0(s,a){for(let l=0;l<s.length;l+=1){let r=s.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(s.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}v0(r,a)}}function p0(s,a,l){if(a.utf8seq===0){if(s<=127){l(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){a.utf8seq=r;break}if(a.utf8seq===2)a.codepoint=s&31;else if(a.utf8seq===3)a.codepoint=s&15;else if(a.utf8seq===4)a.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|s&63,a.utf8seq-=1,a.utf8seq===0&&l(a.codepoint)}}function Si(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};for(let c=0;c<s.length;c+=1)rg(s.charCodeAt(c),l,r);return new Uint8Array(a)}function b0(s){const a=[];return y0(s,l=>a.push(l)),new Uint8Array(a)}function Sa(s){const a=[],l={queue:0,queuedBits:0},r=c=>{a.push(c)};return s.forEach(c=>Um(c,l,r)),Um(null,l,r),a.join("")}function _0(s){return Math.round(Date.now()/1e3)+s}function S0(){return Symbol("auth-callback")}const at=()=>typeof window<"u"&&typeof document<"u",va={tested:!1,writable:!1},ug=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(va.tested)return va.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),va.tested=!0,va.writable=!0}catch{va.tested=!0,va.writable=!1}return va.writable};function w0(s){const a={},l=new URL(s);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,h)=>{a[h]=c})}catch{}return l.searchParams.forEach((r,c)=>{a[c]=r}),a}const og=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),E0=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",bi=async(s,a,l)=>{await s.setItem(a,JSON.stringify(l))},ya=async(s,a)=>{const l=await s.getItem(a);if(!l)return null;try{return JSON.parse(l)}catch{return l}},nt=async(s,a)=>{await s.removeItem(a)};class yr{constructor(){this.promise=new yr.promiseConstructor((a,l)=>{this.resolve=a,this.reject=l})}}yr.promiseConstructor=Promise;function rr(s){const a=s.split(".");if(a.length!==3)throw new tc("Invalid JWT structure");for(let r=0;r<a.length;r++)if(!o0.test(a[r]))throw new tc("JWT not in base64url format");return{header:JSON.parse(Dm(a[0])),payload:JSON.parse(Dm(a[1])),signature:Si(a[2]),raw:{header:a[0],payload:a[1]}}}async function T0(s){return await new Promise(a=>{setTimeout(()=>a(null),s)})}function A0(s,a){return new Promise((r,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await s(h);if(!a(h,null,f)){r(f);return}}catch(f){if(!a(h,f)){c(f);return}}})()})}function O0(s){return("0"+s.toString(16)).substr(-2)}function j0(){const a=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let h=0;h<56;h++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(a),Array.from(a,O0).join("")}async function R0(s){const l=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function x0(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const l=await R0(s);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function di(s,a,l=!1){const r=j0();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await bi(s,`${a}-code-verifier`,c);const h=await x0(r);return[h,r===h?"plain":"s256"]}const C0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function N0(s){const a=s.headers.get(Fo);if(!a||!a.match(C0))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function U0(s){if(!s)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(s<=a)throw new Error("JWT has expired")}function D0(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const z0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mi(s){if(!z0.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ko(){const s={};return new Proxy(s,{get:(a,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k0(s,a){return new Proxy(s,{get:(l,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const h=r.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,c)}return!a.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(l,r,c)}})}function zm(s){return JSON.parse(JSON.stringify(s))}const pa=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),M0=[502,503,504];async function km(s){var a;if(!E0(s))throw new ec(pa(s),0);if(M0.includes(s.status))throw new ec(pa(s),s.status);let l;try{l=await s.json()}catch(h){throw new _a(pa(h),h)}let r;const c=N0(s);if(c&&c.getTime()>=lg["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new Cm(pa(l),s.status,((a=l.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Cm(pa(l),s.status,l.weak_password.reasons);throw new h0(pa(l),s.status||500,r)}const B0=(s,a,l,r)=>{const c={method:s,headers:(a==null?void 0:a.headers)||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function te(s,a,l,r){var c;const h=Object.assign({},r==null?void 0:r.headers);h[Fo]||(h[Fo]=lg["2024-01-01"].name),r!=null&&r.jwt&&(h.Authorization=`Bearer ${r.jwt}`);const f=(c=r==null?void 0:r.query)!==null&&c!==void 0?c:{};r!=null&&r.redirectTo&&(f.redirect_to=r.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await L0(s,a,l+g,{headers:h,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function L0(s,a,l,r,c,h){const f=B0(a,r,c,h);let g;try{g=await s(l,Object.assign({},f))}catch(m){throw console.error(m),new ec(pa(m),0)}if(g.ok||await km(g),r!=null&&r.noResolveJson)return g;try{return await g.json()}catch(m){await km(m)}}function Kt(s){var a;let l=null;$0(s)&&(l=Object.assign({},s),s.expires_at||(l.expires_at=_0(s.expires_in)));const r=(a=s.user)!==null&&a!==void 0?a:s;return{data:{session:l,user:r},error:null}}function Mm(s){const a=Kt(s);return!a.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(a.data.weak_password=s.weak_password),a}function In(s){var a;return{data:{user:(a=s.user)!==null&&a!==void 0?a:s},error:null}}function q0(s){return{data:s,error:null}}function H0(s){const{action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:h}=s,f=mr(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:a,email_otp:l,hashed_token:r,redirect_to:c,verification_type:h},m=Object.assign({},f);return{data:{properties:g,user:m},error:null}}function Bm(s){return s}function $0(s){return s.access_token&&s.refresh_token&&s.expires_in}const Vo=["global","local","others"];class G0{constructor({url:a="",headers:l={},fetch:r}){this.url=a,this.headers=l,this.fetch=og(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,l=Vo[0]){if(Vo.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vo.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(a,l={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:In})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(a){try{const{options:l}=a,r=mr(a,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r==null?void 0:r.newEmail,delete c.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:H0,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(J(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(a){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:In})}catch(l){if(J(l))return{data:{user:null},error:l};throw l}}async listUsers(a){var l,r,c,h,f,g,m;try{const v={nextPage:null,lastPage:0,total:0},b=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a==null?void 0:a.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Bm});if(b.error)throw b.error;const O=await b.json(),x=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(A=>{const B=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(A.split(";")[1].split("=")[1]);v[`${H}Page`]=B}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},O),v),error:null}}catch(v){if(J(v))return{data:{users:[]},error:v};throw v}}async getUserById(a){mi(a);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:In})}catch(l){if(J(l))return{data:{user:null},error:l};throw l}}async updateUserById(a,l){mi(a);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:l,headers:this.headers,xform:In})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(a,l=!1){mi(a);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:l},xform:In})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(a){mi(a.userId);try{const{data:l,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(J(l))return{data:null,error:l};throw l}}async _deleteFactor(a){mi(a.userId),mi(a.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(l){if(J(l))return{data:null,error:l};throw l}}async _listOAuthClients(a){var l,r,c,h,f,g,m;try{const v={nextPage:null,lastPage:0,total:0},b=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=a==null?void 0:a.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Bm});if(b.error)throw b.error;const O=await b.json(),x=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(m=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(A=>{const B=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(A.split(";")[1].split("=")[1]);v[`${H}Page`]=B}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},O),v),error:null}}catch(v){if(J(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(a){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(J(l))return{data:null,error:l};throw l}}async _getOAuthClient(a){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(J(l))return{data:null,error:l};throw l}}async _updateOAuthClient(a,l){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(a){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(J(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(a){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(J(l))return{data:null,error:l};throw l}}}function Lm(s={}){return{getItem:a=>s[a]||null,setItem:(a,l)=>{s[a]=l},removeItem:a=>{delete s[a]}}}const gi={debug:!!(globalThis&&ug()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cg extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class qm extends cg{}async function K0(s,a,l){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,a);const r=new globalThis.AbortController;a>0&&setTimeout(()=>{r.abort(),gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},a),await Promise.resolve();try{return await globalThis.navigator.locks.request(s,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await l()}finally{gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(a===0)throw gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new qm(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(gi.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}})}catch(c){throw(c==null?void 0:c.name)==="AbortError"?new qm(`Acquiring an exclusive Navigator LockManager lock "${s}" timed out waiting ${a}ms`):c}}function V0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hg(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Y0(s){return parseInt(s,16)}function Q0(s){const a=new TextEncoder().encode(s);return"0x"+Array.from(a,r=>r.toString(16).padStart(2,"0")).join("")}function X0(s){var a;const{chainId:l,domain:r,expirationTime:c,issuedAt:h=new Date,nonce:f,notBefore:g,requestId:m,resources:v,scheme:b,uri:O,version:x}=s;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!O)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((a=s.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const w=hg(s.address),A=b?`${b}://${r}`:r,B=s.statement?`${s.statement}
`:"",H=`${A} wants you to sign in with your Ethereum account:
${w}

${B}`;let $=`URI: ${O}
Version: ${x}
Chain ID: ${l}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(c&&($+=`
Expiration Time: ${c.toISOString()}`),g&&($+=`
Not Before: ${g.toISOString()}`),m&&($+=`
Request ID: ${m}`),v){let V=`
Resources:`;for(const q of v){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);V+=`
- ${q}`}$+=V}return`${H}
${$}`}class Ke extends Error{constructor({message:a,code:l,cause:r,name:c}){var h;super(a,{cause:r}),this.__isWebAuthnError=!0,this.name=(h=c??(r instanceof Error?r.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=l}}class fr extends Ke{constructor(a,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:a}),this.name="WebAuthnUnknownError",this.originalError=l}}function J0({error:s,options:a}){var l,r,c;const{publicKey:h}=a;if(!h)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((l=h.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(a.mediation==="conditional"&&((r=h.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Ke({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(fg(f)){if(h.rp.id!==f)return new Ke({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Z0({error:s,options:a}){const{publicKey:l}=a;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(a.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Ke({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(fg(r)){if(l.rpId!==r)return new Ke({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class I0{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const W0=new I0;function P0(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:a,user:l,excludeCredentials:r}=s,c=mr(s,["challenge","user","excludeCredentials"]),h=Si(a).buffer,f=Object.assign(Object.assign({},l),{id:Si(l.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:h,user:f});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const v=r[m];g.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:Si(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return g}function F0(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:a,allowCredentials:l}=s,r=mr(s,["challenge","allowCredentials"]),c=Si(a).buffer,h=Object.assign(Object.assign({},r),{challenge:c});if(l&&l.length>0){h.allowCredentials=new Array(l.length);for(let f=0;f<l.length;f++){const g=l[f];h.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Si(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function eb(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s;return{id:s.id,rawId:s.id,response:{attestationObject:Sa(new Uint8Array(s.response.attestationObject)),clientDataJSON:Sa(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function tb(s){var a;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const l=s,r=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Sa(new Uint8Array(c.authenticatorData)),clientDataJSON:Sa(new Uint8Array(c.clientDataJSON)),signature:Sa(new Uint8Array(c.signature)),userHandle:c.userHandle?Sa(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(a=l.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function fg(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Hm(){var s,a;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function nb(s){try{const a=await navigator.credentials.create(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new fr("Browser returned unexpected credential type",a)}:{data:null,error:new fr("Empty credential response",a)}}catch(a){return{data:null,error:J0({error:a,options:s})}}}async function ab(s){try{const a=await navigator.credentials.get(s);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new fr("Browser returned unexpected credential type",a)}:{data:null,error:new fr("Empty credential response",a)}}catch(a){return{data:null,error:Z0({error:a,options:s})}}}const ib={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function dr(...s){const a=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of s)if(c)for(const h in c){const f=c[h];if(f!==void 0)if(Array.isArray(f))r[h]=f;else if(l(f))r[h]=f;else if(a(f)){const g=r[h];a(g)?r[h]=dr(g,f):r[h]=dr(f)}else r[h]=f}return r}function lb(s,a){return dr(ib,s,a||{})}function rb(s,a){return dr(sb,s,a||{})}class ub{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:l,friendlyName:r,signal:c},h){var f;try{const{data:g,error:m}=await this.client.mfa.challenge({factorId:a,webauthn:l});if(!g)return{data:null,error:m};const v=c??W0.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:b}=g.webauthn.credential_options.publicKey;if(!b.name){const O=r;if(O)b.name=`${b.id}:${O}`;else{const w=(await this.client.getUser()).data.user,A=((f=w==null?void 0:w.user_metadata)===null||f===void 0?void 0:f.name)||(w==null?void 0:w.email)||(w==null?void 0:w.id)||"User";b.name=`${b.id}:${A}`}}b.displayName||(b.displayName=b.name)}switch(g.webauthn.type){case"create":{const b=lb(g.webauthn.credential_options.publicKey,h==null?void 0:h.create),{data:O,error:x}=await nb({publicKey:b,signal:v});return O?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:O}},error:null}:{data:null,error:x}}case"request":{const b=rb(g.webauthn.credential_options.publicKey,h==null?void 0:h.request),{data:O,error:x}=await ab(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:b,signal:v}));return O?{data:{factorId:a,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:O}},error:null}:{data:null,error:x}}}}catch(g){return J(g)?{data:null,error:g}:{data:null,error:new _a("Unexpected error in challenge",g)}}}async _verify({challengeId:a,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:a,webauthn:r})}async _authenticate({factorId:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!l)return{data:null,error:new Us("rpId is required for WebAuthn authentication")};try{if(!Hm())return{data:null,error:new _a("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:a,webauthn:{rpId:l,rpOrigins:r},signal:c},{request:h});if(!f)return{data:null,error:g};const{webauthn:m}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:m.type,rpId:l,rpOrigins:r,credential_response:m.credential_response}})}catch(f){return J(f)?{data:null,error:f}:{data:null,error:new _a("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!l)return{data:null,error:new Us("rpId is required for WebAuthn registration")};try{if(!Hm())return{data:null,error:new _a("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(b=>{var O;return(O=b.data)===null||O===void 0?void 0:O.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===a&&x.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:g};const{data:m,error:v}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:c},{create:h});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:l,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(f){return J(f)?{data:null,error:f}:{data:null,error:new _a("Unexpected error in register",f)}}}}V0();const ob={url:l0,storageKey:r0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function $m(s,a,l){return await l()}const vi={};class Ds{get jwks(){var a,l;return(l=(a=vi[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(a){vi[this.storageKey]=Object.assign(Object.assign({},vi[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,l;return(l=(a=vi[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){vi[this.storageKey]=Object.assign(Object.assign({},vi[this.storageKey]),{cachedAt:a})}constructor(a){var l,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},ob),a);if(this.storageKey=h.storageKey,this.instanceID=(l=Ds.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Ds.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&at()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new G0({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=og(h.fetch),this.lock=h.lock||$m,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&at()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=K0:this.lock=$m,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ub(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:ug()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lm(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Lm(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(g){this._debug("#broadcastChannel","error",g)}})}h.skipAutoInitialize||this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sg}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let l={},r="none";if(at()&&(l=w0(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),at()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:h}=await this._getSessionFromURL(l,r);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),d0(h)){const m=(a=h.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return J(l)?this._returnResult({error:l}):this._returnResult({error:new _a("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var l,r,c;try{const h=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=a==null?void 0:a.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=a==null?void 0:a.options)===null||c===void 0?void 0:c.captchaToken}},xform:Kt}),{data:f,error:g}=h;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const m=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(h){if(J(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(a){var l,r,c;try{let h;if("email"in a){const{email:b,password:O,options:x}=a;let w=null,A=null;this.flowType==="pkce"&&([w,A]=await di(this.storage,this.storageKey)),h=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:b,password:O,data:(l=x==null?void 0:x.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:w,code_challenge_method:A},xform:Kt})}else if("phone"in a){const{phone:b,password:O,options:x}=a;h=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:O,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(c=x==null?void 0:x.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Kt})}else throw new sr("You must provide either an email or phone number and a password");const{data:f,error:g}=h;if(g||!f)return await nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const m=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(h){if(await nt(this.storage,`${this.storageKey}-code-verifier`),J(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(a){try{let l;if("email"in a){const{email:h,password:f,options:g}=a;l=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Mm})}else if("phone"in a){const{phone:h,password:f,options:g}=a;l=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Mm})}else throw new sr("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const h=new fi;return this._returnResult({data:{user:null,session:null},error:h})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(J(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(a){var l,r,c,h;return await this._handleProviderSignIn(a.provider,{redirectTo:(l=a.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=a.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=a.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:l}=a;switch(l){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(a){var l,r,c,h,f,g,m,v,b,O,x;let w,A;if("message"in a)w=a.message,A=a.signature;else{const{chain:B,wallet:H,statement:$,options:V}=a;let q;if(at())if(typeof H=="object")q=H;else{const De=window;if("ethereum"in De&&typeof De.ethereum=="object"&&"request"in De.ethereum&&typeof De.ethereum.request=="function")q=De.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!(V!=null&&V.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=H}const W=new URL((l=V==null?void 0:V.url)!==null&&l!==void 0?l:window.location.href),pe=await q.request({method:"eth_requestAccounts"}).then(De=>De).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!pe||pe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ae=hg(pe[0]);let Z=(r=V==null?void 0:V.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Z){const De=await q.request({method:"eth_chainId"});Z=Y0(De)}const Re={domain:W.host,address:ae,statement:$,uri:W.href,version:"1",chainId:Z,nonce:(c=V==null?void 0:V.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(h=V==null?void 0:V.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=V==null?void 0:V.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(m=V==null?void 0:V.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=V==null?void 0:V.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(b=V==null?void 0:V.signInWithEthereum)===null||b===void 0?void 0:b.resources};w=X0(Re),A=await q.request({method:"personal_sign",params:[Q0(w),ae]})}try{const{data:B,error:H}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:A},!((O=a.options)===null||O===void 0)&&O.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Kt});if(H)throw H;if(!B||!B.session||!B.user){const $=new fi;return this._returnResult({data:{user:null,session:null},error:$})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:H})}catch(B){if(J(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async signInWithSolana(a){var l,r,c,h,f,g,m,v,b,O,x,w;let A,B;if("message"in a)A=a.message,B=a.signature;else{const{chain:H,wallet:$,statement:V,options:q}=a;let W;if(at())if(typeof $=="object")W=$;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))W=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=$}const pe=new URL((l=q==null?void 0:q.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in W&&W.signIn){const ae=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q==null?void 0:q.signInWithSolana),{version:"1",domain:pe.host,uri:pe.href}),V?{statement:V}:null));let Z;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")Z=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)Z=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)A=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),B=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${pe.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${pe.href}`,`Issued At: ${(c=(r=q==null?void 0:q.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=q==null?void 0:q.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((f=q==null?void 0:q.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((g=q==null?void 0:q.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((m=q==null?void 0:q.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((v=q==null?void 0:q.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((O=(b=q==null?void 0:q.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||O===void 0)&&O.length?["Resources",...q.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const ae=await W.signMessage(new TextEncoder().encode(A),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=ae}}try{const{data:H,error:$}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Sa(B)},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Kt});if($)throw $;if(!H||!H.session||!H.user){const V=new fi;return this._returnResult({data:{user:null,session:null},error:V})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:$})}catch(H){if(J(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async _exchangeCodeForSession(a){const l=await ya(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new m0;const{data:h,error:f}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:r},xform:Kt});if(await nt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const g=new fi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:f})}catch(h){if(await nt(this.storage,`${this.storageKey}-code-verifier`),J(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(a){try{const{options:l,provider:r,token:c,access_token:h,nonce:f}=a,g=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kt}),{data:m,error:v}=g;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const b=new fi;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(l){if(J(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(a){var l,r,c,h,f;try{if("email"in a){const{email:g,options:m}=a;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await di(this.storage,this.storageKey));const{error:O}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:b},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:O})}if("phone"in a){const{phone:g,options:m}=a,{data:v,error:b}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=m==null?void 0:m.data)!==null&&c!==void 0?c:{},create_user:(h=m==null?void 0:m.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(f=m==null?void 0:m.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:b})}throw new sr("You must provide either an email or phone number.")}catch(g){if(await nt(this.storage,`${this.storageKey}-code-verifier`),J(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(a){var l,r;try{let c,h;"options"in a&&(c=(l=a.options)===null||l===void 0?void 0:l.redirectTo,h=(r=a.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:g}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:Kt});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,v=f.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(J(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(a){var l,r,c,h,f;try{let g=null,m=null;this.flowType==="pkce"&&([g,m]=await di(this.storage,this.storageKey));const v=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(r=(l=a.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=a==null?void 0:a.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:m}),headers:this.headers,xform:q0});return!((h=v.data)===null||h===void 0)&&h.url&&at()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(g){if(await nt(this.storage,`${this.storageKey}-code-verifier`),J(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;if(r)throw r;if(!l)throw new At;const{error:c}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(a){if(J(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const l=`${this.url}/resend`;if("email"in a){const{email:r,type:c,options:h}=a,{error:f}=await te(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:r,type:c,options:h}=a,{data:f,error:g}=await te(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g})}throw new sr("You must provide either an email or phone number and a type")}catch(l){if(J(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(a,l){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await a(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const l=await ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?a=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const r=a.expires_at?a.expires_at*1e3-Date.now()<Ho:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",a.expires_at),!r){if(this.userStorage){const f=await ya(this.userStorage,this.storageKey+"-user");f!=null&&f.user?a.user=f.user:a.user=Ko()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=k0(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:c,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(a){try{return a?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:In}):await this._useSession(async l=>{var r,c,h;const{data:f,error:g}=l;if(g)throw g;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:In})})}catch(l){if(J(l))return $o(l)&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(a,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,l))}async _updateUser(a,l={}){try{return await this._useSession(async r=>{const{data:c,error:h}=r;if(h)throw h;if(!c.session)throw new At;const f=c.session;let g=null,m=null;this.flowType==="pkce"&&a.email!=null&&([g,m]=await di(this.storage,this.storageKey));const{data:v,error:b}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:m}),jwt:f.access_token,xform:In});if(b)throw b;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await nt(this.storage,`${this.storageKey}-code-verifier`),J(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new At;const l=Date.now()/1e3;let r=l,c=!0,h=null;const{payload:f}=rr(a.access_token);if(f.exp&&(r=f.exp,c=r<=l),c){const{data:g,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:m}=await this._getUser(a.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});h={access_token:a.access_token,refresh_token:a.refresh_token,user:g.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(l){if(J(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async l=>{var r;if(!a){const{data:f,error:g}=l;if(g)throw g;a=(r=f.session)!==null&&r!==void 0?r:void 0}if(!(a!=null&&a.refresh_token))throw new At;const{data:c,error:h}=await this._callRefreshToken(a.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(J(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(a,l){try{if(!at())throw new lr("No browser detected.");if(a.error||a.error_description||a.error_code)throw new lr(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new xm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lr("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new xm("No code detected.");const{data:V,error:q}=await this._exchangeCodeForSession(a.code);if(q)throw q;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:h,refresh_token:f,expires_in:g,expires_at:m,token_type:v}=a;if(!h||!g||!f||!v)throw new lr("No session defined in URL");const b=Math.round(Date.now()/1e3),O=parseInt(g);let x=b+O;m&&(x=parseInt(m));const w=x-b;w*1e3<=pi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${O}s`);const A=x-O;b-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,x,b):b-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,x,b);const{data:B,error:H}=await this._getUser(h);if(H)throw H;const $={provider_token:r,provider_refresh_token:c,access_token:h,expires_in:O,expires_at:x,refresh_token:f,token_type:v,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:$,redirectType:a.type},error:null})}catch(r){if(J(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(a){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){const l=await ya(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&l)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h&&!$o(h))return this._returnResult({error:h});const f=(r=c.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:g}=await this.admin.signOut(f,a);if(g&&!(f0(g)&&(g.status===404||g.status===401||g.status===403)||$o(g)))return this._returnResult({error:g})}return a!=="others"&&(await this._removeSession(),await nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const l=S0(),r={id:l,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(a){return await this._useSession(async l=>{var r,c;try{const{data:{session:h},error:f}=l;if(f)throw f;await((r=this.stateChangeEmitters.get(a))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",a,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",h),console.error(h)}})}async resetPasswordForEmail(a,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await di(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(h){if(await nt(this.storage,`${this.storageKey}-code-verifier`),J(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var a;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(a=l.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(l){if(J(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var l;try{const{data:r,error:c}=await this._useSession(async h=>{var f,g,m,v,b;const{data:O,error:x}=h;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=a.options)===null||g===void 0?void 0:g.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",w,{headers:this.headers,jwt:(b=(v=O.session)===null||v===void 0?void 0:v.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return at()&&!(!((l=a.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:a.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(J(r))return this._returnResult({data:{provider:a.provider,url:null},error:r});throw r}}async linkIdentityIdToken(a){return await this._useSession(async l=>{var r;try{const{error:c,data:{session:h}}=l;if(c)throw c;const{options:f,provider:g,token:m,access_token:v,nonce:b}=a,O=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=h==null?void 0:h.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:m,access_token:v,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Kt}),{data:x,error:w}=O;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new fi}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(c){if(await nt(this.storage,`${this.storageKey}-code-verifier`),J(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(a){try{return await this._useSession(async l=>{var r,c;const{data:h,error:f}=l;if(f)throw f;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(r=h.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(J(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(a){const l=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await A0(async c=>(c>0&&await T0(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Kt})),(c,h)=>{const f=200*Math.pow(2,c);return h&&Go(h)&&Date.now()+f-r<pi})}catch(r){if(this._debug(l,"error",r),J(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",l,"url",r),at()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:a,url:r},error:null}}async _recoverAndRefresh(){var a,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await ya(this.storage,this.storageKey);if(c&&this.userStorage){let f=await ya(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await bi(this.userStorage,this.storageKey+"-user",f)),c.user=(a=f==null?void 0:f.user)!==null&&a!==void 0?a:Ko()}else if(c&&!c.user&&!c.user){const f=await ya(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(c.user=f.user,await nt(this.storage,this.storageKey+"-user"),await bi(this.storage,this.storageKey,c)):c.user=Ko()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const h=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Ho;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${Ho}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Go(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(c.access_token);!g&&(f!=null&&f.user)?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var l,r;if(!a)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new yr;const{data:h,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!h.session)throw new At;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(c,"error",h),J(h)){const f={data:null,error:h};return Go(h)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,l,r=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:a,session:l});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(a,l)}catch(m){h.push(m)}});if(await Promise.all(f),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await nt(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},a),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await bi(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const h=zm(c);await bi(this.storage,this.storageKey,h)}else{const c=zm(l);await bi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nt(this.storage,this.storageKey),await nt(this.storage,this.storageKey+"-code-verifier"),await nt(this.storage,this.storageKey+"-user"),this.userStorage&&await nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),pi);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-a)/pi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${pi}ms, refresh threshold is ${Po} ticks`),c<=Po&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof cg)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const l=`#_onVisibilityChanged(${a})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r!=null&&r.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[h,f]=await di(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(g.toString())}if(r!=null&&r.queryParams){const h=new URLSearchParams(r.queryParams);c.push(h.toString())}return r!=null&&r.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;return h?this._returnResult({data:null,error:h}):await te(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(J(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(a){try{return await this._useSession(async l=>{var r,c;const{data:h,error:f}=l;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:v}=await te(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=h==null?void 0:h.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(a.factorType==="totp"&&m.type==="totp"&&(!((c=m==null?void 0:m.totp)===null||c===void 0)&&c.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(l){if(J(l))return this._returnResult({data:null,error:l});throw l}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?eb(a.webauthn.credential_response):tb(a.webauthn.credential_response)})}:{code:a.code}),{data:g,error:m}=await te(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:m}))})}catch(l){if(J(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:h}=l;if(h)return this._returnResult({data:null,error:h});const f=await te(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:P0(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:F0(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(J(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(a){const{data:l,error:r}=await this._challenge({factorId:a.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:a.factorId,challengeId:l.id,code:a.code})}async _listFactors(){var a;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(a=l==null?void 0:l.factors)!==null&&a!==void 0?a:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(a){var l,r,c,h;if(a)try{const{payload:w}=rr(a);let A=null;w.aal&&(A=w.aal);let B=A;const{data:{user:H},error:$}=await this.getUser(a);if($)return this._returnResult({data:null,error:$});((r=(l=H==null?void 0:H.factors)===null||l===void 0?void 0:l.filter(W=>W.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(B="aal2");const q=w.amr||[];return{data:{currentLevel:A,nextLevel:B,currentAuthenticationMethods:q},error:null}}catch(w){if(J(w))return this._returnResult({data:null,error:w});throw w}const{data:{session:f},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=rr(f.access_token);let v=null;m.aal&&(v=m.aal);let b=v;((h=(c=f.user.factors)===null||c===void 0?void 0:c.filter(w=>w.status==="verified"))!==null&&h!==void 0?h:[]).length>0&&(b="aal2");const x=m.amr||[];return{data:{currentLevel:v,nextLevel:b,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:r.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new At})})}catch(l){if(J(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new At});const f=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&at()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(a,l){try{return await this._useSession(async r=>{const{data:{session:c},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new At});const f=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&at()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:l},error:r}=a;return r?this._returnResult({data:null,error:r}):l?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new At})})}catch(a){if(J(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new At})})}catch(l){if(J(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(a,l={keys:[]}){let r=l.keys.find(g=>g.kid===a);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(g=>g.kid===a),r&&this.jwks_cached_at+c0>c)return r;const{data:h,error:f}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,r=h.keys.find(g=>g.kid===a),!r)?null:r}async getClaims(a,l={}){try{let r=a;if(!r){const{data:w,error:A}=await this.getSession();if(A||!w.session)return this._returnResult({data:null,error:A});r=w.session.access_token}const{header:c,payload:h,signature:f,raw:{header:g,payload:m}}=rr(r);l!=null&&l.allowExpired||U0(h.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!v){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:h,header:c,signature:f},error:null}}const b=D0(c.alg),O=await crypto.subtle.importKey("jwk",v,b,!0,["verify"]);if(!await crypto.subtle.verify(b,O,f,b0(`${g}.${m}`)))throw new tc("Invalid JWT signature");return{data:{claims:h,header:c,signature:f},error:null}}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}}Ds.nextInstanceID={};const cb=Ds,hb="2.97.0";let Ts="";typeof Deno<"u"?Ts="deno":typeof document<"u"?Ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ts="react-native":Ts="node";const fb={"X-Client-Info":`supabase-js-${Ts}/${hb}`},db={headers:fb},mb={schema:"public"},gb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vb={};function zs(s){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},zs(s)}function yb(s,a){if(zs(s)!="object"||!s)return s;var l=s[Symbol.toPrimitive];if(l!==void 0){var r=l.call(s,a);if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}function pb(s){var a=yb(s,"string");return zs(a)=="symbol"?a:a+""}function bb(s,a,l){return(a=pb(a))in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function Gm(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);a&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),l.push.apply(l,r)}return l}function Me(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?Gm(Object(l),!0).forEach(function(r){bb(s,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):Gm(Object(l)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(l,r))})}return s}const _b=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),Sb=()=>Headers,wb=(s,a,l)=>{const r=_b(l),c=Sb();return async(h,f)=>{var g;const m=(g=await a())!==null&&g!==void 0?g:s;let v=new c(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),r(h,Me(Me({},f),{},{headers:v}))}};function Eb(s){return s.endsWith("/")?s:s+"/"}function Tb(s,a){var l,r;const{db:c,auth:h,realtime:f,global:g}=s,{db:m,auth:v,realtime:b,global:O}=a,x={db:Me(Me({},m),c),auth:Me(Me({},v),h),realtime:Me(Me({},b),f),storage:{},global:Me(Me(Me({},O),g),{},{headers:Me(Me({},(l=O==null?void 0:O.headers)!==null&&l!==void 0?l:{}),(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return s.accessToken?x.accessToken=s.accessToken:delete x.accessToken,x}function Ab(s){const a=s==null?void 0:s.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Eb(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ob=class extends cb{constructor(s){super(s)}},jb=class{constructor(s,a,l){var r,c;this.supabaseUrl=s,this.supabaseKey=a;const h=Ab(s);if(!a)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:mb,realtime:vb,auth:Me(Me({},gb),{},{storageKey:f}),global:db},m=Tb(l??{},g);if(this.storageKey=(r=m.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=m.global.headers)!==null&&c!==void 0?c:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(b,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=m.auth)!==null&&v!==void 0?v:{},this.headers,m.global.fetch)}this.fetch=wb(a,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Me({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new fp(new URL("rest/v1",h).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new s0(this.storageUrl.href,this.headers,this.fetch,l==null?void 0:l.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new ip(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,a={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,a,l)}channel(s,a={config:{}}){return this.realtime.channel(s,a)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,a,l;if(s.accessToken)return await s.accessToken();const{data:r}=await s.auth.getSession();return(a=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&a!==void 0?a:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,storageKey:h,flowType:f,lock:g,debug:m,throwOnError:v},b,O){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ob({url:this.authUrl.href,headers:Me(Me({},x),b),storageKey:h,autoRefreshToken:s,persistSession:a,detectSessionInUrl:l,storage:r,userStorage:c,flowType:f,lock:g,debug:m,throwOnError:v,fetch:O,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new xp(this.realtimeUrl.href,Me(Me({},s),{},{params:Me(Me({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(s,a,l){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Rb=(s,a,l)=>new jb(s,a,l);function xb(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const a=s.version;if(a==null)return!1;const l=a.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}xb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dg="https://tyskshialvzrjikuwajz.supabase.co".trim()||"",mg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR5c2tzaGlhbHZ6cmppa3V3YWp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE5NTc3NjQsImV4cCI6MjA4NzUzMzc2NH0.5UP4zWqTbeQ95xTy3ieNYy6AfsWhuMc9IvRUHWWr1tM".trim()||"";(!dg||!mg)&&console.warn("Supabase:  VITE_SUPABASE_URL  VITE_SUPABASE_ANON_KEY   .env");const wa=Rb(dg||"https://placeholder.supabase.co",mg||"placeholder"),gg="user_state";function Cb(s){if(!s||typeof s!="object")return!1;const a=s;return a.schemaVersion===1&&typeof a.months=="object"&&typeof a.savings=="object"}async function Nb(s){const{data:a,error:l}=await wa.from(gg).select("state").eq("user_id",s).maybeSingle();return l?(console.error("Failed to load user_state",l),As()):a&&Cb(a.state)?a.state:As()}async function Km(s,a){const{error:l}=await wa.from(gg).upsert({user_id:s,state:a,updated_at:new Date().toISOString()},{onConflict:"user_id"});l&&console.error("Failed to save user_state",l)}function Ub(s,a){var l,r;switch(a.type){case"state/replace":return a.next;case"month/ensure":return Ss(s,a.monthKey);case"month/setBudgetPlan":{const c=Ss(s,a.monthKey);return{...c,months:{...c.months,[a.monthKey]:{...c.months[a.monthKey],budgetPlan:Bt(a.budgetPlan)}}}}case"income/add":{const c=Ss(s,a.monthKey),h=Date.now(),f={id:ws.newId(),date:a.date??cr(new Date),amount:Bt(a.amount),comment:((l=a.comment)==null?void 0:l.trim())||void 0,createdAt:h};return{...c,months:{...c.months,[a.monthKey]:{...c.months[a.monthKey],incomes:[f,...c.months[a.monthKey].incomes]}}}}case"income/delete":{const c=s.months[a.monthKey];return c?{...s,months:{...s.months,[a.monthKey]:{...c,incomes:c.incomes.filter(h=>h.id!==a.id)}}}:s}case"income/update":{const c=s.months[a.monthKey];return c?{...s,months:{...s.months,[a.monthKey]:{...c,incomes:c.incomes.map(h=>{var f;return h.id===a.id?{...h,amount:Bt(a.amount),comment:((f=a.comment)==null?void 0:f.trim())||void 0,date:a.date}:h})}}}:s}case"category/add":{const c=Ss(s,a.monthKey),h=Date.now(),f={id:ws.newId(),name:a.name.trim(),planned:Bt(a.planned),createdAt:h};return{...c,months:{...c.months,[a.monthKey]:{...c.months[a.monthKey],categories:[f,...c.months[a.monthKey].categories]}}}}case"category/update":{const c=s.months[a.monthKey];return c?{...s,months:{...s.months,[a.monthKey]:{...c,categories:c.categories.map(h=>h.id===a.id?{...h,name:a.name.trim(),planned:Bt(a.planned)}:h)}}}:s}case"category/delete":{const c=s.months[a.monthKey];if(!c)return s;const h=c.expenses.some(m=>m.categoryId===a.id),f=c.categories.filter(m=>m.id!==a.id),g=h?c.expenses.filter(m=>m.categoryId!==a.id):c.expenses;return{...s,months:{...s.months,[a.monthKey]:{...c,categories:f,expenses:g}}}}case"expense/add":{const c=Ss(s,a.monthKey),h=Date.now(),f={id:ws.newId(),date:a.date??cr(new Date),categoryId:a.categoryId,amount:Bt(a.amount),comment:((r=a.comment)==null?void 0:r.trim())||void 0,createdAt:h};return{...c,months:{...c.months,[a.monthKey]:{...c.months[a.monthKey],expenses:[f,...c.months[a.monthKey].expenses]}}}}case"expense/delete":{const c=s.months[a.monthKey];return c?{...s,months:{...s.months,[a.monthKey]:{...c,expenses:c.expenses.filter(h=>h.id!==a.id)}}}:s}case"expense/update":{const c=s.months[a.monthKey];return c?{...s,months:{...s.months,[a.monthKey]:{...c,expenses:c.expenses.map(h=>{var f;return h.id===a.id?{...h,categoryId:a.categoryId,amount:Bt(a.amount),comment:((f=a.comment)==null?void 0:f.trim())||void 0,date:a.date}:h})}}}:s}case"savingsCategory/add":{const c=Date.now(),h={id:ws.newId(),name:a.name.trim(),balance:0,createdAt:c};return{...s,savings:{...s.savings,categories:[h,...s.savings.categories]}}}case"savingsCategory/delete":{const c=s.savings.categories.filter(f=>f.id!==a.id),h=s.savings.transactions.filter(f=>f.savingsCategoryId!==a.id);return{...s,savings:{categories:c,transactions:h}}}case"savings/txn":{const c=Date.now(),h={...a.txn,id:ws.newId(),createdAt:c},f=s.savings.categories.map(g=>{if(g.id!==h.savingsCategoryId)return g;const m=h.type==="deposit"?h.amount:-h.amount;return{...g,balance:Bt(g.balance+m)}});return{...s,savings:{categories:f,transactions:[h,...s.savings.transactions]}}}case"savings/txnDelete":{const c=s.savings.transactions.find(f=>f.id===a.id);if(!c)return s;const h=s.savings.categories.map(f=>{if(f.id!==c.savingsCategoryId)return f;const g=c.type==="deposit"?-c.amount:c.amount;return{...f,balance:Bt(f.balance+g)}});return{...s,savings:{categories:h,transactions:s.savings.transactions.filter(f=>f.id!==a.id)}}}case"savings/txnUpdate":{const c=s.savings.transactions.find(m=>m.id===a.id);if(!c)return s;const f=s.savings.categories.map(m=>{if(m.id!==c.savingsCategoryId)return m;const v=c.type==="deposit"?-c.amount:c.amount;return{...m,balance:Bt(m.balance+v)}}).map(m=>{if(m.id!==a.savingsCategoryId)return m;const v=a.operationType==="deposit"?a.amount:-a.amount;return{...m,balance:Bt(m.balance+v)}}),g=s.savings.transactions.map(m=>{var v;return m.id===a.id?{...m,type:a.operationType,amount:Bt(a.amount),comment:((v=a.comment)==null?void 0:v.trim())||void 0,date:a.date,savingsCategoryId:a.savingsCategoryId,monthKey:a.monthKey}:m});return{...s,savings:{categories:f,transactions:g}}}default:return s}}function Db(s){const[a,l]=re.useReducer(Ub,void 0,vm);re.useEffect(()=>{ep(a)},[a]),re.useEffect(()=>{if(!s)return;let c=!1;return(async()=>{const h=await Nb(s);if(c)return;const f=vm();if(ym(h)&&!ym(f)){Km(s,f);return}l({type:"state/replace",next:h})})(),()=>{c=!0}},[s]),re.useEffect(()=>{if(!s)return;const c=setTimeout(()=>{Km(s,a)},500);return()=>clearTimeout(c)},[s,a]);const r=re.useMemo(()=>ac(new Date),[]);return{state:a,dispatch:l,currentMonthKey:r}}function zb({session:s,onSessionChange:a}){const[l,r]=re.useState(""),[c,h]=re.useState(""),[f,g]=re.useState("signin"),[m,v]=re.useState(null),[b,O]=re.useState(!1);async function x(){v(null),O(!0);try{if(f==="signup"){const{data:w,error:A}=await wa.auth.signUp({email:l,password:c});if(A)throw A;a(w.session??null)}else{const{data:w,error:A}=await wa.auth.signInWithPassword({email:l,password:c});if(A)throw A;a(w.session??null)}}catch(w){v(w.message??" ")}finally{O(!1)}}return s?null:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card auth-card",children:[p.jsx("div",{className:"cardHeader",children:p.jsx("h2",{children:"  "})}),p.jsx("p",{className:"hint",children:" ,      Supabase      ."}),p.jsxs("form",{onSubmit:w=>{w.preventDefault(),x()},children:[p.jsxs("div",{className:"field",children:[p.jsx("label",{children:"Email"}),p.jsx("input",{className:"input",type:"email",value:l,onChange:w=>r(w.target.value),placeholder:"you@example.com",autoComplete:"email"})]}),p.jsxs("div",{className:"field",children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",type:"password",value:c,onChange:w=>h(w.target.value),placeholder:" 6 ",autoComplete:f==="signin"?"current-password":"new-password",onKeyDown:w=>{w.key==="Enter"&&(w.preventDefault(),x())}})]}),m?p.jsx("div",{className:"hint",style:{color:"#fca5a5"},children:m}):null,p.jsxs("div",{className:"auth-actions",children:[p.jsx("button",{type:"submit",className:"btn btnPrimary",disabled:b,children:f==="signin"?"":" "}),p.jsx("button",{type:"button",className:"btn",disabled:b,onClick:()=>g(f==="signin"?"signup":"signin"),children:f==="signin"?" ":"    "})]})]})]})})}function kb(s){if(!s||typeof s!="object")return!1;const a=s;return a.schemaVersion===1&&typeof a.months=="object"&&a.months!==null&&typeof a.savings=="object"&&a.savings!==null}function Mb(s){return JSON.stringify(s,null,2)}function Bb(s){try{const a=JSON.parse(s);return kb(a)?a:null}catch{return null}}function Lb(){const s=new Date,a=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getDate()).padStart(2,"0");return`expense-tracker-backup-${a}-${l}-${r}.json`}function qb({state:s,onReplace:a}){const l=re.useRef(null);function r(){const h=Mb(s),f=new Blob([h],{type:"application/json"}),g=URL.createObjectURL(f),m=document.createElement("a");m.href=g,m.download=Lb(),m.click(),URL.revokeObjectURL(g)}function c(h){var m;const f=(m=h.target.files)==null?void 0:m[0];if(h.target.value="",!f)return;const g=new FileReader;g.onload=()=>{const v=g.result,b=Bb(v);if(!b){alert("  .     (.json).");return}confirm("   ?     .")&&a(b)},g.readAsText(f,"UTF-8")}return p.jsxs("div",{className:"backup-wrap",children:[p.jsx("button",{type:"button",className:"btnIcon",onClick:r,title:"  ",children:p.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":!0,children:p.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zm-7 10v-2h2v2h-2z"})})}),p.jsx("button",{type:"button",className:"btnIcon",onClick:()=>{var h;return(h=l.current)==null?void 0:h.click()},title:"  ",children:p.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":!0,children:p.jsx("path",{d:"M9 16h6v-6h4l-7-8-7 8h4v6z"})})}),p.jsx("input",{ref:l,type:"file",accept:".json,application/json",style:{display:"none"},onChange:c})]})}function Hb({monthKey:s,m:a,state:l,dispatch:r,formatMoney:c}){const[h,f]=re.useState(null),g=[];return a.incomes.forEach(m=>g.push({date:m.date,createdAt:m.createdAt,key:`i:${m.id}`,kind:"income",data:m})),a.expenses.forEach(m=>g.push({date:m.date,createdAt:m.createdAt,key:`e:${m.id}`,kind:"expense",data:m})),l.savings.transactions.filter(m=>m.monthKey===s).forEach(m=>g.push({date:m.date,createdAt:m.createdAt,key:`s:${m.id}`,kind:"savings",data:m})),g.sort((m,v)=>m.date!==v.date?v.date.localeCompare(m.date):v.createdAt-m.createdAt),g.length?p.jsx(p.Fragment,{children:g.map(m=>{if(h&&h.kind===m.kind&&h.id===m.data.id&&h){const w=()=>{if(h.kind==="income"){const A=Sn(h.amount);if(A===null||A<=0)return;r({type:"income/update",monthKey:s,id:h.id,amount:A,comment:h.comment,date:h.date})}else if(h.kind==="expense"){const A=Sn(h.amount);if(A===null||A<=0)return;r({type:"expense/update",monthKey:s,id:h.id,categoryId:h.categoryId,amount:A,comment:h.comment,date:h.date})}else{const A=Sn(h.amount);if(A===null||A<=0)return;r({type:"savings/txnUpdate",id:h.id,operationType:h.type,amount:A,comment:h.comment,date:h.date,savingsCategoryId:h.savingsCategoryId,monthKey:s})}f(null)};return p.jsxs("div",{className:"listItem history-edit",children:[p.jsxs("div",{className:"row",style:{flex:1,flexWrap:"wrap",gap:8},children:[h.kind==="income"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"field",style:{minWidth:100},children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",value:h.amount,inputMode:"decimal",onChange:A=>f({...h,amount:A.target.value})})]}),p.jsxs("div",{className:"field",style:{minWidth:120},children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",type:"date",value:h.date,onChange:A=>f({...h,date:A.target.value})})]}),p.jsxs("div",{className:"field",style:{flex:1,minWidth:140},children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",value:h.comment,onChange:A=>f({...h,comment:A.target.value})})]})]}),h.kind==="expense"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"field",style:{minWidth:140},children:[p.jsx("label",{children:""}),p.jsx("select",{className:"select",value:h.categoryId,onChange:A=>f({...h,categoryId:A.target.value}),children:a.categories.map(A=>p.jsx("option",{value:A.id,children:A.name},A.id))})]}),p.jsxs("div",{className:"field",style:{minWidth:90},children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",value:h.amount,inputMode:"decimal",onChange:A=>f({...h,amount:A.target.value})})]}),p.jsxs("div",{className:"field",style:{minWidth:120},children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",type:"date",value:h.date,onChange:A=>f({...h,date:A.target.value})})]}),p.jsxs("div",{className:"field",style:{flex:1,minWidth:100},children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",value:h.comment,onChange:A=>f({...h,comment:A.target.value})})]})]}),h.kind==="savings"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"field",style:{minWidth:140},children:[p.jsx("label",{children:""}),p.jsx("select",{className:"select",value:h.savingsCategoryId,onChange:A=>f({...h,savingsCategoryId:A.target.value}),children:l.savings.categories.map(A=>p.jsx("option",{value:A.id,children:A.name},A.id))})]}),p.jsxs("div",{className:"field",style:{minWidth:100},children:[p.jsx("label",{children:""}),p.jsxs("select",{className:"select",value:h.type,onChange:A=>f({...h,type:A.target.value}),children:[p.jsx("option",{value:"deposit",children:""}),p.jsx("option",{value:"withdraw",children:""})]})]}),p.jsxs("div",{className:"field",style:{minWidth:90},children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",value:h.amount,inputMode:"decimal",onChange:A=>f({...h,amount:A.target.value})})]}),p.jsxs("div",{className:"field",style:{minWidth:120},children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",type:"date",value:h.date,onChange:A=>f({...h,date:A.target.value})})]}),p.jsxs("div",{className:"field",style:{flex:1,minWidth:100},children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",value:h.comment,onChange:A=>f({...h,comment:A.target.value})})]})]})]}),p.jsxs("div",{className:"row-btns",children:[p.jsx("button",{type:"button",className:"btn btnPrimary",onClick:w,children:""}),p.jsx("button",{type:"button",className:"btn",onClick:()=>f(null),children:""})]})]},m.key)}if(m.kind==="income"){const w=m.data;return p.jsxs("div",{className:"listItem",children:[p.jsxs("div",{children:[p.jsxs("strong",{className:"pos",children:["+ ",c(w.amount)]}),p.jsxs("div",{className:"meta",children:[w.date,w.comment?`  ${w.comment}`:""]})]}),p.jsxs("div",{className:"row-btns",children:[p.jsx("button",{type:"button",className:"btn",onClick:()=>f({kind:"income",id:w.id,amount:String(w.amount),comment:w.comment??"",date:w.date}),children:""}),p.jsx("button",{type:"button",className:"btn btnDanger",onClick:()=>r({type:"income/delete",monthKey:s,id:w.id}),children:""})]})]},m.key)}if(m.kind==="expense"){const w=m.data,A=a.categories.find(B=>B.id===w.categoryId);return p.jsxs("div",{className:"listItem",children:[p.jsxs("div",{children:[p.jsxs("strong",{className:"neg",children:["- ",c(w.amount)]}),p.jsxs("div",{className:"meta",children:[w.date,"  ",(A==null?void 0:A.name)??" ",w.comment?`  ${w.comment}`:""]})]}),p.jsxs("div",{className:"row-btns",children:[p.jsx("button",{type:"button",className:"btn",onClick:()=>f({kind:"expense",id:w.id,categoryId:w.categoryId,amount:String(w.amount),comment:w.comment??"",date:w.date}),children:""}),p.jsx("button",{type:"button",className:"btn btnDanger",onClick:()=>r({type:"expense/delete",monthKey:s,id:w.id}),children:""})]})]},m.key)}const b=m.data,O=l.savings.categories.find(w=>w.id===b.savingsCategoryId),x=b.type==="deposit";return p.jsxs("div",{className:"listItem",children:[p.jsxs("div",{children:[p.jsxs("strong",{className:x?"neg":"pos",children:[x?"- ":"+ ",c(b.amount)]}),p.jsxs("div",{className:"meta",children:[b.date,"  : ",(O==null?void 0:O.name)??" ",b.comment?`  ${b.comment}`:""]})]}),p.jsxs("div",{className:"row-btns",children:[p.jsx("button",{type:"button",className:"btn",onClick:()=>f({kind:"savings",id:b.id,type:b.type,savingsCategoryId:b.savingsCategoryId,amount:String(b.amount),comment:b.comment??"",date:b.date}),children:""}),p.jsx("button",{type:"button",className:"btn btnDanger",onClick:()=>r({type:"savings/txnDelete",id:b.id}),children:""})]})]},m.key)})}):p.jsx("div",{className:"hint",children:"     ."})}function ur({title:s,hint:a}){return p.jsxs("div",{className:"cardHeader",children:[p.jsx("h2",{children:s}),a?p.jsx("span",{className:"hint",children:a}):null]})}function $b(){var Ai,Aa,Oa;const[s,a]=re.useState(null),[l,r]=re.useState(!1);re.useEffect(()=>{(async()=>{const{data:Lt}=await wa.auth.getSession();a(Lt.session??null),r(!0)})();const{data:L}=wa.auth.onAuthStateChange((Lt,Ft)=>{a(Ft)});return()=>{L.subscription.unsubscribe()}},[]);const c=((Ai=s==null?void 0:s.user)==null?void 0:Ai.id)??null,{state:h,dispatch:f,currentMonthKey:g}=Db(c),[m,v]=re.useState(g),b=h.months[m],O=or(m,-1),x=h.months[O];b?b.categories.length===0&&(x!=null&&x.categories.length)&&f({type:"month/ensure",monthKey:m}):f({type:"month/ensure",monthKey:m});const w=h.months[m],A=re.useMemo(()=>Qm(h,m),[h,m]),B=re.useMemo(()=>Xm(h,m),[h,m]),H=re.useMemo(()=>Wy(h,m),[h,m]),$=re.useMemo(()=>Py(h),[h]),V=re.useMemo(()=>H+$,[H,$]),[q,W]=re.useState(String(w.budgetPlan||"")),[pe,ae]=re.useState(""),[Z,Re]=re.useState(""),[De,Wt]=re.useState(""),[mt,Ie]=re.useState(""),[Pt,gt]=re.useState(null),[lt,D]=re.useState(""),[G,P]=re.useState(""),[ge,_e]=re.useState(((Aa=w.categories[0])==null?void 0:Aa.id)??""),[E,M]=re.useState(""),[K,Y]=re.useState(""),[ne,ue]=re.useState(cr(new Date)),[me,Qe]=re.useState(""),[Ee,En]=re.useState(((Oa=h.savings.categories[0])==null?void 0:Oa.id)??""),[Wn,Ei]=re.useState("deposit"),[Ti,Qt]=re.useState(""),[Ea,Ta]=re.useState("");re.useEffect(()=>{const L=h.savings.categories.map(Lt=>Lt.id);L.length&&(!Ee||!L.includes(Ee))&&En(L[0])},[h.savings.categories,Ee]);const pr=Zy(m);return l?s?p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"topbar",children:[p.jsxs("div",{className:"brand",children:[p.jsx("strong",{children:"  "}),p.jsx("span",{children:"   Supabase   "})]}),p.jsxs("div",{className:"monthNav",children:[p.jsx("button",{className:"btn",onClick:()=>{const L=or(m,-1);f({type:"month/ensure",monthKey:L}),v(L)},children:""}),p.jsxs("div",{style:{minWidth:220,textAlign:"center"},children:[p.jsx("div",{style:{fontSize:13,color:"var(--muted)"},children:""}),p.jsx("div",{style:{fontSize:16},children:pr})]}),p.jsx("button",{className:"btn",onClick:()=>{const L=or(m,1);f({type:"month/ensure",monthKey:L}),v(L)},children:""}),p.jsx("button",{className:"btn btnPrimary",onClick:()=>{f({type:"month/ensure",monthKey:g}),v(g)},disabled:m===g,children:""}),p.jsx(qb,{state:h,onReplace:L=>f({type:"state/replace",next:L})}),p.jsx("button",{type:"button",className:"btnIcon",onClick:()=>void wa.auth.signOut(),title:"",children:p.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":!0,children:p.jsx("path",{d:"M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5-5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"})})})]})]}),p.jsxs("main",{className:"main-content",children:[p.jsxs("div",{className:"grid2",children:[p.jsxs("div",{className:"card",children:[p.jsx(ur,{title:" ",hint:" +     "}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"field",style:{maxWidth:260},children:[p.jsx("label",{children:"   "}),p.jsx("input",{className:"input",value:q,inputMode:"decimal",placeholder:" 60000",onChange:L=>W(L.target.value),onBlur:()=>{const L=Sn(q);L!==null&&f({type:"month/setBudgetPlan",monthKey:m,budgetPlan:L})}}),p.jsx("div",{className:"hint",children:"   "})]}),p.jsxs("div",{className:"kpi",style:{flex:2},children:[p.jsxs("div",{className:"kpiItem",children:[p.jsx("div",{className:"label",children:" "}),p.jsx("div",{className:"value",children:Gt(A)})]}),p.jsxs("div",{className:"kpiItem",children:[p.jsx("div",{className:"label",children:""}),p.jsx("div",{className:"value",children:Gt(B)})]}),p.jsxs("div",{className:"kpiItem",children:[p.jsx("div",{className:"label",children:""}),p.jsx("div",{className:"value",children:Gt(w.budgetPlan)})]}),p.jsxs("div",{className:"kpiItem",children:[p.jsx("div",{className:"label",children:"  "}),p.jsx("div",{className:`value ${H<0?"neg":""}`,children:Gt(H)})]}),p.jsxs("div",{className:"kpiItem",children:[p.jsx("div",{className:"label",children:"  "}),p.jsx("div",{className:`value ${V<0?"neg":""}`,children:Gt(V)})]})]})]}),p.jsx("div",{style:{height:10}}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"field",children:[p.jsx("label",{children:" "}),p.jsx("input",{className:"input",value:pe,inputMode:"decimal",placeholder:"",onChange:L=>ae(L.target.value)})]}),p.jsxs("div",{className:"field",children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",value:Z,placeholder:": , ",onChange:L=>Re(L.target.value)})]}),p.jsx("div",{className:"row-btns",children:p.jsx("button",{className:"btn btnPrimary",onClick:()=>{const L=Sn(pe);L===null||L<=0||(f({type:"income/add",monthKey:m,amount:L,comment:Z}),ae(""),Re(""))},children:""})})]}),w.incomes.length?p.jsx("div",{className:"list",children:w.incomes.slice(0,8).map(L=>p.jsxs("div",{className:"listItem",children:[p.jsxs("div",{children:[p.jsx("strong",{children:Gt(L.amount)}),p.jsxs("div",{className:"meta",children:[L.date,L.comment?`  ${L.comment}`:""]})]}),p.jsx("button",{className:"btn btnDanger",onClick:()=>f({type:"income/delete",monthKey:m,id:L.id}),children:""})]},L.id))}):p.jsx("div",{className:"hint",children:"   ."})]}),p.jsxs("div",{className:"card",children:[p.jsx(ur,{title:" ",hint:"    "}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"field",children:[p.jsx("label",{children:"  "}),p.jsx("input",{className:"input",value:me,placeholder:": ",onChange:L=>Qe(L.target.value)})]}),p.jsx("div",{className:"row-btns",children:p.jsx("button",{className:"btn btnPrimary",onClick:()=>{const L=me.trim();L&&(f({type:"savingsCategory/add",name:L}),Qe(""))},children:""})})]}),p.jsx("div",{style:{height:10}}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"field",children:[p.jsx("label",{children:""}),p.jsxs("select",{className:"select",value:Ee,onChange:L=>En(L.target.value),disabled:!h.savings.categories.length,children:[h.savings.categories.length?null:p.jsx("option",{value:"",children:"  "}),h.savings.categories.map(L=>p.jsx("option",{value:L.id,children:L.name},L.id))]})]}),p.jsxs("div",{className:"field",style:{maxWidth:220},children:[p.jsx("label",{children:""}),p.jsxs("select",{className:"select",value:Wn,onChange:L=>Ei(L.target.value),children:[p.jsx("option",{value:"deposit",children:" (  )"}),p.jsx("option",{value:"withdraw",children:" (  )"})]})]}),p.jsxs("div",{className:"field",children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",value:Ti,inputMode:"decimal",placeholder:" 5000",onChange:L=>Qt(L.target.value)})]}),p.jsxs("div",{className:"field",children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",value:Ea,placeholder:":  ",onChange:L=>Ta(L.target.value)})]}),p.jsx("div",{className:"row-btns",children:p.jsx("button",{className:"btn btnPrimary",disabled:!h.savings.categories.length,onClick:()=>{const L=Sn(Ti);Ee&&(L===null||L<=0||(f({type:"savings/txn",txn:{type:Wn,date:cr(new Date),monthKey:m,savingsCategoryId:Ee,amount:L,comment:Ea.trim()||void 0}}),Qt(""),Ta("")))},children:""})})]}),p.jsxs("div",{className:"list",children:[h.savings.categories.map(L=>p.jsxs("div",{className:"listItem",children:[p.jsxs("div",{children:[p.jsx("strong",{children:L.name})," ",p.jsxs("span",{className:"pill",children:[": ",Gt(L.balance)]})]}),p.jsx("button",{className:"btn btnDanger",onClick:()=>f({type:"savingsCategory/delete",id:L.id}),children:""})]},L.id)),h.savings.categories.length?null:p.jsx("div",{className:"hint",children:"   ."})]})]})]}),p.jsxs("div",{className:"grid2",children:[p.jsxs("div",{className:"card",children:[p.jsx(ur,{title:"  ",hint:"   +  "}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"field",children:[p.jsx("label",{children:" "}),p.jsx("input",{className:"input",value:De,placeholder:": ",onChange:L=>Wt(L.target.value)})]}),p.jsxs("div",{className:"field",children:[p.jsx("label",{children:" ( )"}),p.jsx("input",{className:"input",value:mt,inputMode:"decimal",placeholder:" 15000",onChange:L=>Ie(L.target.value)})]}),p.jsx("div",{className:"row-btns",children:p.jsx("button",{className:"btn btnPrimary",onClick:()=>{var Xe,Oi;const L=De.trim(),Lt=Sn(mt)??0;if(!L)return;f({type:"category/add",monthKey:m,name:L,planned:Lt}),Wt(""),Ie("");const Ft=(Oi=(Xe=h.months[m])==null?void 0:Xe.categories[0])==null?void 0:Oi.id;Ft&&_e(Ft)},children:""})})]}),p.jsx("div",{style:{height:10}}),p.jsxs("div",{className:"row",children:[p.jsxs("div",{className:"field",children:[p.jsx("label",{children:""}),p.jsxs("select",{className:"select",value:ge,onChange:L=>_e(L.target.value),disabled:!w.categories.length,children:[w.categories.length?null:p.jsx("option",{value:"",children:"  "}),w.categories.map(L=>p.jsx("option",{value:L.id,children:L.name},L.id))]})]}),p.jsxs("div",{className:"field",children:[p.jsx("label",{children:" "}),p.jsx("input",{className:"input",value:E,inputMode:"decimal",placeholder:" 799",onChange:L=>M(L.target.value)})]}),p.jsxs("div",{className:"field",children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",type:"date",value:ne,onChange:L=>ue(L.target.value)})]}),p.jsxs("div",{className:"field",children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",value:K,placeholder:"",onChange:L=>Y(L.target.value)})]}),p.jsx("div",{className:"row-btns",children:p.jsx("button",{className:"btn btnPrimary",disabled:!w.categories.length,onClick:()=>{const L=Sn(E);ge&&(L===null||L<=0||(f({type:"expense/add",monthKey:m,categoryId:ge,amount:L,comment:K,date:ne}),M(""),Y("")))},children:""})})]}),p.jsxs("div",{className:"list",children:[w.categories.map(L=>{const Lt=Fy(h,m,L.id),Ft=L.planned-Lt,Xe=Ft<0;return Pt===L.id?p.jsxs("div",{className:"listItem",children:[p.jsxs("div",{className:"row",style:{flex:1,flexWrap:"wrap",gap:10},children:[p.jsxs("div",{className:"field",style:{minWidth:140},children:[p.jsx("label",{children:""}),p.jsx("input",{className:"input",value:lt,onChange:en=>D(en.target.value),placeholder:""})]}),p.jsxs("div",{className:"field",style:{minWidth:120},children:[p.jsx("label",{children:" ()"}),p.jsx("input",{className:"input",value:G,inputMode:"decimal",onChange:en=>P(en.target.value)})]})]}),p.jsxs("div",{className:"row-btns",children:[p.jsx("button",{className:"btn btnPrimary",onClick:()=>{const en=lt.trim(),Bs=Sn(G)??0;en&&(f({type:"category/update",monthKey:m,id:L.id,name:en,planned:Bs}),gt(null))},children:""}),p.jsx("button",{className:"btn",onClick:()=>gt(null),children:""})]})]},L.id):p.jsxs("div",{className:"listItem",children:[p.jsxs("div",{children:[p.jsx("strong",{children:L.name})," ",p.jsxs("span",{className:`pill ${Xe?"pillDanger":""}`,children:[": ",Gt(Ft)]}),p.jsxs("div",{className:"meta metaSmall",children:[": ",p.jsx("strong",{children:Gt(L.planned)}),"  : ",p.jsx("strong",{children:Gt(Lt)})]})]}),p.jsxs("div",{className:"row-btns",children:[p.jsx("button",{className:"btn",onClick:()=>{gt(L.id),D(L.name),P(String(L.planned))},children:""}),p.jsx("button",{className:"btn btnDanger",onClick:()=>f({type:"category/delete",monthKey:m,id:L.id}),children:""})]})]},L.id)}),w.categories.length?null:p.jsx("div",{className:"hint",children:"  ."})]})]}),p.jsxs("div",{className:"card",children:[p.jsx(ur,{title:"  ()",hint:" /  / "}),p.jsx("div",{className:"list",children:p.jsx(Hb,{monthKey:m,m:w,state:h,dispatch:f,formatMoney:Gt})})]})]})]})]}):p.jsx(zb,{session:s,onSessionChange:a}):p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card",style:{margin:"80px auto",maxWidth:360,textAlign:"center",padding:24},children:[p.jsx("div",{style:{fontSize:18},children:""}),p.jsx("div",{className:"hint",style:{marginTop:8},children:"   "})]})})}function Gb({error:s}){return p.jsxs("div",{style:{padding:24,maxWidth:560,margin:"40px auto",background:"#1e293b",color:"#f1f5f9",borderRadius:12,fontFamily:"system-ui, sans-serif"},children:[p.jsx("h2",{style:{margin:"0 0 12px"},children:" "}),p.jsx("pre",{style:{margin:0,fontSize:13,overflow:"auto"},children:s.message}),p.jsx("p",{style:{margin:"12px 0 0",fontSize:13,color:"#94a3b8"},children:"   (F12  Console),     ."})]})}class Kb extends Ym.Component{constructor(){super(...arguments);im(this,"state",{error:null})}static getDerivedStateFromError(l){return{error:l}}render(){return this.state.error?p.jsx(Gb,{error:this.state.error}):this.props.children}}const vg=document.getElementById("root");if(!vg)throw new Error("No #root element");Jy.createRoot(vg).render(p.jsx(Ym.StrictMode,{children:p.jsx(Kb,{children:p.jsx($b,{})})}));
